(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{278:function(t,e,r){var content=r(286);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(32).default)("0a18e831",content,!0,{sourceMap:!1})},279:function(t,e,r){var content=r(288);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(32).default)("20035751",content,!0,{sourceMap:!1})},280:function(t,e,r){"use strict";var n={name:"PageHeaderItem"},o=(r(285),r(16)),component=Object(o.a)(n,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"page-header-item"},[this._t("default")],2)}),[],!1,null,null,null);e.a=component.exports},281:function(t,e,r){var content=r(297);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(32).default)("cda4275e",content,!0,{sourceMap:!1})},285:function(t,e,r){"use strict";var n=r(278);r.n(n).a},286:function(t,e,r){(e=r(31)(!1)).push([t.i,".page-header-item{flex:0 1 auto;margin-bottom:7px;margin-top:8px;background:#c2cfd6;display:block;padding-left:.5rem;overflow:visible;height:34.9333px;min-height:34.9333px;max-height:34.9333px;min-width:20px}.page-header-item .btn{height:34.9333px}.page-header-item *{height:34.9333px;max-height:34.9333px}.header-button-icon{width:34.9333px;font-size:16px;padding:4px}",""]),t.exports=e},287:function(t,e,r){"use strict";var n=r(279);r.n(n).a},288:function(t,e,r){(e=r(31)(!1)).push([t.i,".page-header{flex-grow:0!important;flex-shrink:0!important;height:49.9333px!important;margin-bottom:0!important;border-bottom:0!important;border-radius:0!important;width:calc(100vw - 120px);display:flex;flex-direction:row;background:#c2cfd6;overflow:visible}",""]),t.exports=e},289:function(t,e,r){"use strict";var n={name:"PageHeader",props:{},components:{PageHeaderItem:r(280).a},methods:{}},o=(r(287),r(16)),component=Object(o.a)(n,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"page-header"},[this._t("default")],2)}),[],!1,null,null,null);e.a=component.exports},296:function(t,e,r){"use strict";var n=r(281);r.n(n).a},297:function(t,e,r){(e=r(31)(!1)).push([t.i,".vue-slider{padding:4px}.vue-slider-rail{background:#f0f3f5!important}.vue-slider-dot{background:#1985ac;border-radius:50%}.slider-container{display:flex;flex-direction:column;padding-left:4px;padding-right:4px}.slider-caption{height:14px;margin-bottom:4px}",""]),t.exports=e},298:function(t,e,r){"use strict";var n=r(15),o=r(44),l=r(325),c=r.n(l),d=r(280),f=r(293),h=r(309),m=r.n(h);r(8).default.use(m.a);var v={name:"PageHeaderSeek",props:{id:{type:String,default:"",required:!0}},components:{VueSlider:c.a,PageHeaderItem:d.a},beforeMount:function(){this.resetSeekPosition(),this.$root.$on(o.a.seek.get(this.id),this.getSeekPosition),this.$root.$on(o.a.seek.set(this.id),this.handleSeek),this.$root.$on(o.a.seek.reset(this.id),this.resetSeekPosition),this.$root.$on(o.a.seek.step_fw(this.id),this.stepForward),this.$root.$on(o.a.seek.step_bw(this.id),this.stepBackward)},beforeDestroy:function(){this.position=null,clearInterval(this.syncInterval),this.$root.$off(o.a.seek.get(this.id),this.getSeekPosition),this.$root.$off(o.a.seek.set(this.id),this.handleSeek),this.$root.$off(o.a.seek.reset(this.id),this.resetSeekPosition),this.$root.$off(o.a.seek.step_fw(this.id),this.stepForward),this.$root.$off(o.a.seek.step_bw(this.id),this.stepBackward)},methods:{setSeekPosition:function(){var t=this;Object(n.x)(this.id,this.position).then((function(e){t.position=e}))},handleSeek:Object(f.b)(100,!0,Object(f.a)(25,!0,(function(){this.setSeekPosition()}))),resetSeekPosition:function(){console.log("PageHeaderSeek(".concat(this.id,".resetSeek()")),this.position=null,this.handleSeek()},stepForward:function(){this.position=this.position+this.step,this.handleSeek()},stepBackward:function(){this.position=this.position-this.step,this.handleSeek()},formatTooltip:function(t){return"".concat(Math.round(100*t),"%")}},computed:{keymap:function(){return{right:this.stepForward,left:this.stepBackward}}},data:function(){return{position:null,step:.01,options:{dotSize:14,width:120,height:4,contained:!1,direction:"ltr",data:null,min:0,max:1,interval:.01,disabled:!1,clickable:!0,duration:.05,adsorb:!1,lazy:!1,tooltip:"active",tooltipPlacement:"bottom",tooltipFormatter:this.formatTooltip,useKeyboard:!0,keydownHook:null,dragOnClick:!1,enableCross:!0,fixed:!1,order:!0,marks:!1,process:!1},syncInterval:null}}},y=(r(296),r(16)),component=Object(y.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("PageHeaderItem",[r("div",{staticClass:"slider-container"},[r("div",{staticClass:"slider-caption"},[t._v("Seek position")]),t._v(" "),r("vue-slider",t._b({ref:"slider",on:{change:t.handleSeek},model:{value:t.position,callback:function(e){t.position=e},expression:"position"}},"vue-slider",t.options,!1))],1)])}),[],!1,null,null,null);e.a=component.exports},326:function(t,e,r){var content=r(483);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(32).default)("23526918",content,!0,{sourceMap:!1})},481:function(t,e,r){!function(t){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter((function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})))),r.forEach((function(e){n(t,e,a[e])}))}return t}function p(t){return function(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(t,a){if(u(t))return t===a;var e=Object.keys(t);return e.length===Object.keys(a).length&&-1===e.findIndex((function(e){return!a.hasOwnProperty(e)||t[e]!==a[e]}))}function u(t){return null===t||/string|number|boolean|undefined/.test(e(t))}function i(a,t){return Object.keys(t).forEach((function(e){var r=t[e];u(r)?a[e]=r:r instanceof Array?a[e]=p(r):r instanceof Function?a[e]=r:(a[e]||(a[e]={}),i(a[e],r))})),a}var c=i;function a(t){return i({},t)}function d(t){for(var e in t)delete t[e]}function s(t){for(var e in t)return!1;return!0}var f=Object.freeze({equals:l,isScalar:u,merge:i,assign:c,clone:a,clear:d,isEmpty:s}),h=["anyOf","oneOf","enum"],m=Object.freeze({ARRAY:"array",BOOLEAN:"boolean",INTEGER:"integer",NUMBER:"number",OBJECT:"object",STRING:"string"}),v=Object.freeze({CHECKBOX:"checkbox",EMAIL:"email",HIDDEN:"hidden",NUMBER:"number",RADIO:"radio",SELECT:"select",SWITCH:"switch",TEXT:"text",TEXTAREA:"textarea",URL:"url"}),y=Object.freeze([m.INTEGER,m.NUMBER]);function b(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function k(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=b()+b();return t?"".concat(t,"-").concat(e):e}function g(t,e){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null!==a?e.attrs.value=a:e.attrs.hasOwnProperty("value")?e.attrs.value=e.attrs.value:e.attrs.value=t.default,e.order=t.order,e.schemaType=t.type,e.label=t.title||"",e.description=t.description||"",e.attrs.id=e.attrs.id||k(e.attrs.name),e.attrs.required=t.required||!1,e.attrs.disabled=t.disabled||!1}function E(t){var e=t.target,a=t.field,r=t.data;switch(a.schemaType){case m.BOOLEAN:return!0===e.checked;case m.STRING:return r||"";case m.NUMBER:case m.INTEGER:if(void 0!==r)return Number(r);break;case m.ARRAY:return r||[];case m.OBJECT:return r||{}}return r}function O(t,a){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;switch(t.type){case m.OBJECT:t.required instanceof Array&&t.required.forEach((function(e){t.properties[e].required=!0}));var n=Object.keys(t.properties),i=t.order instanceof Array?t.order:n;i.length<n.length&&n.forEach((function(t){i.includes(t)||i.push(t)})),null===r&&(r={}),i.forEach((function(e){O(t.properties[e],a,e,r[e]||null)}));break;case m.BOOLEAN:a.push(function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r={attrs:t.attrs||{}};return e&&(r.attrs.name=e),g(t,r,a),r.attrs.type||(r.attrs.type=v.CHECKBOX),r.attrs.hasOwnProperty("checked")||(r.attrs.checked=!0===t.default),delete r.attrs.value,r}(t,e,r));break;case m.ARRAY:a.push(T(t,e,r));break;case m.INTEGER:case m.NUMBER:case m.STRING:for(var s=0;s<h.length;s++){var o=h[s];if(t.hasOwnProperty(o))return t.items={type:t.type,enum:t[o]},void a.push(T(t,e,r))}a.push(function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r={attrs:t.attrs||{}};if(t.pattern&&(r.attrs.pattern=t.pattern),t.format)switch(t.format){case"email":r.attrs.type||(r.attrs.type=v.EMAIL);break;case"uri":r.attrs.type||(r.attrs.type=v.URL)}return r.attrs.type||(r.attrs.type=y.includes(t.type)?v.NUMBER:v.TEXT),e&&(r.attrs.name=e),g(t,r,a),t.minLength&&(r.attrs.minlength=t.minLength),t.maxLength&&(r.attrs.maxlength=t.maxLength),r}(t,e,r))}}function x(t){return t.map((function(t){return"object"!==e(t)?{value:t,label:t}:t}))}var S=function(a){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return function(e,r){return t&&(e.name=a),e.name||(e.name=a?"".concat(a,"-"):"",e.name+=e.label.replace(/\s+/g,"-")),a&&(e.ref="".concat(a,"-").concat(r)),e.id||(e.id=k(e.name||a)),e}};function w(t){return t.items.filter((function(t){return t.checked||t.selected})).map((function(t){return t.value}))}function A(t){var e=t.items.reverse().find((function(t){return t.checked||t.selected}));return e?e.value:""}var _=[v.RADIO,v.CHECKBOX,v.SWITCH];function T(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r={attrs:t.attrs||{}};e&&(r.attrs.name=e),g(t,r,a),r.items=[],r.minItems=parseInt(t.minItems)||1,r.maxItems=parseInt(t.maxItems)||1e3;t:for(var n=0;n<h.length;n++){var i=h[n];if(t.hasOwnProperty(i))switch(i){case"enum":r.attrs.type||(r.attrs.type=v.SELECT),r.items=x(t[i]),void 0!==r.attrs.value&&0!==r.attrs.value.length||(r.attrs.value="array"===r.schemaType?w(r):A(r));break t;case"oneOf":r.attrs.type=v.RADIO,r.attrs.value=r.attrs.value||"",r.items=x(t[i]).map(S(e,!0)),void 0!==r.attrs.value&&0!==r.attrs.value.length||(r.attrs.value=A(r));break t;case"anyOf":r.attrs.type=v.CHECKBOX,r.attrs.value=r.attrs.value||[],r.items=x(t[i]).map(S(e)),r.isArrayField=!0,void 0!==r.attrs.value&&0!==r.attrs.value.length||(r.attrs.value=r.items.map((function(t){return t.checked?t.value:void 0})));break t}}return r.attrs.type?r.attrs.type===v.SELECT?(r.attrs.multiple=r.schemaType===m.ARRAY,r.attrs.value=r.attrs.value||r.attrs.multiple?[]:"",void 0!==r.attrs.value&&0!==r.attrs.value.length||(r.attrs.multiple?(r.isArrayField=!0,r.attrs.value=w(r)):r.attrs.value=A(r))):_.includes(r.attrs.type)||(r.isArrayField=!0):(r.isArrayField=!0,r.attrs.type=t.items&&y.includes(t.items.type)?t.items.type:v.TEXT),r}var $=[v.TEXTAREA,v.SELECT],C={functional:!0,render:function(t,e){var a=e.data,r=e.slots,n=a.field,i=[$.includes(n.attrs.type)?t(n.attrs.type,a,r().default):t("input",a)];return n.description&&i.push(t("small",n.description)),!n.label||n.isArrayField&&!$.includes(n.attrs.type)?1===i.length?i[0]:i:t(j,a,i)}},I={functional:!0,render:function(t,e){var a=e.data,r=e.slots,n=a.field.attrs.name,i=a.field.description,s=p(r().default);return i&&(s.unshift(t("legend",i)),delete a.field.description),t("fieldset",{attrs:{name:n}},s)}},P={functional:!0,render:function(t,e){var a=e.data,r=e.slots,n=[],i=a.field,s=p(r().default);return(i.attrs.required||i.attrs.placeholder)&&s.unshift(t("option",{attrs:{value:""}},i.attrs.placeholder)),n.push(t("select",a,s)),i.description&&n.push(t("small",i.description)),t(j,a,n)}},R={functional:!0,render:function(t,e){return t("div",{attrs:{"data-fs-array-inputs":!0}},(0,e.slots)().default)}},j={functional:!0,render:function(t,e){var a=e.data,r=e.slots,n=a.field;return t("div",{attrs:{"data-fs-field":n.attrs.id,"data-fs-required":n.attrs.required}},[t("label",{attrs:{for:n.attrs.id}},n.label),t("div",{attrs:{"data-fs-field-input":n.attrs.id}},r().default)])}},B={functional:!0,render:function(t,e){var a=e.data,r=e.slots,n=a.field,i=a.newItemButton,s=[];return n.isArrayField?i?(s.push(t(R,r().default)),s.push(t(N,i))):s.push(t(I,a,r().default)):s.push(t("fieldset",r().default)),n.description&&s.push(t("small",n.description)),n.label?t(j,a,s):1===s.length?s[0]:s}},N={functional:!0,render:function(t,e){var a=e.data;return t("button",{attrs:o({type:"button"},a.props),on:a.on},"Add")}},L={title:"h1",description:"p",formwrapper:"div",form:"form",text:C,select:P,option:"option",fieldset:B,error:{functional:!0,render:function(t,e){return t("div",{attrs:{"data-fs-error":!0}},(0,e.slots)().default)}}},H=function(){function t(){for(var e in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$={},L)this.set(e,L[e])}var e,a;return e=t,(a=[{key:"set",value:function(t,e){this.$[t]={type:t,component:e}}},{key:"input",value:function(t){var e=t.field,a=t.fieldParent,r=void 0===a?null:a,n=t.listeners,i=void 0===n?{}:n,s=e.attrs.type;return{element:e.hasOwnProperty("items")&&F.includes(s)?this.$.fieldset:this.$[s]||this.$[v.TEXT],data:{field:e,fieldParent:r,components:this.components,attrs:o({},e.attrs),props:{type:e.attrs.type,label:e.label,value:e.attrs.value},domProps:{},on:i}}}}])&&r(e.prototype,a),t}(),F=[v.RADIO,v.CHECKBOX,"input",v.TEXTAREA],D=(v.RADIO,v.TEXTAREA,v.SELECT,function(t,e){return"".concat(t.attrs.name,"-").concat(e)}),M={functional:!0,render:function(t,r){var a=r.data,n=r.props,o=r.slots,i=a.input,s=a.field,l=a.components,d=n.value,u=n.name,f=void 0===u?s.attrs.name:u,h=c({},i.data);return h.attrs.name=h.props.name=f,h.attrs.value=h.props.value="object"===e(d)?d[f]:d,h.components=l,t(i.element.component,h,o().default)}},V=[v.CHECKBOX,v.RADIO],X="array-button-clicked",q={functional:!0,render:function(a,t){var e=t.data,r=t.props,n=t.slots,i=t.listeners,s=e.input,o=e.field,l=e.components,u=r.value,d=n().default||[];if(o.isArrayField&&o.attrs.type!==v.SELECT){var f=o.attrs.name,h={input:s,field:o,components:l,attrs:{},props:{name:f,value:u},on:i};if(V.includes(o.attrs.type))return c(h.attrs,s.data.field.attrs),a(M,h,d);var p=s.data.attrs.id||k(f),m=Array.apply(null,Array(o.itemsNum)).map((function(t,e){return h.props.name=D(o,e),s.data.attrs["data-fs-index"]=e,s.data.attrs.id=e?p+"-"+e:p,a(M,h,d)})),y={props:{disabled:o.maxItems<=o.itemsNum},on:{click:function(t){o.itemsNum<o.maxItems&&(o.itemsNum++,X in i&&i[X](t))}}};return a(l.$.fieldset.component,{field:o,newItemButton:y,on:i},m)}return a(s.element.component,s.data,d)}},z={functional:!0,render:function(t,e){var a=e.data,r=e.props,n=e.listeners,i=a.field,s=a.components,l=r.item,c=r.value,u=r.checked,d=l.label,f=l.description,h={id:l.id,name:l.name||i.attrs.name,type:i.attrs.type,value:i.schemaType===m.BOOLEAN?void 0:l.value,checked:void 0===u?c instanceof Array?c.includes(l.value):l.value===c:u},p=s.input({field:{label:d,description:f,attrs:h},fieldParent:i,listeners:n});return t(q,{input:p,components:s,on:p.data.listeners,props:{value:h.value},field:o({},i,{label:d,description:f,attrs:h})})}},U={functional:!0,render:function(t,e){var a=e.data,r=e.props,n=a.components,i=r.option,s=r.value,o={label:i.label,attrs:{value:i.value,selected:s instanceof Array?s.includes(i.value):void 0===s?i.selected||!1:i.value===s}};return t(n.$.option.component,n.input({field:o}).data,i.label)}},G={functional:!0,render:function(t,e){var a=e.data,r=e.props,n=e.listeners,i=a.field,s=a.components,l=r.value,c=s.input({field:i,listeners:n}),u=[];switch(i.attrs.type){case v.TEXTAREA:delete c.data.attrs.type,delete c.data.attrs.value,c.data.domProps.innerHTML=l;break;case v.RADIO:case v.SWITCH:i.hasOwnProperty("items")&&i.items.forEach((function(e){u.push(t(z,{field:o({},i,{isArrayField:!1}),components:s,fieldParent:i,props:{item:e,value:l},on:n}))}));break;case v.CHECKBOX:if(i.hasOwnProperty("items"))i.items.forEach((function(e){u.push(t(z,{field:i,components:s,fieldParent:i,props:{item:e,value:l},on:n}))}));else if(i.schemaType===m.BOOLEAN){var d={label:i.label,id:i.attrs.id};return t(z,{field:i,components:s,props:{item:d,value:l,checked:!0===l},on:n})}break;case v.SELECT:var f=p(i.items);delete c.data.attrs.type,delete c.data.attrs.value,f.forEach((function(e){u.push(t(U,{field:i,components:s,props:{option:e,value:l},on:n}))}))}return t(q,{input:c,field:i,components:s,props:{value:l},on:n},u)}},K=H,J=k,Y=Object.freeze(f),W={components:new K},Q=l,Z=c,tt=a,et=d,at=s,rt={name:"FormSchema",props:{schema:{type:Object,default:function(){return{}}},value:{type:[Number,String,Array,Object,Boolean],default:void 0},action:{type:String},autocomplete:{type:String},enctype:{type:String,default:"application/x-www-form-urlencoded"},method:{type:String,default:"post"},novalidate:{type:Boolean},components:{type:K,default:function(){return W.components}}},data:function(){return{ref:k("form-schema"),isScalarSchema:!1,loadedSchema:{},fields:[],default:{},error:null,data:{},inputValues:{},ready:!1}},created:function(){at(this.schema)||this.load(this.schema,this.value,!1)},render:function(a){var s=this;if(!this.ready||0===this.fields.length)return null;var t=this.loadedSchema,e=t.title,r=t.description,o=this.components,i=[];e&&i.push(a(o.$.title.component,e)),r&&i.push(a(o.$.description.component,r)),this.error&&i.push(a(o.$.error.component,this.error));var l=this.fields.map((function(i){var t,e=s.isScalarSchema?s.data:s.data[i.attrs.name];return a(G,{field:i,components:o,props:{value:e},on:(t={},n(t,X,(function(){s.$forceUpdate()})),n(t,"input",(function(t){var e=t.target,a=t.target.value,r={field:i,data:a,target:e};if(i.isArrayField)s.parseArrayValue(r);else{var n=E(r);s.isScalarSchema?s.data=n:s.data[i.attrs.name]=n}s.emitInputEvent()})),n(t,"change",(function(t){var e=t.target,a=t.target.value,r={field:i,data:a,target:e};if(i.isArrayField)s.parseArrayValue(r);else{var n=E(r);s.isScalarSchema?s.data=n:s.data[i.attrs.name]=n}Q(s.data,s.default)||s.$emit("change",s.data)})),t)})}));return this.$slots.default&&this.$slots.default.forEach((function(t){return l.push(t)})),i.push(a(o.$.form.component,{ref:this.ref,attrs:{action:this.action,enctype:this.enctype,method:this.method,autocomplete:this.autocomplete,novalidate:this.novalidate},props:{value:this.data},on:{reset:this.reset,submit:this.submit,invalid:this.invalid}},l)),a(o.$.formwrapper.component,{attrs:{id:this.ref}},i)},methods:{load:function(t){var e,a,r,n,o=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.value,s=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];switch(this.ready=!1,this.fields.splice(0),et(this.inputValues),et(this.loadedSchema),Z(this.loadedSchema,t),O(this.loadedSchema,this.fields,null,i),t.type){case"array":case"object":this.data=(e=t,a=this.fields,r=i,n=e.type===m.OBJECT?{}:[],r&&c(n,r),a.forEach((function(t){var e=t.attrs,a=e.type,r=e.name,o=t.schemaType===m.BOOLEAN?"boolean"==typeof n[r]?n[r]:!0===t.attrs.checked:void 0!==n[r]?n[r]:t.attrs.value,i={},s={field:t,data:o,target:i};switch(t.schemaType){case m.BOOLEAN:i.checked=o,n[r]=E(s);break;default:t.isArrayField?(n[r]instanceof Array?n[r]=n[r].filter((function(t){return void 0!==t})):n[r]=[],t.itemsNum=a===v.CHECKBOX?t.items.length:t.minItems):n[r]=E(s)}})),n),this.parseDefaultArrayValue(),this.default=Object.freeze(tt(this.data)),this.isScalarSchema=!1;break;default:this.data=function(t,e,a){if(void 0!==a&&u(a))return a;if(e.length){if(e[0].schemaType===m.BOOLEAN)return!0===e[0].attrs.checked;if(e[0].attrs.hasOwnProperty("value"))return e[0].attrs.value}}(0,this.fields,i),this.default=this.data,this.isScalarSchema=!0}this.emitInputEvent(),this.ready=!0,s&&this.$nextTick((function(){return o.reset()}))},parseDefaultArrayValue:function(){var t=this;this.fields.forEach((function(a){if(a.isArrayField){var e=a.attrs,r=e.type,n=e.name;t.data[n]instanceof Array&&(t.data[n]=t.data[n].filter((function(e,r){return void 0!==(t.inputValues[D(a,r)]=e)}))),a.itemsNum="checkbox"===r?a.items.length:a.minItems}}))},emitInputEvent:function(){this.$emit("input",this.data)},parseArrayValue:function(t){if("checkbox"===t.field.attrs.type)if(t.target.checked)this.data[t.field.attrs.name].includes(t.data)||this.data[t.field.attrs.name].push(t.data);else{var e=this.data[t.field.attrs.name].indexOf(t.data);-1<e&&this.data[t.field.attrs.name].splice(e,1)}else{var a=t.target.getAttribute("data-fs-index"),r=D(t.field,a);this.inputValues[r]=y.includes(t.field.attrs.type)?Number(t.data):t.data;for(var n=[],i=0;i<t.field.itemsNum;i++){var s=this.inputValues[D(t.field,i)];(s||0===s)&&n.push(s)}this.data[t.field.attrs.name]=n}},form:function(){return this.$refs[this.ref]},reportValidity:function(){for(var t=this.form().elements,e=!0,a=0;a<t.length;a++)"checkValidity"in t[a]&&(e=e&&t[a].checkValidity());return e},checkValidity:function(){return this.reportValidity()},invalid:function(t){this.$emit("invalid",t)},reset:function(){var t=this;et(this.inputValues),this.fields.forEach((function(a){var e=a.attrs.name;t.$set(t.data,e,t.default[e]),a.isArrayField&&t.data[e].forEach((function(e,r){t.inputValues[D(a,r)]=e}))}));var e=this.form();"reset"in e&&e.reset()},submit:function(t){this.checkValidity()&&this.$emit("submit",t)},setErrorMessage:function(t){this.error=t},clearErrorMessage:function(){this.error=null}}};t.Components=K,t.generateId=J,t.ObjectUtils=Y,t.ARRAY_INPUT_ADDED_EVENT="array-button-clicked",t.GLOBAL=W,t.default=rt,Object.defineProperty(t,"__esModule",{value:!0})}(e)},482:function(t,e,r){"use strict";var n=r(326);r.n(n).a},483:function(t,e,r){(e=r(31)(!1)).push([t.i,".form-schema form *{display:block;width:600px!important;margin:2px}.card-body{padding:8px}.card{min-width:620px!important;max-width:620px!important;margin:4px 0 0 4px}.settings-form-container{padding:0;margin:0;display:flex;flex-direction:column;flex-wrap:wrap;overflow-x:hidden;overflow-y:hidden;align-items:flex-start;justify-content:flex-start;max-height:calc(100vh - 49.9333px);max-width:calc(100vw - 120px)}",""]),t.exports=e},491:function(t,e,r){"use strict";r.r(e);var n=r(15),o=r(481),l=r.n(o),c=r(289),d=r(280),f=r(298),h={name:"dashboard",components:{PageHeader:c.a,PageHeaderItem:d.a,PageHeaderSeek:f.a,FormSchema:l.a},beforeMount:function(){var t=this;Object(n.q)().then((function(e){t.settings=e})),Object(n.D)().then((function(e){for(var r in console.log("got schema"),console.log(e),e.properties)if(e.properties.hasOwnProperty(r))for(var n in e.properties[r].properties)e.properties[r].properties.hasOwnProperty(n)&&(e.properties[r].properties[n].attrs=t.schema_attrs[r][n]);console.log("schema is now"),console.log(e),t.$refs.form_cache.load(e.properties.cache),t.$refs.form_db.load(e.properties.db),t.$refs.form_format.load(e.properties.format),t.$refs.form_log.load(e.properties.log),t.$refs.form_render.load(e.properties.render)}))},methods:{setSettings:function(){var t=this;console.log("try to set settings"),console.log(this.settings),Object(n.C)(this.settings).then((function(e){t.settings=e})),console.log("got back settings"),console.log(this.settings)},clearCache:function(){Object(n.g)()}},data:function(){return{settings:{cache:{},db:{},format:{},log:{},render:{}},schema_attrs:{cache:{dir:{title:"Cache folder"},size_limit_gb:{title:"Cache size limit (GB)"}},db:{path:{title:"Database file"}},format:{datetime_format:{title:"Date/time format"},datetime_format_fs:{title:"Date/time format (filesystem-safe)"}},log:{dir:{title:"Log folder"},keep:{title:"# of log files to keep"},lvl_console:{title:"Logging level - Python console - choose from critical, error, warning, info, debug or vdebug"},lvl_file:{title:"Logging level - file / application log - choose from critical, error, warning, info, debug or vdebug"},path:{title:"Log file path"}},render:{dir:{title:"Render folder"}}}}}},m=(r(482),r(16)),component=Object(m.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"fixed-page"},[r("PageHeader",[r("PageHeaderItem",[r("b-button",{on:{click:t.setSettings}},[t._v("Save")])],1),t._v(" "),r("PageHeaderItem",[r("b-button",[t._v("Restart backend")])],1),t._v(" "),r("PageHeaderItem",[r("b-button",{on:{click:t.clearCache}},[t._v("Clear cache")])],1)],1),t._v(" "),r("b-container",{staticClass:"settings-form-container"},[r("b-card",[r("h5",[t._v("Log")]),t._v(" "),r("FormSchema",{ref:"form_log",staticClass:"form-schema",model:{value:t.settings.log,callback:function(e){t.$set(t.settings,"log",e)},expression:"settings.log"}})],1),t._v(" "),r("b-card",[r("h5",[t._v("Cache")]),t._v(" "),r("FormSchema",{ref:"form_cache",staticClass:"form-schema",model:{value:t.settings.cache,callback:function(e){t.$set(t.settings,"cache",e)},expression:"settings.cache"}})],1),t._v(" "),r("b-card",[r("h5",[t._v("Render")]),t._v(" "),r("FormSchema",{ref:"form_render",staticClass:"form-schema",model:{value:t.settings.render,callback:function(e){t.$set(t.settings,"render",e)},expression:"settings.render"}})],1),t._v(" "),r("b-card",[r("h5",[t._v("Format")]),t._v(" "),r("FormSchema",{ref:"form_format",staticClass:"form-schema",model:{value:t.settings.format,callback:function(e){t.$set(t.settings,"format",e)},expression:"settings.format"}})],1),t._v(" "),r("b-card",[r("h5",[t._v("Database")]),t._v(" "),r("FormSchema",{ref:"form_db",staticClass:"form-schema",model:{value:t.settings.db,callback:function(e){t.$set(t.settings,"db",e)},expression:"settings.db"}})],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);