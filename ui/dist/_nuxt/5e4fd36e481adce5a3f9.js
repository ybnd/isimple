(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{258:function(e,t,o){var content=o(266);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(24).default)("e615eb58",content,!0,{sourceMap:!1})},259:function(e,t,o){var content=o(269);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(24).default)("675544f8",content,!0,{sourceMap:!1})},265:function(e,t,o){"use strict";var n=o(258);o.n(n).a},266:function(e,t,o){(t=o(23)(!1)).push([e.i,".seek-container[data-v-5840c574]{position:relative}",""]),e.exports=t},268:function(e,t,o){"use strict";var n=o(259);o.n(n).a},269:function(e,t,o){(t=o(23)(!1)).push([e.i,".align{float:left;margin:0}.align,.streamed-image{position:absolute;display:block}.streamed-image{z-index:-100;pointer-events:none;max-width:80vw;max-height:100vh;width:auto;height:auto}.moveable{z-index:1;font-family:Roboto,sans-serif;position:absolute;width:300px;height:200px;text-align:center;font-size:40px;margin:0 auto;font-weight:100;letter-spacing:1px}",""]),e.exports=t},275:function(e,t,o){"use strict";o.r(t);var n=o(22),r=(o(9),o(264)),l={name:"seek",props:{id:{type:String,default:""},debounce:{type:Number,default:100},position:{type:Number,default:.5},callback:{type:Function,default:void 0}},components:{vuescroll:r.a},mounted:function(){console.log("Seeking to middle of file"),Object(n.j)(this.id,this.position)},methods:{handleScroll:function(e,t){var o=this;console.log("Seeking to ".concat(t)),Object(n.j)(id,t).then((function(e){o.position=e})),void 0!==this.callback&&this.callback()}}},c=(o(265),o(12)),d=Object(c.a)(l,(function(){var e=this.$createElement;return(this._self._c||e)("div",{directives:[{name:"scroll",rawName:"v-scroll:debounce",value:{fn:this.handleScroll,debounce:this.debounce},expression:"{ fn: handleScroll, debounce: debounce }",arg:"debounce"}],staticClass:"seek-container"},[this._t("default")],2)}),[],!1,null,"5840c574",null).exports,h=o(267);var f={name:"align",beforeMount:function(){this.updateFrame,this.$store.dispatch("analyzers/sync"),window.onresize=this.updateFrame},components:{SeekContainer:d,Moveable:o.n(h).a},methods:{toBackend:function(){},handleDrag:function(e){var t=e.target,o=e.transform;t.style.transform=o,this.updateRoiCoordinates()},handleResize:function(e){var t=e.target,o=e.width,n=e.height;t.style.width="".concat(o,"px"),t.style.height="".concat(n,"px"),this.updateRoiCoordinates()},handleScale:function(e){var t=e.target,o=e.transform;t.style.transform=o,this.updateRoiCoordinates()},handleRotate:function(e){var t=e.target,o=e.transform;t.style.transform=o,this.updateRoiCoordinates()},handleWarp:function(e){var t=e.target,o=e.transform;t.style.transform=o,this.updateRoiCoordinates()},updateRoiCoordinates:function(){var rect,e;void 0===this.$store.state.analyzers[this.id].frame&&this.updateFrame(),this.$refs.moveable.updateRect(),this.$store.state.analyzers[this.id].roi=(rect=this.$refs.moveable.getRect(),e=this.$store.state.analyzers[this.id].frame,{BL:{x:(rect.pos3[0]-e.left)/e.width,y:rect.pos3[1]/e.height},TL:{x:(rect.pos1[0]-e.left)/e.width,y:rect.pos1[1]/e.height},TR:{x:(rect.pos2[0]-e.left)/e.width,y:rect.pos2[1]/e.height},BR:{x:(rect.pos4[0]-e.left)/e.width,y:rect.pos4[1]/e.height}}),Object(n.d)(this.id,this.$store.state.analyzers[this.id].roi)},updateFrame:function(){this.$store.state.analyzers[this.id].frame=this.$refs.frame.getBoundingClientRect(),this.moveable.bounds=this.$store.state.analyzers[this.id].frame}},computed:{id:function(){return this.$route.query.id},stream_url:function(){return Object(n.m)(this.$route.query.id,"stream/get_inverse_overlaid_frame")},initial_coordinates:function(){return{}}},data:function(){return{moveable:{draggable:!0,throttleDrag:1,resizable:!1,throttleResize:1,scalable:!1,throttleScale:1,rotatable:!0,throttleRotate:1,warpable:!0,throttleWarp:1,snappable:!0,bounds:{}},frame:{},coordinates:{}}}},m=(o(268),Object(c.a)(f,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"fixed-page"},[o("seek-container",{attrs:{id:e.id,callback:e.updateFrame}},[o("div",{ref:"align",staticClass:"align"},[o("img",{ref:"frame",staticClass:"streamed-image",attrs:{src:e.stream_url,alt:""},on:{load:e.updateFrame}}),e._v(" "),o("Moveable",e._b({ref:"moveable",staticClass:"moveable",on:{drag:e.handleDrag,resize:e.handleResize,scale:e.handleScale,rotate:e.handleRotate,warp:e.handleWarp}},"Moveable",e.moveable,!1))],1)]),e._v(" "),o("div",{staticClass:"controls"})],1)}),[],!1,null,null,null));t.default=m.exports}}]);