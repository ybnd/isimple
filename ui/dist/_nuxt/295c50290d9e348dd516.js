(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{258:function(e,t,n){var content=n(266);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(24).default)("6159a200",content,!0,{sourceMap:!1})},259:function(e,t,n){var content=n(269);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(24).default)("675544f8",content,!0,{sourceMap:!1})},265:function(e,t,n){"use strict";var o=n(258);n.n(o).a},266:function(e,t,n){(t=n(23)(!1)).push([e.i,".seek-container[data-v-8aea4cd2]{position:relative}",""]),e.exports=t},268:function(e,t,n){"use strict";var o=n(259);n.n(o).a},269:function(e,t,n){(t=n(23)(!1)).push([e.i,".align{position:absolute;float:left;display:block;margin:0}.streamed-image{z-index:-100;pointer-events:none;display:block;max-width:80vw;max-height:100vh;width:auto;height:auto}.moveable{z-index:100;font-family:Roboto,sans-serif;position:absolute;width:300px;height:200px;text-align:center;font-size:40px;margin:0 auto;font-weight:100;letter-spacing:1px}",""]),e.exports=t},274:function(e,t,n){"use strict";n.r(t);var o=n(22),r=(n(9),n(264)),l={name:"seek",props:{id:{type:String,default:""},debounce:{type:Number,default:100},position:{type:Number,default:.5}},components:{vuescroll:r.a},mounted:function(){Object(o.i)(this.id,this.position)},methods:{handleScroll:function(e,t){var n=this;console.log("Seeking to ".concat(t)),Object(o.i)(id,t).then((function(e){n.position=e}))}}},c=(n(265),n(12)),d=Object(c.a)(l,(function(){var e=this.$createElement;return(this._self._c||e)("div",{directives:[{name:"scroll",rawName:"v-scroll:debounce",value:{fn:this.handleScroll,debounce:this.debounce},expression:"{ fn: handleScroll, debounce: debounce }",arg:"debounce"}],staticClass:"seek-container"},[this._t("default")],2)}),[],!1,null,"8aea4cd2",null).exports,f=n(267);var h={name:"align",props:{coordinates:{type:Object,default:{TL:{x:.25,y:.75},TR:{x:.75,y:.75},BL:{x:.25,y:.25},BR:{x:.75,y:.25}}}},beforeMount:function(){var e=this;window.onload=function(){e.updateFrame,e.$store.dispatch("analyzers/sync")},window.onresize=this.updateFrame},components:{SeekContainer:d,Moveable:n.n(f).a},methods:{toBackend:function(){},handleDrag:function(e){var t=e.target,n=e.transform;t.style.transform=n},handleResize:function(e){var t=e.target,n=e.width,o=e.height;t.style.width="".concat(n,"px"),t.style.height="".concat(o,"px")},handleScale:function(e){var t=e.target,n=e.transform;t.style.transform=n},handleRotate:function(e){var t=e.target,n=e.transform;t.style.transform=n},handleWarp:function(e){var t=e.target,n=e.transform;t.style.transform=n},updateRoiCoordinates:function(){var rect,e;this.$refs.moveable.updateRect(),this.$props.coordinates=(rect=this.$refs.moveable.getRect(),e=this.frame,{TL:{x:(rect.pos1[0]-rect.left)/e.width,y:rect.pos1[1]/e.height},TR:{x:(rect.pos2[0]-rect.left)/e.width,y:rect.pos2[1]/e.height},BL:{x:(rect.pos3[0]-rect.left)/e.width,y:rect.pos3[1]/e.height},BR:{x:(rect.pos4[0]-rect.left)/e.width,y:rect.pos4[1]/e.height}})},updateFrame:function(){this.frame==={}&&(this.frame=this.$refs.frame.getBoundingClientRect()),this.moveable.bounds=this.frame}},computed:{id:function(){return this.$route.query.id},stream_url:function(){return Object(o.l)(this.$route.query.id,"stream/get_raw_frame")},initial_coordinates:function(){return{}}},data:function(){return{moveable:{draggable:!0,throttleDrag:1,resizable:!1,throttleResize:1,scalable:!1,throttleScale:1,rotatable:!0,throttleRotate:1,warpable:!0,throttleWarp:1,snappable:!0,bounds:{}},frame:{},coordinates:{}}}},m=(n(268),Object(c.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"fixed-page"},[n("seek-container",{attrs:{id:e.id}},[n("div",{ref:"align",staticClass:"align"},[n("img",{ref:"frame",staticClass:"streamed-image",attrs:{src:e.stream_url,alt:""},on:{load:e.updateFrame}}),e._v(" "),n("Moveable",e._b({ref:"moveable",staticClass:"moveable",on:{drag:e.handleDrag,resize:e.handleResize,scale:e.handleScale,rotate:e.handleRotate,warp:e.handleWarp,render:e.updateRoiCoordinates}},"Moveable",e.moveable,!1))],1)]),e._v(" "),n("div",{staticClass:"controls"})],1)}),[],!1,null,null,null));t.default=m.exports}}]);