(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{505:function(t,e,r){"use strict";var n={name:"PageHeaderItem"},o=(r(514),r(23)),component=Object(o.a)(n,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"page-header-item"},[this._t("default")],2)}),[],!1,null,null,null);e.a=component.exports},506:function(t,e,r){var content=r(515);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(33).default)("0a18e831",content,!0,{sourceMap:!1})},507:function(t,e,r){var content=r(517);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(33).default)("20035751",content,!0,{sourceMap:!1})},510:function(t,e,r){"use strict";function n(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=new Date(0);return e.setSeconds(t,t%1*1e3),e.toISOString().substr(14,7)}r.d(e,"a",(function(){return n}))},511:function(t,e,r){"use strict";var n={name:"PageHeader",props:{},components:{PageHeaderItem:r(505).a},methods:{}},o=(r(516),r(23)),component=Object(o.a)(n,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"page-header"},[this._t("default")],2)}),[],!1,null,null,null);e.a=component.exports},514:function(t,e,r){"use strict";var n=r(506);r.n(n).a},515:function(t,e,r){(e=r(32)(!1)).push([t.i,".page-header-item{flex:0 1 auto;margin-top:4px;margin-bottom:4px;background:#c2cfd6;display:flex;padding-left:.5rem;overflow:visible;height:30px;min-height:30px;max-height:30px;min-width:20px}.page-header-item .btn{height:30px;padding:4px}.page-header-item>*{height:30px;max-height:30px;margin-right:4px}.header-button-icon{width:30px;font-size:14px;display:flex}.header-button-icon i{max-height:22px;max-width:22px;margin:0;padding:4px 0 0;flex-shrink:1;flex-grow:1}",""]),t.exports=e},516:function(t,e,r){"use strict";var n=r(507);r.n(n).a},517:function(t,e,r){(e=r(32)(!1)).push([t.i,".page-header{flex-grow:0!important;flex-shrink:1!important;height:38px!important;margin-bottom:0!important;border-bottom:0!important;border-radius:0!important;width:calc(100vw - 120px);display:flex;flex-direction:row;background:#c2cfd6;overflow:visible}",""]),t.exports=e},538:function(t,e,r){var content=r(570);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(33).default)("7d11b8c8",content,!0,{sourceMap:!1})},539:function(t,e,r){var content=r(572);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(33).default)("bdf478ac",content,!0,{sourceMap:!1})},569:function(t,e,r){"use strict";var n=r(538);r.n(n).a},570:function(t,e,r){(e=r(32)(!1)).push([t.i,".result-container{display:flex;flex-direction:column;overflow:hidden;padding-top:8px}.result{position:relative;flex-shrink:1;display:flex}",""]),t.exports=e},571:function(t,e,r){"use strict";var n=r(539);r.n(n).a},572:function(t,e,r){(e=r(32)(!1)).push([t.i,".fullpage-result-container{width:calc(100vw - 120px);height:calc(100vh - 38px);display:flex;flex-direction:column;overflow:hidden}.fullpage-result{position:relative;flex-shrink:1;flex-basis:100vh;max-height:100vh;min-height:200px;display:flex}.fullpage-result,.fullpage-result canvas{width:calc(100vw - 120px)}",""]),t.exports=e},576:function(t,e,r){"use strict";r.r(e);r(566),r(37),r(17),r(14),r(20);var n=r(31),o=(r(21),r(18),r(1)),l=r(573),c=r(510);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var f={name:"ResultChart",extends:l.a,mixins:[l.b.reactiveProp],props:["options"],mounted:function(){this.renderChart(this.chartData,function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},this.default_options,{},this.options))},data:function(){return{responsive:!0,maintainAspectRatio:!1,tooltips:{show:!1,origin:{x:0,y:0},labels:[]},default_options:{elements:{point:{radius:0,hoverRadius:5,hitRadius:5},line:{fill:!1,borderWidth:2,tension:0}},animation:{duration:0},tooltips:{mode:"nearest",callbacks:{label:function(t,data){var label=data.datasets[t.datasetIndex].label||"";return label&&(label+=": "),label+=Object(c.a)(t.xLabel),label+=" âž” ",label+=Math.round(100*t.yLabel)/100,label+=" ",label+=data.unit,label}}}}}}},h=r(23),m=Object(h.a)(f,void 0,void 0,!1,null,"2fc04c95",null).exports,v=r(28);function x(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var O={name:"ResultChartStack",props:{raw_result:{type:Object,required:!0},colors:{type:Array,required:!0},container_class:{type:String,default:""},result_class:{type:String,default:""},canvas_class:{type:String,default:""}},components:{ResultChart:m},beforeMount:function(){this.updateChartsKey(),window.addEventListener("resize",this.updateChartsKey),this.$root.$on(v.a.data.update(this.id),this.updateChartsKey)},beforeDestroy:function(){window.removeEventListener("resize",this.updateChartsKey)},methods:{is_last:function(t){return t===Object.keys(this.result).length-1},updateChartsKey:function(){this.charts_key=Date.now()},formatTick:function(t){return Object(c.a)(t)}},computed:{maxX:function(){return Math.max.apply(Math,Object(n.a)(this.result[Object.keys(this.result)[0]][0].data.filter((function(t){return null!==t.x})).map((function(t){return t.x}))))},result:function(){for(var t={},e=0,r=Object.keys(this.raw_result);e<r.length;e++){var l=r[e];console.log("feature = ".concat(l));var c=[];if(this.raw_result.hasOwnProperty(l))for(var d=this.raw_result[l].columns.slice(1),f=0;f<d.length;f++){var data=[];console.log(this.raw_result[l].data.length);for(var i=0;i<this.raw_result[l].data.length;i++)data=[].concat(Object(n.a)(data),[{x:this.raw_result[l].data[i][0],y:this.raw_result[l].data[i][f+1]}]);c=[].concat(Object(n.a)(c),[{label:d[f],backgroundColor:this.colors[f],borderColor:this.colors[f],showLine:!0,data:data}])}t=y({},t,Object(o.a)({},l,c))}return t}},data:function(){return{options:{responsive:!0,maintainAspectRatio:!1},charts_key:""}}},w=(r(569),Object(h.a)(O,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{key:t.charts_key,ref:"container",staticClass:"result-container",class:t.container_class},[t._l(t.result,(function(e,n){return[r("div",{key:"result-"+n,staticClass:"result",class:t.result_class},[r("ResultChart",{attrs:{"chart-data":{datasets:e,unit:t.$store.state.schemas.feature.units[n]},options:Object.assign({},t.options,{legend:{position:"bottom"},scales:{xAxes:[{scaleLabel:{labelString:"Time (s)",fontStyle:"bold",fontSize:14},ticks:{stepSize:60,userCallback:t.formatTick,max:t.maxX}}],yAxes:[{scaleLabel:{display:!0,labelString:t.$store.state.schemas.feature.labels[n]+" ("+t.$store.state.schemas.feature.units[n]+")",fontStyle:"bold",fontSize:14}}]}})}})],1)]}))],2)}),[],!1,null,null,null).exports),j=r(511),_=r(505),k=r(12),P=r(6),S=r(200);P.default.use(S.a);var C={name:"result",components:{PageHeader:j.a,PageHeaderItem:_.a,ResultChartStack:w},mounted:function(){this.colors=void 0,this.result=void 0,this.sync()},methods:{sync:function(){var t=this;Object(k.v)(this.id).then((function(e){t.db.id=e,Object(k.B)(t.db.id).then((function(e){console.log("get_result_list() callback: list ="),console.log(e),t.db.list=e,e?t.handleGetResult(Math.max.apply(Math,Object(n.a)(Object.keys(e).map(Number)))):t.info="No results yet!"}))}))},handleGetResult:function(t){var e=this;return console.log("result.handleGetResult() run=".concat(t)),this.info=this.result_info(t),Object(k.t)(this.id).then((function(r){console.log("result.handleGetResult() callback 1 colors="),console.log(r),e.colors=r,Object(k.A)(e.db.id,t).then((function(t){console.log("result.handleGetResult() callback 2 result="),console.log(t),e.result=t}))}))},result_info:function(t){return t=Number(t),Number.isInteger(t)?"Run ".concat(t,", ").concat(this.db.list[t]):"Select a run to display"}},watch:{"$route.query.id":function(){this.sync()}},computed:{id:function(){return this.$route.query.id}},data:function(){return{db:{id:void 0,run:void 0,runs:{},list:{}},result:void 0,colors:void 0,info:null}}},R=(r(571),Object(h.a)(C,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"fixed-page"},[r("PageHeader",[r("PageHeaderItem",[r("b-dropdown",{attrs:{text:t.info,"data-toggle":"tooltip",title:"Select a result",placeholder:"select a run to display"}},t._l(t.db.list,(function(time,e){return r("b-dropdown-item",{key:e,on:{click:function(r){return t.handleGetResult(e)}}},[t._v("\n          "+t._s(t.result_info(e))+"\n        ")])})),1)],1)],1),t._v(" "),void 0!==t.colors&&void 0!==t.result?r("ResultChartStack",{key:t.id,attrs:{id:t.id,colors:t.colors,raw_result:t.result,container_class:"fullpage-result-container",result_class:"fullpage-result"}}):t._e()],1)}),[],!1,null,null,null));e.default=R.exports}}]);