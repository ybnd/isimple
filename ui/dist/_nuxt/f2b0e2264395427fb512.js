/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{266:function(module,__webpack_exports__,__webpack_require__){"use strict";var debounce=function(t,r){var n;return function(){var e=this,o=arguments;clearTimeout(n),n=setTimeout((function(){return t.apply(e,o)}),r)}},throttle=function(t,r){var n,e;return function(){var o=this,c=arguments;e?(clearTimeout(n),n=setTimeout((function(){Date.now()-e>=r&&(t.apply(o,c),e=Date.now())}),r-(Date.now()-e))):(t.apply(o,c),e=Date.now())}},isNumber=function(t){return"number"==typeof t&&NaN!==t},isFunction=function(t){return"function"==typeof t},isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},isInteger=function(t){return isNumber(t)&&Math.round(t)===t},get=function(arg,path,def){try{return eval("arg."+path)}catch(t){return def}},dom=(listeners=new Map,{bind:function(element,t,r,n){var e,o;if(!isFunction(r))throw new Error("Scroll handler is not a function");listeners.has(element)||listeners.set(element,new Map),(e=listeners.get(element)).has(t)||e.set(t,[]),(o=e.get(t)).length||function(element,t,r,n){function e(t){var data,n=t.target||t.srcElement;"scroll"===(t=t||window.e).type&&(data=n===document?{scrollTop:get(document,"body.scrollTop",0),scrollLeft:get(document,"body.scrollLeft",0)}:{scrollTop:get(n,"scrollTop",0),scrollLeft:get(n,"scrollLeft",0)}),r.forEach((function(r){r(t,data)}))}isObject(n)&&(isInteger(n.throttle)&&isFinite(n.throttle)&&n.throttle>-1&&(e=throttle(e,n.throttle)),isInteger(n.debounce)&&isFinite(n.debounce)&&n.debounce>-1&&(e=debounce(e,n.debounce))),"scroll"===t&&(element===document.body||element===document||element===window?document.onscroll=e:element.addEventListener?element.addEventListener(t,e):element.attachEvent("on"+t,e))}(element,t,o,n),o.push(r)},unbind:function(element,t,r){var n,e;if(isFunction(r))return listeners.has(element)||listeners.set(element,new Map),(n=listeners.get(element)).has(t)||n.set(t,[]),(e=n.get(t)).indexOf(r)>-1&&(e.splice(e.indexOf(r),1),!0)}}),listeners,vuescroll=new Object;vuescroll.install=function(t,r){r=r||{};var n=["throttle","debounce"];function e(t,e,o){var c,f=Object.assign({},r);if(isObject(e)||isFunction(e)){c=e,n.indexOf(o)>-1&&(c=e.fn,"throttle"===o?f={throttle:e.throttle}:"debounce"===o&&(f={debounce:e.debounce}));try{dom.bind(t,"scroll",c,f)}catch(t){console.warn("Unexpected error happened when binding listener")}}else console.warn("Unexpected scroll properties")}function o(t,r,e){var o;(isObject(r)||isFunction(r))&&(o=r,n.indexOf(e)>-1&&(o=r.fn),dom.unbind(t,"scroll",o))}t.directive("scroll",{bind:function(t,r,n,o){e(t,r.value,r.arg)},inserted:function(t,r){},update:function(t,r){r.value!==r.oldValue&&(e(t,r.value,r.arg),o(t,r.oldValue,r.arg))},unbind:function(t,r){o(t,r.value,r.arg)}})},__webpack_exports__.a=vuescroll},269:function(t,r){t.exports=function(t){var r={};function n(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=r,n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,r){if(1&r&&(t=n(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var o in t)n.d(e,o,function(r){return t[r]}.bind(null,o));return e},n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,"a",r),r},n.o=function(object,t){return Object.prototype.hasOwnProperty.call(object,t)},n.p="",n(n.s="fb15")}({f6fd:function(t,r){!function(t){var r=t.getElementsByTagName("script");"currentScript"in t||Object.defineProperty(t,"currentScript",{get:function(){try{throw new Error}catch(n){var i,t=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(n.stack)||[!1])[1];for(i in r)if(r[i].src==t||"interactive"==r[i].readyState)return r[i];return null}}})}(document)},fb15:function(t,r,n){"use strict";var e;(n.r(r),"undefined"!=typeof window)&&(n("f6fd"),(e=window.document.currentScript)&&(e=e.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=e[1]));function o(t){return void 0===t}var c=function(){var t=function(){function t(){this._eventHandler={},this.options={}}var r=t.prototype;return r.trigger=function(t,r){void 0===r&&(r={});var n=this._eventHandler[t]||[],e=n.length>0;if(!e)return!0;n=n.concat(),r.eventType=t;var o=!1,c=[r],i=0;r.stop=function(){o=!0},r.currentTarget=this;for(var f=arguments.length,l=new Array(f>2?f-2:0),h=2;h<f;h++)l[h-2]=arguments[h];for(l.length>=1&&(c=c.concat(l)),i=0;n[i];i++)n[i].apply(this,c);return!o},r.once=function(t,r){if("object"==typeof t&&o(r)){var i,n=t;for(i in n)this.once(i,n[i]);return this}if("string"==typeof t&&"function"==typeof r){var e=this;this.on(t,(function n(){for(var o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];r.apply(e,c),e.off(t,n)}))}return this},r.hasOn=function(t){return!!this._eventHandler[t]},r.on=function(t,r){if("object"==typeof t&&o(r)){var n,e=t;for(n in e)this.on(n,e[n]);return this}if("string"==typeof t&&"function"==typeof r){var c=this._eventHandler[t];o(c)&&(this._eventHandler[t]=[],c=this._eventHandler[t]),c.push(r)}return this},r.off=function(t,r){if(o(t))return this._eventHandler={},this;if(o(r)){if("string"==typeof t)return this._eventHandler[t]=void 0,this;var n,e=t;for(n in e)this.off(n,e[n]);return this}var c,f,l=this._eventHandler[t];if(l)for(c=0;void 0!==(f=l[c]);c++)if(f===r){l=l.splice(c,1);break}return this},t}();return t.VERSION="2.1.2",t}();function f(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return r.map((function(r){return r.split(" ").map((function(r){return r?""+t+r:""})).join(" ")})).join(" ")}function l(t,r){return function(n){n&&(t[r]=n)}}function h(t,r,i){return function(n){n&&(t[r][i]=n)}}function d(t,r){return function(component){var n=component.prototype;t.forEach((function(t){r(n,t)}))}}var v=function(){function t(){this.keys=[],this.values=[]}var r=t.prototype;return r.get=function(t){return this.values[this.keys.indexOf(t)]},r.set=function(t,r){var n=this.keys,e=this.values,o=n.indexOf(t),c=-1===o?n.length:o;n[c]=t,e[c]=r},t}(),m=function(){function t(){this.object={}}var r=t.prototype;return r.get=function(t){return this.object[t]},r.set=function(t,r){this.object[t]=r},t}(),y="function"==typeof Map,w=function(){function t(){}var r=t.prototype;return r.connect=function(t,r){this.prev=t,this.next=r,t&&(t.next=this),r&&(r.prev=this)},r.disconnect=function(){var t=this.prev,r=this.next;t&&(t.next=r),r&&(r.prev=t)},r.getIndex=function(){for(var link=this,t=-1;link;)link=link.prev,++t;return t},t}();var x=function(){function t(t,r,n,e,o,c,f,l){this.prevList=t,this.list=r,this.added=n,this.removed=e,this.changed=o,this.maintained=c,this.changedBeforeAdded=f,this.fixed=l}var r=t.prototype;return Object.defineProperty(r,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(r,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),r.caculateOrdered=function(){var t=function(t,r){var n=[],e=[];return t.forEach((function(t){var r=t[0],o=t[1],link=new w;n[r]=link,e[o]=link})),n.forEach((function(link,i){link.connect(n[i-1])})),t.filter((function(t,i){return!r[i]})).map((function(t,i){var r=t[0],o=t[1];if(r===o)return[0,0];var c=n[r],f=e[o-1],l=c.getIndex();return c.disconnect(),f?c.connect(f,f.next):c.connect(void 0,n[0]),[l,c.getIndex()]}))}(this.changedBeforeAdded,this.fixed),r=this.changed,n=[];this.cacheOrdered=t.filter((function(t,i){var e=t[0],o=t[1],c=r[i],f=c[0],l=c[1];if(e!==o)return n.push([f,l]),!0})),this.cachePureChanged=n},t}();function M(t,r,n){var e=y?Map:n?m:v,o=n||function(t){return t},c=[],f=[],l=[],h=t.map(o),d=r.map(o),w=new e,M=new e,_=[],E=[],S={},N=[],D=0,z=0;return h.forEach((function(t,r){w.set(t,r)})),d.forEach((function(t,r){M.set(t,r)})),h.forEach((function(t,r){var n=M.get(t);void 0===n?(++z,f.push(r)):S[n]=z})),d.forEach((function(t,r){var n=w.get(t);void 0===n?(c.push(r),++D):(l.push([n,r]),z=S[r]||0,_.push([n-z,r-D]),E.push(r===n),n!==r&&N.push([n,r]))})),f.reverse(),new x(t,r,c,f,N,l,_,E)}var _=function(){function t(t,r){void 0===t&&(t=[]),this.findKeyCallback=r,this.list=[].slice.call(t)}return t.prototype.update=function(t){var r=[].slice.call(t),n=M(this.list,r,this.findKeyCallback);return this.list=r,n},t}();"undefined"!=typeof document&&document;function E(t){return void 0===t}function S(t){return t&&"object"==typeof t}function N(t){return Array.isArray(t)}function D(t){return"string"==typeof t}function z(text){var t=text.match(/("[^"]*"|'[^']*'|[^,\s()]*\((?:[^()]*|\([^()]*\))*\)[^,\s()]*|[^,])+/g);return t?t.map((function(t){return t.trim()})):[]}function O(text){var t=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(text);return!t||t.length<4?{}:{prefix:t[1],value:t[2],suffix:t[3]}}function C(text){var t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(text);if(!t)return{prefix:"",unit:"",value:NaN};var r=t[1],n=t[2];return{prefix:r,unit:t[3],value:parseFloat(n)}}function A(){return Date.now?Date.now():(new Date).getTime()}function B(t,r,n){void 0===n&&(n=-1);for(var e=t.length,i=0;i<e;++i)if(r(t[i],i,t))return i;return n}function P(element,t){return element.classList?element.classList.contains(t):!!element.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function R(t,r,n,e){t.addEventListener(r,n,e)}function I(t,r,n){t.removeEventListener(r,n)}var F=function(t,b){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)};function T(t,b){function r(){this.constructor=t}F(t,b),t.prototype=null===b?Object.create(b):(r.prototype=b.prototype,new r)}var k=function(){return(k=Object.assign||function(t){for(var s,i=1,r=arguments.length;i<r;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function j(s,t){var r={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&t.indexOf(p)<0&&(r[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)t.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(r[p[i]]=s[p[i]])}return r}function G(a,b){if(a===b)return!1;for(var i in a)if(!(i in b))return!0;for(var i in b)if(a[i]!==b[i])return!0;return!1}function L(a,b){var t=Object.keys(a),r=Object.keys(b),n=M(t,r,(function(t){return t})),e={},o={},c={};return n.added.forEach((function(t){var n=r[t];e[n]=b[n]})),n.removed.forEach((function(r){var n=t[r];o[n]=a[n]})),n.maintained.forEach((function(r){var n=r[0],e=t[n],o=[a[e],b[e]];a[e]!==b[e]&&(c[e]=o)})),{added:e,removed:o,changed:c}}function U(t){t.forEach((function(t){t()}))}function Y(t){var r=0;return t.map((function(t){return null==t?"$compat"+ ++r:""+t}))}function X(t,r,n,e){return D(t)?new K("text_"+t,r,n,e,null,{}):new("string"==typeof t.type?Q:t.type.prototype.render?it:nt)(t.type,r,n,e,t.ref,t.props)}function H(t){var r=[];return t.forEach((function(t){r=r.concat(N(t)?H(t):t)})),r}function W(t){var r=t.className,n=j(t,["className"]);return null!=r&&(n.class=r),delete n.style,delete n.children,n}function V(t,r){if(!r)return t;for(var n in r)E(t[n])&&(t[n]=r[n]);return t}function Z(t,r){for(var n=[],e=2;e<arguments.length;e++)n[e-2]=arguments[e];var o=r||{},c=o.key,f=o.ref,l=j(o,["key","ref"]);return{type:t,key:c,ref:f,props:k(k({},l),{children:H(n).filter((function(t){return null!=t}))})}}var $=function(){function t(t,r,n,e,o,c){void 0===c&&(c={}),this.type=t,this.key=r,this.index=n,this.container=e,this.ref=o,this.props=c,this._providers=[]}var r=t.prototype;return r._should=function(t,r){return!0},r._update=function(t,r,n,e){if(this.base&&!D(r)&&!e&&!this._should(r.props,n))return!1;this.original=r,this._setState(n);var o=this.props;return D(r)||(this.props=r.props,this.ref=r.ref),this._render(t,this.base?o:{},n),!0},r._mounted=function(){var t=this.ref;t&&t(this.base)},r._setState=function(t){},r._updated=function(){var t=this.ref;t&&t(this.base)},r._destroy=function(){var t=this.ref;t&&t(null)},t}();function J(t){var r={},n={};for(var e in t)0===e.indexOf("on")?n[e.replace("on","").toLowerCase()]=t[e]:r[e]=t[e];return{attributes:r,events:n}}var K=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}T(r,t);var n=r.prototype;return n._render=function(t){var r=this,n=!this.base;return n&&(this.base=document.createTextNode(this.type.replace("text_",""))),t.push((function(){n?r._mounted():r._updated()})),!0},n._unmount=function(){this.base.parentNode.removeChild(this.base)},r}($),Q=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.events={},r}T(r,t);var n=r.prototype;return n.addEventListener=function(t,r){var n=this.events;n[t]=function(t){t.nativeEvent=t,r(t)},this.base.addEventListener(t,n[t])},n.removeEventListener=function(t){var r=this.events;this.base.removeEventListener(t,r[t]),delete r[t]},n._should=function(t){return G(this.props,t)},n._render=function(t,r){var n=this,e=!this.base;e&&(this.base=document.createElement(this.type)),ct(this,this._providers,this.props.children,t,null);var base=this.base,o=J(r),c=o.attributes,f=o.events,l=J(this.props),h=l.attributes,d=l.events;return function(t,r,n){var e=L(t,r),o=e.added,c=e.removed,f=e.changed;for(var l in o)n.setAttribute(l,o[l]);for(var l in f)n.setAttribute(l,f[l][1]);for(var l in c)n.removeAttribute(l)}(W(c),W(h),base),function(t,r,n){var e=L(t,r),o=e.added,c=e.removed,f=e.changed;for(var l in c)n.removeEventListener(l);for(var l in o)n.addEventListener(l,o[l]);for(var l in f)n.removeEventListener(l),n.addEventListener(l,f[l][1]);for(var l in c)n.removeEventListener(l)}(f,d,this),function(t,r,n){var style=n.style,e=L(t,r),o=e.added,c=e.removed,f=e.changed;for(var l in o)style[l]=o[l];for(var l in f)style[l]=f[l][1];for(var l in c)style[l]=""}(r.style||{},this.props.style||{},base),t.push((function(){e?n._mounted():n._updated()})),!0},n._unmount=function(){var t=this.events,base=this.base;for(var r in t)base.removeEventListener(r,t[r]);this._providers.forEach((function(t){t._unmount()})),this.events={},base.parentNode.removeChild(base)},r}($);function tt(t){if(!t)return null;if(t instanceof Node)return t;var r=t._provider._providers;return r.length?tt(r[0].base):null}var nt=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}T(r,t);var n=r.prototype;return n._render=function(t){var template=this.type(this.props);return ct(this,this._providers,template?[template]:[],t),!0},n._unmount=function(){this._providers.forEach((function(t){t._unmount()}))},r}($),et=function(t){function r(base){var r=t.call(this,"container","container",0,null)||this;return r.base=base,r}T(r,t);var n=r.prototype;return n._render=function(){return!0},n._unmount=function(){},r}($),it=function(t){function r(r,n,e,o,c,f){return void 0===f&&(f={}),t.call(this,r,n,e,o,c,V(f,r.defaultProps))||this}T(r,t);var n=r.prototype;return n._should=function(t,r){return this.base.shouldComponentUpdate(V(t,this.type.defaultProps),r||this.base.state)},n._render=function(t,r,n){var e=this;this.props=V(this.props,this.type.defaultProps);var o=!this.base;o?(this.base=new this.type(this.props),this.base._provider=this):this.base.props=this.props;var base=this.base,c=base.state,template=base.render();template&&template.props&&!template.props.children.length&&(template.props.children=this.props.children),ct(this,this._providers,template?[template]:[],t,n,null),t.push((function(){o?(e._mounted(),base.componentDidMount()):(e._updated(),base.componentDidUpdate(r,c))}))},n._setState=function(t){t&&(this.base.state=t)},n._unmount=function(){this._providers.forEach((function(t){t._unmount()})),this.base.componentWillUnmount()},r}($),ot=function(){function t(t){void 0===t&&(t={}),this.props=t,this.state={}}var r=t.prototype;return r.shouldComponentUpdate=function(t,r){return!0},r.render=function(){return null},r.setState=function(t,r,n){var e=[],o=this._provider;ct(o.container,[o],[o.original],e,k(k({},this.state),t),n)&&(r&&e.push(r),U(e))},r.forceUpdate=function(t){this.setState(this.state,t,!0)},r.componentDidMount=function(){},r.componentDidUpdate=function(t,r){},r.componentWillUnmount=function(){},t}(),at=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return T(r,t),r.prototype.shouldComponentUpdate=function(t,r){return G(this.props,t)||G(this.state,r)},r}(ot),st=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}T(r,t);var n=r.prototype;return n.componentDidMount=function(){var t=this.props,element=t.element,r=t.container;this._portalProvider=new et(r),ft(element,r,this._portalProvider)},n.componentDidUpdate=function(){var t=this.props;ft(t.element,t.container,this._portalProvider)},n.componentWillUnmount=function(){ft(null,this.props.container,this._portalProvider),this._portalProvider=null},r}(at);function ut(t,r,n){var e=n.map((function(p){return D(p)?null:p.key})),o=M(Y(r.map((function(p){return p.key}))),Y(e),(function(t){return t}));o.removed.forEach((function(t){r.splice(t,1)[0]._unmount()})),o.ordered.forEach((function(t){var n=t[0],e=t[1],o=r.splice(n,1)[0];r.splice(e,0,o);var c=tt(o.base),f=tt(r[e+1]&&r[e+1].base);c&&c.parentNode.insertBefore(c,f)})),o.added.forEach((function(o){r.splice(o,0,X(n[o],e[o],o,t))}));var c=o.maintained.filter((function(o){o[0];var c=o[1],f=n[c],l=r[c];return(D(f)?"text_"+f:f.type)!==l.type?(l._unmount(),r.splice(c,1,X(f,e[c],c,t)),!0):(l.index=c,!1)}));return function(){for(var s=0,i=0,t=arguments.length;i<t;i++)s+=arguments[i].length;var r=Array(s),n=0;for(i=0;i<t;i++)for(var a=arguments[i],e=0,o=a.length;e<o;e++,n++)r[n]=a[e];return r}(o.added,c.map((function(t){t[0];return t[1]})))}function ct(t,r,n,e,o,c){var f=ut(t,r,n),l=r.filter((function(t,i){return t._update(e,n[i],o,c)})),h=function t(r){if(!r)return null;var base=r.base;return base instanceof Node?base:t(r.container)}(t);return h&&f.reverse().forEach((function(n){var e=r[n],o=tt(e.base);if(o&&h!==o&&!o.parentNode){var c=function(t,r){for(var n=t._providers,e=n.length,i=r.index+1;i<e;++i){var o=tt(n[i].base);if(o)return o}return null}(t,e);h.insertBefore(o,c)}})),l.length>0}function ft(element,t,r){void 0===r&&(r=t.__REACT_COMPAT__);var n=!!r;return r||(r=new et(t)),function(t,r,n){var e=[];ct(t,t._providers,r,e,n),U(e)}(r,element?[element]:[]),n||(t.__REACT_COMPAT__=r),r}function lt(element,t,r){var n=t.__REACT_COMPAT__;element&&!n&&(t.innerHTML=""),ft(element,t,n),r&&r()}var pt="undefined"!=typeof window&&window||{},ht=(pt.RegExp,pt.navigator),vt=[{criteria:"PhantomJS",identity:"PhantomJS"},{criteria:/Whale/,identity:"Whale",versionSearch:"Whale"},{criteria:/Edge/,identity:"Edge",versionSearch:"Edge"},{criteria:/MSIE|Trident|Windows Phone/,identity:"IE",versionSearch:"IEMobile|MSIE|rv"},{criteria:/MiuiBrowser/,identity:"MIUI Browser",versionSearch:"MiuiBrowser"},{criteria:/SamsungBrowser/,identity:"Samsung Internet",versionSearch:"SamsungBrowser"},{criteria:/SAMSUNG /,identity:"Samsung Internet",versionSearch:"Version"},{criteria:/Chrome|CriOS/,identity:"Chrome"},{criteria:/Android/,identity:"Android Browser",versionSearch:"Version"},{criteria:/iPhone|iPad/,identity:"Safari",versionSearch:"Version"},{criteria:"Apple",identity:"Safari",versionSearch:"Version"},{criteria:"Firefox",identity:"Firefox"}],gt=[{criteria:/Windows Phone/,identity:"Windows Phone",versionSearch:"Windows Phone"},{criteria:"Windows 2000",identity:"Window",versionAlias:"5.0"},{criteria:/Windows NT/,identity:"Window",versionSearch:"Windows NT"},{criteria:/iPhone|iPad/,identity:"iOS",versionSearch:"iPhone OS|CPU OS"},{criteria:"Mac",versionSearch:"OS X",identity:"MAC"},{criteria:/Android/,identity:"Android"},{criteria:/Tizen/,identity:"Tizen"},{criteria:/Web0S/,identity:"WebOS"}],mt=[{criteria:/iPhone|iPad/,browserVersionSearch:"Version",webviewBrowserVersion:/-1/},{criteria:/iPhone|iPad|Android/,webviewToken:/NAVER|DAUM|; wv/}],yt={browser:{version:"-1",name:"unknown"},os:{version:"-1",name:"unknown"}};function filter(t,r){for(var n=[],i=0;i<t.length;i++)r(t[i])&&n.push(t[i]);return n}var wt=void 0;function bt(t){wt=t}function xt(base,t){return t&&t.test?!!t.test(base):base.indexOf(t)>-1}function Mt(t,r){var n=filter(t,(function(t){return xt(wt,t.criteria)}))[0];return n&&n.identity||r.name}function _t(t,r){return filter(t,(function(t){var n=t.criteria,e=new RegExp(t.identity,"i").test(r);return!!(n?e&&xt(wt,n):e)}))[0]}function Et(t,r){var n=yt.browser.version,e=new RegExp("("+t+")","i").exec(r);if(!e)return n;var o=e.index,c=e[0];if(o>-1){var f=o+c.length+1;n=r.substring(f).split(" ")[0].replace(/_/g,".").replace(/;|\)/g,"")}return n}function St(t){if(t)return Et(function(t){var r=_t(vt,t);return r||(r={criteria:t,versionSearch:t,identity:t}),r}(t).versionSearch||t,wt)}function Nt(t){var r=function(t){return _t(gt,t)}(t)||{},n=yt.os.version,e=void 0;if(t){if(r.versionAlias)return r.versionAlias;var o=r.versionSearch||t,c=new RegExp("("+o+")\\s([\\d_\\.]+|\\d_0)","i");return c.exec(wt)&&(e=c.exec(wt)[2].replace(/_/g,".").replace(/;|\)/g,"")),e||n}}function Dt(){var t=Mt(gt,yt.os);return{name:t,version:Nt(t)}}function zt(){var t,r=Mt(vt,yt.browser);return{name:r,version:St(r),webview:(t=void 0,function(t,r){for(var i=0;i<t.length;i++)if(r(t[i]))return!0;return!1}(filter(mt,(function(t){return xt(wt,t.criteria)})),(function(r){return t=Et(r.browserVersionSearch,wt),!(!xt(wt,r.webviewToken)&&!xt(t,r.webviewBrowserVersion))})))}}function Ot(){return-1!==wt.indexOf("Mobi")}function Ct(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht.userAgent;bt(t);var r={os:Dt(),browser:zt(),isMobile:Ot()};return r.browser.name=r.browser.name.toLowerCase(),r.os.name=r.os.name.toLowerCase(),r.os.version=r.os.version.toLowerCase(),"ios"===r.os.name&&r.browser.webview&&(r.browser.version="-1"),r}Ct.VERSION="2.1.5";var At=Ct;function Bt(t,r,n,e,o,c){for(var i=n;i<e;++i)t[i]+=t[o+i-n]*c,r[i]+=r[o+i-n]*c}function Pt(t,r,n,e,o){for(var i=n;i<e;++i){var c=t[i],f=r[i];t[i]=t[o+i-n],t[o+i-n]=c,r[i]=r[o+i-n],r[o+i-n]=f}}function Rt(t,r,n,e,o){for(var i=n;i<e;++i)t[i]/=o,r[i]/=o}function It(t,r,n){void 0===n&&(n=Math.sqrt(t.length));for(var e=t.slice(),i=0;i<n;++i)e[i*n+r-1]=0,e[(r-1)*n+i]=0;return e[(r-1)*(n+1)]=1,e}function Ft(t,r){void 0===r&&(r=Math.sqrt(t.length));for(var n=t.slice(),e=Jt(r),i=0;i<r;++i){var o=r*i,c=r*(i+1),f=o+i;if(0===n[f])for(var l=i+1;l<r;++l)if(n[r*l+i]){Pt(n,e,o,c,r*l);break}if(!n[f])return[];Rt(n,e,o,c,n[f]);for(l=0;l<r;++l){var h=r*l,d=h+r,v=n[h+i];0!==v&&i!==l&&Bt(n,e,h,d,o,-v)}}return e}function Tt(t,r){void 0===r&&(r=Math.sqrt(t.length));for(var n=[],i=0;i<r;++i)for(var e=0;e<r;++e)n[e*r+i]=t[r*i+e];return n}function qt(t,r){var n=r[0]-t[0],e=r[1]-t[1],o=Math.atan2(e,n);return o>=0?o:o+2*Math.PI}function kt(t,r){for(var n=t.slice(),i=t.length;i<r-1;++i)n[i]=0;return n[r-1]=1,n}function jt(t,r,n){if(void 0===r&&(r=Math.sqrt(t.length)),r===n)return t;for(var e=Jt(n),o=Math.min(r,n),i=0;i<o-1;++i){for(var c=0;c<o-1;++c)e[i*n+c]=t[i*r+c];e[(i+1)*n-1]=t[(i+1)*r-1],e[(n-1)*n+i]=t[(r-1)*r+i]}return e[n*n-1]=t[r*r-1],e}function Gt(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var e=Jt(t);return r.forEach((function(r){e=Lt(e,r,t)})),e}function Lt(t,r,n){var e=[],o=t.length/n,c=r.length/o;if(!o)return r;if(!c)return t;for(var i=0;i<n;++i)for(var f=0;f<c;++f){e[i*c+f]=0;for(var l=0;l<o;++l)e[i*c+f]+=t[i*o+l]*r[l*c+f]}return e}function Ut(t,r,n){void 0===n&&(n=Math.sqrt(t.length));for(var e=[],o=t.length/n,c=r.length/o,i=0;i<n;++i)for(var f=0;f<c;++f){e[i+f*c]=0;for(var l=0;l<o;++l)e[i+f*c]+=t[i+l*o]*r[l+f*c]}return e}function Yt(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=t.length,e=0,i=n-1;i>=0;--i)e+=t[i];return n?e/n:0}function Xt(t,r){for(var n=Math.min(t.length,r.length),e=t.slice(),i=0;i<n;++i)e[i]=e[i]+r[i];return e}function Ht(t,r){for(var n=Math.min(t.length,r.length),e=t.slice(),i=0;i<n;++i)e[i]=e[i]-r[i];return e}function Wt(t,r,n){void 0===n&&(n=r.length);var e=Lt(t,r,n),o=e[n-1];return e.map((function(t){return t/o}))}function Vt(t,r){return Wt($t(r,3),kt(t,3))}function Zt(a){return 9===a.length?[a[0],a[3],a[1],a[4],a[2],a[5]]:Tt(a)}function $t(t,r){var n=Math.cos(t),e=Math.sin(t),o=Jt(r);return o[0]=n,o[1]=-e,o[r]=e,o[r+1]=n,o}function Jt(t){for(var r=t*t,n=[],i=0;i<r;++i)n[i]=i%(t+1)?0:1;return n}function Kt(t,r){for(var n=Jt(r),e=Math.min(t.length,r-1),i=0;i<e;++i)n[(r+1)*i]=t[i];return n}function Qt(t,r){for(var n=Jt(r),e=Math.min(t.length,r-1),i=0;i<e;++i)n[r*(i+1)-1]=t[i];return n}function rr(t,r,n,e,o,c,f,l){var h=t[0],d=t[1],v=r[0],m=r[1],y=n[0],w=n[1],x=e[0],M=e[1],_=o[0],E=o[1],S=c[0],N=c[1],D=f[0],z=f[1],O=l[0],C=l[1],A=Ft([h,d,1,0,0,0,-_*h,-_*d,0,0,0,h,d,1,-E*h,-E*d,v,m,1,0,0,0,-S*v,-S*m,0,0,0,v,m,1,-N*v,-N*m,y,w,1,0,0,0,-D*y,-D*w,0,0,0,y,w,1,-z*y,-z*w,x,M,1,0,0,0,-O*x,-O*M,0,0,0,x,M,1,-C*x,-C*M],8);if(!A.length)return[];var B=Lt(A,[_,E,S,N,D,z,O,C],8);return B[8]=1,jt(B,3,4)}var nr=function(t){for(var r=5381,i=t.length;i;)r=33*r^t.charCodeAt(--i);return r>>>0};var er=function(t){var r,n="rCS"+nr(t).toString(36),e=0;return{className:n,inject:function(o){var c,f=function(t){if(t.getRootNode){var r=t.getRootNode();if(11===r.nodeType)return r}}(o),l=0===e;return(f||l)&&(c=function(t,r,n){var style=document.createElement("style");return style.setAttribute("type","text/css"),style.innerHTML=r.replace(/([^}{]*){/gm,(function(r,n){return z(n).map((function(r){return r.indexOf(":global")>-1?r.replace(/\:global/g,""):r.indexOf(":host")>-1?""+r.replace(/\:host/g,"."+t):"."+t+" "+r})).join(", ")+"{"})),(n||document.head||document.body).appendChild(style),style}(n,t,f)),l&&(r=c),f||++e,{destroy:function(){f?(o.removeChild(c),c=null):(e>0&&--e,0===e&&r&&(r.parentNode.removeChild(r),r=null))}}}}},ir=function(t,b){return(ir=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)};var or=function(){return(or=Object.assign||function(t){for(var s,i=1,r=arguments.length;i<r;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};var ar=function(t,r){var n=er(r);return(function(r){function e(){return null!==r&&r.apply(this,arguments)||this}return function(t,b){function r(){this.constructor=t}ir(t,b),t.prototype=null===b?Object.create(b):(r.prototype=b.prototype,new r)}(e,r),e.prototype.render=function(){var r=this.props,e=r.className,o=void 0===e?"":e,c=function(s,t){var r={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&t.indexOf(p)<0&&(r[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)t.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(r[p[i]]=s[p[i]])}return r}(r,["className"]);return Z(t,or({ref:l(this,"element"),className:o+" "+n.className},c))},e.prototype.componentDidMount=function(){this.injectResult=n.inject(this.element)},e.prototype.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},e.prototype.getElement=function(){return this.element},e}(ot))},sr=function(){return(sr=Object.assign||function(t){for(var s,i=1,r=arguments.length;i<r;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function ur(t,r,n,e){var o=gr(t),c=gr(r),f=gr(e);return fr(mr(e[0],yr(o,f)),mr(e[0],yr(c,f)),n[0])}function cr(t){return t.touches?dr(t.touches):[vr(t)]}function fr(t,r,n){var e=t.clientX,o=t.clientY;return{clientX:e,clientY:o,deltaX:e-r.clientX,deltaY:o-r.clientY,distX:e-n.clientX,distY:o-n.clientY}}function lr(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function pr(t,r,n){return t.map((function(t,i){return fr(t,r[i],n[i])}))}function dr(t){for(var r=Math.min(t.length,2),n=[],i=0;i<r;++i)n.push(vr(t[i]));return n}function vr(t){return{clientX:t.clientX,clientY:t.clientY}}function gr(t){return{clientX:(t[0].clientX+t[1].clientX)/2,clientY:(t[0].clientY+t[1].clientY)/2}}function mr(t,r){return{clientX:t.clientX+r.clientX,clientY:t.clientY+r.clientY}}function yr(t,r){return{clientX:t.clientX-r.clientX,clientY:t.clientY-r.clientY}}var wr=function(){function t(t,r){var n=this;void 0===r&&(r={}),this.el=t,this.options={},this.flag=!1,this.pinchFlag=!1,this.datas={},this.isDrag=!1,this.isPinch=!1,this.isMouse=!1,this.isTouch=!1,this.prevClients=[],this.startClients=[],this.movement=0,this.startPinchClients=[],this.startDistance=0,this.customDist=[0,0],this.onDragStart=function(t){if(n.flag||!1!==t.cancelable){if(function(t){return t.touches&&t.touches.length>=2}(t)){if(!n.flag&&t.touches.length!==t.changedTouches.length)return;n.pinchFlag||n.onPinchStart(t)}if(!n.flag){var r=n.startClients[0]?n.startClients:cr(t);n.customDist=[0,0],n.flag=!0,n.isDrag=!1,n.startClients=r,n.prevClients=r,n.datas={},n.movement=0;var e=fr(r[0],n.prevClients[0],n.startClients[0]),o=n.options,c=o.dragstart,f=o.preventRightClick,l=o.preventDefault;(f&&3===t.which||!1===(c&&c(sr({datas:n.datas,inputEvent:t},e))))&&(n.startClients=[],n.prevClients=[],n.flag=!1),n.flag&&l&&t.preventDefault()}}},this.onDrag=function(t,r){if(n.flag){var e=cr(t);n.pinchFlag&&n.onPinch(t,e);var o=n.move([0,0],t,e);if(o&&(o.deltaX||o.deltaY)){var c=n.options.drag;c&&c(sr({},o,{isScroll:!!r,inputEvent:t}))}}},this.onDragEnd=function(t){if(n.flag){n.pinchFlag&&n.onPinchEnd(t),n.flag=!1;var r=n.options.dragend,e=n.prevClients,o=n.startClients,c=n.pinchFlag?ur(e,e,o,n.startPinchClients):fr(e[0],e[0],o[0]);n.startClients=[],n.prevClients=[],r&&r(sr({datas:n.datas,isDrag:n.isDrag,inputEvent:t},c))}},this.options=sr({container:t,preventRightClick:!0,preventDefault:!0,pinchThreshold:0,events:["touch","mouse"]},r);var e=this.options,o=e.container,c=e.events;if(this.isTouch=c.indexOf("touch")>-1,this.isMouse=c.indexOf("mouse")>-1,this.customDist=[0,0],this.isMouse&&(R(t,"mousedown",this.onDragStart),R(o,"mousemove",this.onDrag),R(o,"mouseup",this.onDragEnd)),this.isTouch){var f={passive:!1};R(t,"touchstart",this.onDragStart,f),R(o,"touchmove",this.onDrag,f),R(o,"touchend",this.onDragEnd,f)}}var r=t.prototype;return r.isDragging=function(){return this.isDrag},r.isFlag=function(){return this.flag},r.isPinching=function(){return this.isPinch},r.scrollBy=function(t,r,n,e){void 0===e&&(e=!0),this.flag&&(this.startClients.forEach((function(n){n.clientX-=t,n.clientY-=r})),this.prevClients.forEach((function(n){n.clientX-=t,n.clientY-=r})),e&&this.onDrag(n,!0))},r.move=function(t,r,n){var e=t[0],o=t[1];void 0===n&&(n=this.prevClients);var c=this.customDist,f=this.prevClients,l=this.startClients,h=this.pinchFlag?ur(n,f,l,this.startPinchClients):fr(n[0],f[0],l[0]);c[0]+=e,c[1]+=o,h.deltaX+=e,h.deltaY+=o;var d=h.deltaX,v=h.deltaY;return h.distX+=c[0],h.distY+=c[1],this.movement+=Math.sqrt(d*d+v*v),this.prevClients=n,this.isDrag=!0,sr({datas:this.datas},h,{isScroll:!1,inputEvent:r})},r.onPinchStart=function(t){var r,n,e=this.options,o=e.pinchstart,c=e.pinchThreshold;if(!(this.isDrag&&this.movement>c)){var f=dr(t.changedTouches);if(this.pinchFlag=!0,(r=this.startClients).push.apply(r,f),(n=this.prevClients).push.apply(n,f),this.startDistance=lr(this.prevClients),this.startPinchClients=this.prevClients.slice(),o){var l=this.prevClients,h=gr(l),d=fr(h,h,h);o(sr({datas:this.datas,touches:pr(l,l,l)},d,{inputEvent:t}))}}},r.onPinch=function(t,r){if(this.flag&&this.pinchFlag){this.isPinch=!0;var n=this.options.pinch;if(n){var e=this.prevClients,o=this.startClients,c=fr(gr(r),gr(e),gr(o)),f=lr(r);n(sr({datas:this.datas,touches:pr(r,e,o),scale:f/this.startDistance,distance:f},c,{inputEvent:t}))}}},r.onPinchEnd=function(t){if(this.flag&&this.pinchFlag){var r=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var n=this.options.pinchend;if(n){var e=this.prevClients,o=this.startClients,c=fr(gr(e),gr(e),gr(o));n(sr({datas:this.datas,isPinch:r,touches:pr(e,e,o)},c,{inputEvent:t})),this.isPinch=!1,this.pinchFlag=!1}}},r.unset=function(){var t=this.el,r=this.options.container;this.isMouse&&(I(t,"mousedown",this.onDragStart),I(r,"mousemove",this.onDrag),I(r,"mouseup",this.onDragEnd)),this.isTouch&&(I(t,"touchstart",this.onDragStart),I(r,"touchmove",this.onDrag),I(r,"touchend",this.onDragEnd))},t}();var xr=wr,Mr=function(t,b){return(Mr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)};function _r(t){var r=t.container;return[r.scrollLeft,r.scrollTop]}var Er=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.startRect=null,r.startPos=[],r.prevTime=0,r.timer=0,r}!function(t,b){function r(){this.constructor=t}Mr(t,b),t.prototype=null===b?Object.create(b):(r.prototype=b.prototype,new r)}(r,t);var n=r.prototype;return n.dragStart=function(t,r){var n=r.container.getBoundingClientRect(),e=n.top,o=n.left,c=n.width,f=n.height;this.startPos=[t.clientX,t.clientY],this.startRect={top:e,left:o,width:c,height:f}},n.drag=function(t,r){var n=this,e=t.clientX,o=t.clientY,c=r.container,f=r.threshold,l=void 0===f?0:f,h=r.throttleTime,d=void 0===h?0:h,v=r.getScrollPosition,m=void 0===v?_r:v,y=this.startRect,w=this.startPos,x=A(),M=Math.max(d+this.prevTime-x,0),_=[0,0];if(y.top>o-l?(w[1]>y.top||o<w[1])&&(_[1]=-1):y.top+y.height<o+l&&(w[1]<y.top+y.height||o>w[1])&&(_[1]=1),y.left>e-l?(w[0]>y.left||e<w[0])&&(_[0]=-1):y.left+y.width<e+l&&(w[0]<y.left+y.width||e>w[0])&&(_[0]=1),clearTimeout(this.timer),!_[0]&&!_[1])return!1;if(M>0)return this.timer=window.setTimeout((function(){n.drag(t,r)}),M),!1;this.prevTime=x;var E=m({container:c,direction:_});this.trigger("scroll",{container:c,direction:_,inputEvent:t});var S=m({container:c,direction:_}),N=S[0]-E[0],D=S[1]-E[1];return!(!N&&!D)&&(this.trigger("move",{offsetX:_[0]?N:0,offsetY:_[1]?D:0,inputEvent:t}),d&&(this.timer=window.setTimeout((function(){n.drag(t,r)}),d)),!0)},n.dragEnd=function(){clearTimeout(this.timer)},r}(c),Sr=function(t,b){return(Sr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)};var Nr,Dr="function"==typeof Map?void 0:(Nr=0,function(t){return t.__DIFF_KEY__||(t.__DIFF_KEY__=++Nr)});var zr=function(t){function r(r){return void 0===r&&(r=[]),t.call(this,r,Dr)||this}return function(t,b){function r(){this.constructor=t}Sr(t,b),t.prototype=null===b?Object.create(b):(r.prototype=b.prototype,new r)}(r,t),r}(_),Or=function(t,b){return(Or=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)};function Cr(t,b){function r(){this.constructor=t}Or(t,b),t.prototype=null===b?Object.create(b):(r.prototype=b.prototype,new r)}var Ar=function(){return(Ar=Object.assign||function(t){for(var s,i=1,r=arguments.length;i<r;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function Br(t,r){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'+32*t+'px" height="'+32*t+'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate('+r+'deg);transform-origin: 16px 16px"></path></svg>'}var Pr=At(),Rr=Pr.os.name.indexOf("ios")>-1||Pr.browser.name.indexOf("safari")>-1,Ir="moveable-",Fr=function(t,r){return r.replace(/([^}{]*){/gm,(function(r,n){return n.replace(/\.([^{,\s\d.]+)/g,"."+t+"$1")+"{"}))}(Ir,"\n{\n\tposition: fixed;\n\twidth: 0;\n\theight: 0;\n\tleft: 0;\n\ttop: 0;\n    z-index: 3000;\n    --zoom: 1;\n    --zoompx: 1px;\n}\n.control-box {\n    z-index: 0;\n}\n.line, .control {\n\tleft: 0;\n    top: 0;\n    will-change: transform;\n}\n.control {\n\tposition: absolute;\n\twidth: 14px;\n\theight: 14px;\n\tborder-radius: 50%;\n\tborder: 2px solid #fff;\n\tbox-sizing: border-box;\n\tbackground: #4af;\n\tmargin-top: -7px;\n    margin-left: -7px;\n    width: calc(14 * var(--zoompx));\n    height: calc(14 * var(--zoompx));\n    margin-top: calc(-7 * var(--zoompx));\n    margin-left: calc(-7 * var(--zoompx));\n    border: calc(2 * var(--zoompx)) solid #fff;\n    z-index: 10;\n}\n.line {\n\tposition: absolute;\n\twidth: 1px;\n    height: 1px;\n    width: var(--zoompx);\n    height: var(--zoompx);\n\tbackground: #4af;\n\ttransform-origin: 0px 50%;\n}\n.line.dashed {\n    box-sizing: border-box;\n    background: transparent;\n}\n.line.dashed.horizontal {\n    border-top: 1px dashed #4af;\n    border-top: var(--zoompx) dashed #4af;\n}\n.line.dashed.vertical {\n    border-left: 1px dashed #4af;\n    border-left: var(--zoompx) dashed #4af;\n}\n.line.dashed:before {\n    position: absolute;\n    content: attr(data-size);\n    color: #4af;\n    font-size: 12px;\n    font-weight: bold;\n}\n.line.dashed.horizontal:before {\n    left: 50%;\n    transform: translateX(-50%);\n    bottom: 5px;\n}\n.line.dashed.vertical:before {\n    top: 50%;\n    transform: translateY(-50%);\n    left: 5px;\n}\n.line.rotation-line {\n\theight: 40px;\n    width: 1px;\n    transform-origin: 50% calc(100% - 0.5px);\n    top: -40px;\n    width: var(--zoompx);\n    height: calc(40 * var(--zoompx));\n    top: calc(-40 * var(--zoompx));\n    transform-origin: 50% calc(100% - 0.5 * var(--zoompx));\n}\n.line.rotation-line .control {\n\tborder-color: #4af;\n\tbackground:#fff;\n    cursor: alias;\n    left: 50%;\n}\n.line.vertical {\n    transform: translateX(-50%);\n}\n.line.horizontal {\n    transform: translateY(-50%);\n}\n.line.vertical.bold {\n    width: 2px;\n    width: calc(2 * var(--zoompx));\n}\n.line.horizontal.bold {\n    height: 2px;\n    height: calc(2 * var(--zoompx));\n}\n.control.origin {\n\tborder-color: #f55;\n\tbackground: #fff;\n\twidth: 12px;\n\theight: 12px;\n\tmargin-top: -6px;\n    margin-left: -6px;\n    width: calc(12 * var(--zoompx));\n    height: calc(12 * var(--zoompx));\n    margin-top: calc(-6 * var(--zoompx));\n    margin-left: calc(-6 * var(--zoompx));\n\tpointer-events: none;\n}\n"+[0,15,30,45,60,75,90,105,120,135,150,165].map((function(t){return'\n.direction[data-rotation="'+t+'"] {\n\t'+function(t){var r=Br(1,t),n=Br(2,t),e=45*Math.round(t/45)%180,o=135===e?"nwse-resize":45===e?"nesw-resize":90===e?"ew-resize":"ns-resize";return"cursor:"+o+";cursor: url('"+r+"') 16 16, "+o+";cursor: -webkit-image-set(url('"+r+"') 1x, url('"+n+"') 2x) 16 16, "+o+";"}(t)+"\n}\n"})).join("\n")+"\n.group {\n    z-index: -1;\n}\n.area {\n    position: absolute;\n}\n.area-pieces {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: none;\n}\n.area.avoid {\n    pointer-events: none;\n}\n.area.avoid+.area-pieces {\n    display: block;\n}\n.area-piece {\n    position: absolute;\n}\n"+(Rr?':global svg *:before {\n\tcontent:"";\n\ttransform-origin: inherit;\n}':"")+"\n"),Tr=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],qr=Math.pow(10,10),kr=-qr,jr={n:[0,1],s:[2,3],w:[2,0],e:[1,3],nw:[0],ne:[1],sw:[2],se:[3]},Gr={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135};function Lr(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return f.apply(void 0,[Ir].concat(t))}function Ur(){return Jt(3)}function Yr(t,r,n){return Gt(r,Qt(n,r),t,Qt(n.map((function(a){return-a})),r))}function Xr(style){var t=style.transformOrigin;return t?t.split(" "):["0","0"]}function Hr(t,r,n){for(var body=document.body,e=!t||n?t:t.parentElement,o=!1,c="relative";e&&e!==body;){r===e&&(o=!0);var style=bn(e),f=style.transform;if("static"!==(c=style.position)||f&&"none"!==f)break;e=e.parentElement,c="relative"}return{isStatic:"static"===c,isEnd:o||!e||e===body,offsetParent:e||body}}function Wr(t,r,style,n){var e,o=t.tagName.toLowerCase(),c=t.offsetLeft,f=t.offsetTop;if(n){var l=(r||document.documentElement).getBoundingClientRect();c-=l.left,f-=l.top}var h,d=E(c),v=!d;return v||"svg"===o?h=Xr(style).map((function(t){return parseFloat(t)})):(h=Rr?function(t){return Xr(bn(t,":before")).map((function(r,i){var n=C(r),e=n.value,o=n.unit;return e*function(t,r,n){return"%"===r?t.ownerSVGElement.viewBox.baseVal[n?"width":"height"]/100:1}(t,o,0===i)}))}(t):Xr(style).map((function(t){return parseFloat(t)})),v=!0,"g"===o?(c=0,f=0):(c=(e=function(t,r){if(!t.getBBox)return[0,0];var n=t.getBBox(),e=t.ownerSVGElement.viewBox.baseVal,o=n.x-e.x,c=n.y-e.y;return[o,c,r[0]-o,r[1]-c]}(t,h))[0],f=e[1],h[0]=e[2],h[1]=e[3])),{isSVG:d,hasOffset:v,offset:[c,f],origin:h}}function Vr(t,r,n){var e,o,a,c,f=t,l=[],h=!1,d=!1,v=3,m=Hr(r,r,!0).offsetParent;for(n&&(h=t===r,n.length>10&&(d=!0,v=4),r=t.parentElement);f&&!h;){var style=bn(f),y=f.tagName.toLowerCase(),w=style.position,x="fixed"===w,M=style.transform,_=6===(a=(c=M)&&"none"!==c?S(c)?c:O(c).value.split(/s*,\s*/g).map((function(t){return parseFloat(t)})):[1,0,0,1,0,0]).length?[a[0],a[2],a[4],a[1],a[3],a[5],0,0,1]:Tt(a),E=_.length;if(!d&&16===E){d=!0,v=4;for(var N=l.length,i=0;i<N;++i)l[i]=jt(l[i],3,4)}d&&9===E&&(_=jt(_,3,4));var D=Wr(f,r,style,x),z=D.hasOffset,C=D.isSVG,A=D.origin,B=D.offset,P=B[0],R=B[1];"svg"===y&&o&&l.push($r(f,v),Jt(v));var I=Hr(f,r),F=I.offsetParent,T=I.isEnd,k=I.isStatic;Rr&&z&&!C&&k&&"relative"===w&&(P-=F.offsetLeft,R-=F.offsetTop,h=h||T);var j=0,G=0;if(z&&m!==F&&(j=F.clientLeft,G=F.clientTop),l.push(Yr(_,v,A),Qt(z?[P-f.scrollLeft+j,R-f.scrollTop+G]:[f,A],v)),o||(o=_),e||(e=A),h||x)break;f=F,h=T}return o||(o=Jt(v)),e||(e=[0,0]),{offsetContainer:m,matrixes:l,targetMatrix:o,transformOrigin:e,is3d:d}}function Zr(t,r,n,e,o,c){var f=Vr(t,r,e),l=f.matrixes,h=f.is3d,d=f.targetMatrix,v=f.transformOrigin,m=Vr(f.offsetContainer,n,o),y=m.matrixes,w=m.is3d,x=w||h?4:3,M="svg"!==t.tagName.toLowerCase()&&"ownerSVGElement"in t,_=r||document.body,E=e?jt(e,c,x):Jt(x),N=d,D=o?jt(o,c,x):Jt(x),z=e?jt(e,c,x):Jt(x),O=Jt(x),C=l.length,A=Hr(_,_,!0).offsetParent;y.reverse(),l.reverse(),!h&&w&&(N=jt(N,3,4),l.forEach((function(t,i){l[i]=jt(t,3,4)}))),h&&!w&&y.forEach((function(t,i){y[i]=jt(t,3,4)})),o||y.forEach((function(t){D=Lt(D,t,x)})),l.forEach((function(t,i){var r;C-2===i&&(z=E.slice()),C-1===i&&(O=E.slice()),S(t[x-1])&&(r=function(t,r,n,e,o,c){var f,l=an(t),h=l[0],d=l[1],v=r.getBoundingClientRect(),rect=t.getBoundingClientRect(),m=rect.left-v.left+r.scrollLeft,y=rect.top-v.top+r.scrollTop,w=rect.width,x=rect.height,M=Gt(n,o,c),_=tn(M,h,d,n),E=_.left,S=_.top,N=_.width,D=_.height,z=Jr(M,e,n),O=Ht(z,[E,S]),C=[m+O[0]*w/N,y+O[1]*x/D],A=[0,0],B=0;for(;++B<10;){var P=Ft(o,n);f=Ht(Jr(P,C,n),Jr(P,z,n)),A[0]=f[0],A[1]=f[1];var R=tn(Gt(n,o,Qt(A,n),c),h,d,n),I=R.left,F=R.top,T=I-m,k=F-y;if(Math.abs(T)<2&&Math.abs(k)<2)break;C[0]-=T,C[1]-=k}return A.map((function(p){return Math.round(p)}))}(t[x-1],A,x,t[2*x-1],E,l[i+1]),t[x-1]=r[0],t[2*x-1]=r[1]),E=Lt(E,t,x)}));var B=!M&&h;N||(N=Jt(B?4:3));var P=(B?"matrix3d":"matrix")+"("+Zt(M&&16===N.length?jt(N,4,3):N)+")";return[D=It(D,x,x),z,O,E,N,P,v,h||w]}function $r(t,r){var n=t.clientWidth,e=t.clientHeight,o=t.viewBox.baseVal,c=o.width||n,f=o.height||e,l=n/c,h=e/f,d=t.preserveAspectRatio.baseVal,v=d.align,m=d.meetOrSlice,y=[0,0],w=[l,h],x=[0,0];if(1!==v){var M=(v-2)%3,_=Math.floor((v-2)/3);y[0]=c*M/2,y[1]=f*_/2;var E=2===m?Math.max(h,l):Math.min(l,h);w[0]=E,w[1]=E,x[0]=(n-c)/2*M,x[1]=(e-f)/2*_}var S=Kt(w,r);return S[r-1]=x[0],S[2*r-1]=x[1],Yr(S,r,y)}function Jr(t,r,n){return Wt(t,kt(r,n),n)}function Kr(t,r,n,e){return[Jr(t,[0,0],e),Jr(t,[r,0],e),Jr(t,[0,n],e),Jr(t,[r,n],e)]}function Qr(t){var r=t.map((function(t){return t[0]})),n=t.map((function(t){return t[1]})),e=Math.min.apply(Math,r),o=Math.min.apply(Math,n),c=Math.max.apply(Math,r),f=Math.max.apply(Math,n);return{left:e,top:o,right:c,bottom:f,width:c-e,height:f-o}}function tn(t,r,n,e){return Qr(Kr(t,r,n,e))}function rn(t,r,n,e){var o=16===t.length?4:3,c=Kr(t,n,e,o),f=c[0],l=f[0],h=f[1],d=c[1],v=d[0],m=d[1],y=c[2],w=y[0],x=y[1],M=c[3],_=M[0],E=M[1],S=Jr(t,r,o),N=S[0],D=S[1],z=Math.min(l,v,w,_),O=Math.min(h,m,x,E),C=Math.max(l,v,w,_),A=Math.max(h,m,x,E);N=N-z||0,D=D-O||0;var B=[((l=l-z||0)+(v=v-z||0)+(w=w-z||0)+(_=_-z||0))/4,((h=h-O||0)+(m=m-O||0)+(x=x-O||0)+(E=E-O||0))/4],P=qt(B,[l,h]),R=qt(B,[v,m]);return[[z,O,C,A],[N,D],[l,h],[v,m],[w,x],[_,E],P<R&&R-P<Math.PI||P>R&&R-P<-Math.PI?1:-1]}function nn(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function en(t,r,n){void 0===n&&(n=qt(t,r));var e=function(t,r){return nn([r[0]-t[0],r[1]-t[1]])}(t,r);return{transform:"translateY(-50%) translate("+t[0]+"px, "+t[1]+"px) rotate("+n+"rad)",width:e+"px"}}function on(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var e=r.length,o=r.reduce((function(t,r){return t+r[0]}),0)/e,c=r.reduce((function(t,r){return t+r[1]}),0)/e;return{transform:"translate("+o+"px, "+c+"px) rotate("+t+"rad)"}}function an(t,style,r,n){void 0===style&&(style=window.getComputedStyle(t)),void 0===n&&(n=r||"border-box"===style.boxSizing);var e=t.offsetWidth,o=t.offsetHeight,c=!E(e);if((r||n)&&c)return[e,o];if(e=t.clientWidth,o=t.clientHeight,!c&&!e&&!o){var f=t.getBBox();return[f.width,f.height]}return r||n?[e+(parseFloat(style.borderLeftWidth)||0)+(parseFloat(style.borderRightWidth)||0),o+(parseFloat(style.borderTopWidth)||0)+(parseFloat(style.borderBottomWidth)||0)]:[e-(parseFloat(style.paddingLeft)||0)-(parseFloat(style.paddingRight)||0),o-(parseFloat(style.paddingTop)||0)-(parseFloat(style.paddingBottom)||0)]}function sn(t,r){return qt(r>0?t[0]:t[1],r>0?t[1]:t[0])}function un(t,r,n,e,o){var c,f,l,h,d,v=0,m=0,y=0,w=0,x=[0,0],M=[0,0],_=[0,0],S=[0,0],N=[0,0],D=Ur(),z=Ur(),O=Ur(),C=Ur(),A=Ur(),B=0,P=0,R=[0,0],I=1,F=1,T=!1,k="",j=[0,0],G={left:0,right:0,top:0,bottom:0,width:0,height:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},L={left:0,right:0,top:0,bottom:0,width:0,height:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},U=0,Y=o?o.beforeMatrix:void 0,X=o?o.rootMatrix:void 0,H=o?o.is3d?4:3:void 0;if(t){if(o)B=o.width,P=o.height;else{var style=bn(t);B=t.offsetWidth,P=t.offsetHeight,E(B)&&(B=(c=an(t,style,!0))[0],P=c[1])}D=(f=Zr(t,r,e,Y,X,H))[0],O=f[1],z=f[2],C=f[3],A=f[4],k=f[5],R=f[6],T=f[7],v=(h=(l=rn(C,R,B,P))[0])[0],m=h[1],y=h[2],w=h[3],x=l[1],M=l[2],_=l[3],S=l[4],N=l[5],I=l[6];var W;W=(d=rn(z,Xt(R,function(t,r){void 0===r&&(r=Math.sqrt(t.length));for(var n=[],i=0;i<r-1;++i)n[i]=t[(i+1)*r-1];return n[r-1]=0,n}(A,T?4:3)),B,P))[0],j=d[1],F=d[6],j=[j[0]+W[0]-v,j[1]+W[1]-m],G=cn(t),L=cn(Hr(n,n,!0).offsetParent||document.body,!0),U=sn([M,_],I)}return{rotation:U,targetClientRect:G,containerClientRect:L,beforeDirection:F,direction:I,target:t,left:v,top:m,right:y,bottom:w,pos1:M,pos2:_,pos3:S,pos4:N,width:B,height:P,rootMatrix:D,beforeMatrix:O,offsetMatrix:z,targetMatrix:A,matrix:C,targetTransform:k,is3d:T,beforeOrigin:j,origin:x,transformOrigin:R}}function cn(t,r){var n=t.getBoundingClientRect(),e=n.left,o=n.width,c=n.top,f=n.bottom,rect={left:e,right:n.right,top:c,bottom:f,width:o,height:n.height};return r&&(rect.clientWidth=t.clientWidth,rect.clientHeight=t.clientHeight,rect.scrollWidth=t.scrollWidth,rect.scrollHeight=t.scrollHeight),rect}function fn(t){if(t){var r=t.getAttribute("data-direction");if(r){var n=[0,0];return r.indexOf("w")>-1&&(n[0]=-1),r.indexOf("e")>-1&&(n[0]=1),r.indexOf("n")>-1&&(n[1]=-1),r.indexOf("s")>-1&&(n[1]=1),n}}}function ln(t,r){return[Xt(r,t[0]),Xt(r,t[1]),Xt(r,t[2]),Xt(r,t[3])]}function pn(t){var r=t.left,n=t.top;return ln([t.pos1,t.pos2,t.pos3,t.pos4],[r,n])}function hn(t){return Math.round(t%1==-.5?t-1:t)}function dn(t,r){return r?Math.round(t/r)*r:t}function vn(t,r){return t.forEach((function(n,i){t[i]=dn(t[i],r)})),t}function gn(t,r){t[r]&&(t[r].unset(),t[r]=null)}function mn(t,r,n){return(t[0]-r[0])*(n[1]-r[1])-(t[1]-r[1])*(n[0]-r[0])}function yn(t,r,n){var e=r.datas;return e.datas||(e.datas={}),Ar({},n,{target:t.state.target,clientX:r.clientX,clientY:r.clientY,inputEvent:r.inputEvent,currentTarget:t,datas:e.datas})}function wn(t,r,n){return t.triggerEvent(r,n)}function bn(t,r){return window.getComputedStyle(t,r)}function xn(t,r){var n={},e={};return t.filter((function(t){var o=t.name;if(n[o]||!r.some((function(r){return t[r]})))return!1;if(t.ableGroup){if(e[t.ableGroup])return!1;e[t.ableGroup]=!0}return n[o]=!0,!0}))}function Mn(t,r,n){return t*(r?n:1/n)}function _n(t,r,n){return t*(r?1/n:n)}function En(t,r){return t===r||null==t&&null==r}function Sn(t){return t.reduce((function(t,r){return t.concat(r)}),[])}function Nn(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.sort((function(a,b){return Math.abs(b)-Math.abs(a)})),t[0]}function Dn(t,r){var n,e=t.is3d?4:3;return n=Wt(Ft(t.rootMatrix,e),kt([r.distX,r.distY],e),e),r.distX=n[0],r.distY=n[1],r}function zn(t,r,n,e,o,c,f){var l="Start"===o;if(l&&e.indexOf("Control")>-1&&!c.isRequest&&t.areaElement===c.inputEvent.target)return!1;var h=""+n+e+o,d=""+n+e+"Condition",v="End"===o,m=o.indexOf("After")>-1;l&&t.updateRect(o,!0,!1),""!==o||m||Dn(t.state,c);var y=e.indexOf("Group")>-1,w=t[r].filter((function(t){return t[h]})),x=w.filter((function(r){var n=l&&r[d];return!(n&&!n(c,t))&&r[h](t,c)})),M=x.length;if(l){if(w.length&&!M)return t.state.dragger=null,t.moveables&&t.moveables.forEach((function(t){t.state.dragger=null})),!1;!function(t,r,n){var e=yn(t,n,{isPinch:!!n.isPinch}),o=r?"Group":"";r&&(e.targets=t.props.targets),wn(t,"onRender"+o+"Start",e)}(t,y,c)}else v?function(t,r,n){var e=yn(t,n,{isPinch:!!n.sPinch,isDrag:n.isDrag}),o=r?"Group":"";r&&(e.targets=t.props.targets),wn(t,"onRender"+o+"End",e)}(t,y,c):M&&function(t,r,n){var e=yn(t,n,{isPinch:!!n.isPinch}),o=r?"Group":"";r&&(e.targets=t.props.targets),wn(t,"onRender"+o,e)}(t,y,c);v&&(t.state.dragger=null),!l&&M&&(x.some((function(t){return t.updateRect}))&&!y?t.updateRect(o,!1,!1):t.updateRect(o,!0,!1)),(!l&&M||v&&!M)&&!f&&t.forceUpdate(),l||v||m||!M||zn(t,r,n,e,o+"After",c)}function On(t,r,n,e){var o={container:window,pinchThreshold:t.props.pinchThreshold};return["drag","pinch"].forEach((function(r){["Start","","End"].forEach((function(c){o[""+r+c.toLowerCase()]=function(o){return zn(t,n,r,e,c,o)}}))})),new xr(r,o)}var Cn=ar("div",Fr);function An(t,r,n,e){var o=qt(r,n),c=t?dn(o/Math.PI*180,15)%180:-1;return Z("div",{key:"line"+e,className:Lr("line","direction",t),"data-rotation":c,"data-direction":t,style:en(r,n,o)})}var Bn=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.state={container:null,target:null,beforeMatrix:Ur(),matrix:Ur(),targetMatrix:Ur(),targetTransform:"",is3d:!1,left:0,top:0,width:0,height:0,transformOrigin:[0,0],direction:1,beforeDirection:1,beforeOrigin:[0,0],origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],targetClientRect:{left:0,right:0,top:0,bottom:0,width:0,height:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},containerClientRect:{left:0,right:0,top:0,bottom:0,width:0,height:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},rotation:0},r.targetAbles=[],r.controlAbles=[],r}Cr(r,t);var n=r.prototype;return n.render=function(){var t=this.props,r=this.props,n=r.edge,e=r.parentPosition,o=r.className,c=r.target,f=r.zoom;this.checkUpdate();var h=e||{left:0,top:0},d=h.left,v=h.top,m=this.state,y=m.left,w=m.top,x=m.pos1,M=m.pos2,_=m.pos3,E=m.pos4,S=m.target,N=m.direction,D=t.targets,z=(D&&D.length||c)&&S;return Z(Cn,{ref:l(this,"controlBox"),className:Lr("control-box",-1===N?"reverse":"")+" "+o,style:{position:"absolute",display:z?"block":"none",transform:"translate("+(y-d)+"px, "+(w-v)+"px) translateZ(50px)","--zoom":f,"--zoompx":f+"px"}},this.renderAbles(),An(n?"n":"",x,M,0),An(n?"e":"",M,E,1),An(n?"w":"",x,_,2),An(n?"s":"",_,E,3))},n.componentDidMount=function(){this.controlBox.getElement();var t=this.props,r=t.parentMoveable,n=t.container;this.updateEvent(t),n||r||this.updateRect("End",!1,!0)},n.componentDidUpdate=function(t){this.updateEvent(t)},n.componentWillUnmount=function(){gn(this,"targetDragger"),gn(this,"controlDragger")},n.getContainer=function(){var t=this.props,r=t.parentMoveable;return t.container||r&&r.getContainer()||this.controlBox.getElement().parentElement},n.isMoveableElement=function(t){return t&&(t.getAttribute("class")||"").indexOf(Ir)>-1},n.dragStart=function(t){this.targetDragger&&this.targetDragger.onDragStart(t)},n.isInside=function(t,r){var n=this.state,e=n.pos1,o=n.pos2,c=n.pos3,f=n.pos4,l=n.target,h=n.targetClientRect;return!!l&&function(t,r,n,e,o){var c=[mn(t,r,n),mn(t,n,o),mn(t,o,r)],f=[mn(t,n,o),mn(t,o,e),mn(t,e,n)];return!!(c.every((function(t){return t>=0}))||c.every((function(t){return t<=0}))||f.every((function(t){return t>=0}))||f.every((function(t){return t<=0})))}([t-h.left,r-h.top],e,o,f,c)},n.updateRect=function(t,r,n){void 0===n&&(n=!0);var e=this.props,o=e.parentMoveable,c=this.state,f=c.target||this.props.target,l=this.getContainer(),h=o?o.props.rootContainer:e.rootContainer;this.updateState(un(f,l,l,h||l,r?c:void 0),!o&&n)},n.updateEvent=function(t){var r=this.controlBox.getElement(),n=this.targetAbles.length,e=this.controlAbles.length,o=this.props.target,c=t.target,f=this.props.dragArea,l=t.dragArea,h=!f&&c!==o,d=!n&&this.targetDragger||h||l!==f;d&&(gn(this,"targetDragger"),this.updateState({dragger:null})),e||gn(this,"controlDragger"),o&&n&&!this.targetDragger&&(this.targetDragger=On(this,f?this.areaElement:o,"targetAbles","")),!this.controlDragger&&e&&(this.controlDragger=On(this,r,"controlAbles","Control")),d&&this.unsetAbles()},n.isDragging=function(){return!!this.targetDragger&&this.targetDragger.isFlag()||!!this.controlDragger&&this.controlDragger.isFlag()},n.updateTarget=function(t){this.updateRect(t,!0)},n.getRect=function(){var t=this.state,r=pn(this.state),n=r[0],e=r[1],o=r[2],c=r[3],rect=Qr(r),f=t.width,l=t.height,h=rect.width,d=rect.height,v=rect.left,m=rect.top,y=[t.left,t.top],w=Xt(y,t.origin);return{width:h,height:d,left:v,top:m,pos1:n,pos2:e,pos3:o,pos4:c,offsetWidth:f,offsetHeight:l,beforeOrigin:Xt(y,t.beforeOrigin),origin:w}},n.request=function(t,param,r){void 0===param&&(param={});var n=this.props,e=n.ables,o=n.groupable,c=e.filter((function(r){return r.name===t}))[0];if(this.isDragging()||!c||!c.request)return{request:function(){return this},requestEnd:function(){return this}};var f=this,l=c.request(this),h=l.isControl?"controlAbles":"targetAbles",d=(o?"Group":"")+(l.isControl?"Control":""),v={request:function(t){return zn(f,h,"drag",d,"",Ar({},l.request(t),{isRequest:!0}),r),this},requestEnd:function(){return zn(f,h,"drag",d,"End",Ar({},l.requestEnd(),{isRequest:!0})),this}};return zn(f,h,"drag",d,"Start",Ar({},l.requestStart(param),{isRequest:!0}),r),param.isInstant?v.request(param).requestEnd():v},n.checkUpdate=function(){var t=this.props,r=t.target,n=t.container,e=t.parentMoveable,o=this.state,c=o.target,f=o.container;(c||r)&&(this.updateAbles(),(!En(c,r)||!En(f,n))&&(this.updateState({target:r,container:n}),e||!n&&!this.controlBox||this.updateRect("End",!1,!1)))},n.triggerEvent=function(t,r){var n=this.props[t];return n&&n(r)},n.unsetAbles=function(){var t=this;this.targetAbles.filter((function(r){return!!r.unset&&(r.unset(t),!0)})).length&&this.forceUpdate()},n.updateAbles=function(t,r){void 0===t&&(t=this.props.ables),void 0===r&&(r="");var n=this.props,e=t.filter((function(t){return t&&n[t.name]})),o="drag"+r+"ControlStart",c=xn(e,["drag"+r+"Start","pinch"+r+"Start"]),f=xn(e,[o]);this.targetAbles=c,this.controlAbles=f},n.updateState=function(t,r){if(r)this.setState(t);else{var n=this.state;for(var e in t)n[e]=t[e]}},n.renderAbles=function(){var t=this,r=this.props,n=r.ables.filter((function(t){return t&&r[t.name]})),e={createElement:Z};return Sn(xn(n,["render"]).map((function(r){return(0,r.render)(t,e)})))},r.defaultProps={target:null,container:null,rootContainer:null,origin:!0,edge:!1,parentMoveable:null,parentPosition:null,ables:[],pinchThreshold:20,dragArea:!1,transformOrigin:"",className:"",zoom:1},r}(at);function Pn(t){return qt([t[0].clientX,t[0].clientY],[t[1].clientX,t[1].clientY])/Math.PI*180}var Rn={name:"pinchable",updateRect:!0,props:{pinchable:Boolean,pinchThreshold:Number},pinchStart:function(t,r){var n=r.datas,e=r.clientX,o=r.clientY,c=r.touches,f=r.inputEvent,l=r.targets,h=t.props,d=h.pinchable,v=h.ables;if(!d)return!1;var m="onPinch"+(l?"Group":"")+"Start",y="drag"+(l?"Group":"")+"ControlStart",w=(!0===d?t.controlAbles:v.filter((function(t){return d.indexOf(t.name)>-1}))).filter((function(t){return t.canPinch&&t[y]})),x=yn(t,r,{});l&&(x.targets=l);var M=wn(t,m,x);n.isPinch=!1!==M,n.ables=w;var _=n.isPinch;if(!_)return!1;var E=Pn(c);return w.forEach((function(r){n[r.name+"Datas"]={};var c={datas:n[r.name+"Datas"],clientX:e,clientY:o,inputEvent:f,parentRotate:E,pinchFlag:!0};r[y](t,c)})),t.state.snapRenderInfo={direction:[0,0]},_},pinch:function(t,r){var n=r.datas,e=r.clientX,o=r.clientY,c=r.scale,f=r.distance,l=r.touches,h=r.inputEvent,d=r.targets;if(n.isPinch){var v=Pn(l),m=f*(1-1/c),y=yn(t,r,{});d&&(y.targets=d),wn(t,"onPinch"+(d?"Group":""),y);var w=n.ables,x="drag"+(d?"Group":"")+"Control";return w.forEach((function(r){r[x](t,{clientX:e,clientY:o,datas:n[r.name+"Datas"],inputEvent:h,parentDistance:m,parentRotate:v,pinchFlag:!0})})),y}},pinchEnd:function(t,r){var n=r.datas,e=r.clientX,o=r.clientY,c=r.isPinch,f=r.inputEvent,l=r.targets;if(n.isPinch){var h="onPinch"+(l?"Group":"")+"End",d=yn(t,r,{isDrag:c});l&&(d.targets=l),wn(t,h,d);var v=n.ables,m="drag"+(l?"Group":"")+"ControlEnd";return v.forEach((function(r){r[m](t,{clientX:e,clientY:o,isDrag:c,datas:n[r.name+"Datas"],inputEvent:f,pinchFlag:!0})})),c}},pinchGroupStart:function(t,r){return this.pinchStart(t,Ar({},r,{targets:t.props.targets}))},pinchGroup:function(t,r){return this.pinch(t,Ar({},r,{targets:t.props.targets}))},pinchGroupEnd:function(t,r){return this.pinchEnd(t,Ar({},r,{targets:t.props.targets}))}};function In(t,r,n,e,o,c){var f=r.name,l=e[f]||(e[f]=[]),h=!!n.match(/End$/g);return t.moveables.map((function(t,i){var e=l[i]||(l[i]={}),f="function"==typeof o?o(t,e):o,d=r[n](t,Ar({},f,{datas:e,parentFlag:!0}));return d&&c&&c(t,e,d,i),h&&(t.state.dragger=null),d}))}function Fn(t,r){var n=r.datas,e=t.state,o=e.matrix,c=e.beforeMatrix,f=e.is3d,l=e.left,h=e.top,d=e.origin,v=e.offsetMatrix,m=e.targetMatrix,y=e.transformOrigin,w=f?4:3;n.is3d=f,n.matrix=o,n.targetMatrix=m,n.beforeMatrix=c,n.offsetMatrix=v,n.transformOrigin=y,n.inverseMatrix=Ft(o,w),n.inverseBeforeMatrix=Ft(c,w),n.absoluteOrigin=kt(Xt([l,h],d),w),n.startDragBeforeDist=Wt(n.inverseBeforeMatrix,n.absoluteOrigin,w),n.startDragDist=Wt(n.inverseMatrix,n.absoluteOrigin,w)}function Tn(t,r){var n=t.datas,e=t.distX,o=t.distY,c=n.inverseBeforeMatrix,f=n.inverseMatrix,l=n.is3d,h=n.startDragBeforeDist,d=n.startDragDist,v=l?4:3;return Ht(Wt(r?c:f,Xt(n.absoluteOrigin,[e,o]),v),r?h:d)}function qn(t){var r=[];return t[1]>=0&&(t[0]>=0&&r.push(3),t[0]<=0&&r.push(2)),t[1]<=0&&(t[0]>=0&&r.push(1),t[0]<=0&&r.push(0)),r}function kn(t,r){return qn(r).map((function(r){return t[r]}))}function jn(t,r){var n=kn(t,r);return[Yt.apply(void 0,n.map((function(t){return t[0]}))),Yt.apply(void 0,n.map((function(t){return t[1]})))]}function Gn(t,r){var n=t[0],e=t[1],o=t[2];return jn([t[3],o,e,n],r)}function Ln(t,r){return Gn([t[0],t[1],t[2],t[3]],r)}function Un(t,r,n,e,o,c){var f=Gn(Kr(r,n,e,o),c);return[t[0]-f[0],t[1]-f[1]]}function Yn(t,r,n,e){return Lt(t,Yr(r,e,n),e)}function Xn(t,r){var n=t.transformOrigin,e=t.offsetMatrix,o=t.is3d?4:3;return Yn(e,Lt(t.targetMatrix,Kt(r,o),o),n,o)}function Hn(t,r,n,e,o,c){var f=t.props.groupable,l=t.state,h=l.transformOrigin,d=l.targetMatrix,v=l.offsetMatrix,m=l.is3d,y=l.width,w=l.height,x=l.left,M=l.top,_=m?4:3,E=f?x:0,S=f?M:0;return Ht(Un(o,Yn(v,d,function(t,r,n,e,o,c){return void 0===e&&(e=r),void 0===o&&(o=n),void 0===c&&(c=[0,0]),t?t.map((function(t,i){var f=C(t),l=f.value,h=f.unit,d=i?o:e,v=i?n:r;return"%"===t||isNaN(l)?v*(d?c[i]/d:0):"%"!==h?l:v*l/100})):c}(c,r,n,y,w,h),_),r,n,_,e),[E,S])}function Wn(t,r){return Ln(pn(t.state),r)}function Vn(t){return t.isRequest?t.parentDirection:P(t.inputEvent.target,Lr("direction"))}function Zn(t,r,n,e,o){var c=function(t){var r=t.state,n=r.guidelines,e=r.containerClientRect,o=e.scrollHeight,c=e.scrollWidth,f=t.props,l=f.snapHorizontal,h=void 0===l||l,d=f.snapVertical,v=void 0===d||d,m=f.verticalGuidelines,y=f.horizontalGuidelines,w=n.slice();return h&&y&&y.forEach((function(t){w.push({type:"horizontal",pos:[0,dn(t,.1)],size:c})})),v&&m&&m.forEach((function(t){w.push({type:"vertical",pos:[dn(t,.1),0],size:o})})),w}(t),f=t.props,l=f.snapElement,h=void 0===l||l,d=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=t.length-1,i=0;i<n;++i){var e=t[i];if(!E(e))return e}return t[n]}(o,f.snapThreshold,5);return{vertical:Jn(c,"vertical",r,d,e,h),horizontal:Jn(c,"horizontal",n,d,e,h)}}function $n(t){var r=t.isSnap;if(!r)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var n=t.posInfos[0],e=n.guidelineInfos[0],o=e.offset,c=e.dist,f=e.guideline;return{isSnap:r,offset:o,dist:c,pos:n.pos,guideline:f}}function Jn(t,r,n,e,o,c){if(!t||!t.length)return{isSnap:!1,posInfos:[]};var f="vertical"===r?0:1,l=n.map((function(n){var l=t.map((function(t){var r=t.pos,e=n-r[f];return{offset:e,dist:Math.abs(e),guideline:t}})).filter((function(t){var n=t.guideline,f=t.dist,l=n.type,h=n.center,element=n.element;return!(!c&&element||!o&&h||l!==r||f>e)})).sort((function(a,b){return a.dist-b.dist}));return{pos:n,guidelineInfos:l}})).filter((function(t){return t.guidelineInfos.length>0})).sort((function(a,b){return a.guidelineInfos[0].dist-b.guidelineInfos[0].dist}));return{isSnap:l.length>0,posInfos:l}}function Kn(t,r){return t.slice().sort((function(a,b){var t=a.sign[r],n=b.sign[r],e=a.offset[r],o=b.offset[r],c=Math.abs(e),f=Math.abs(o);return t?n?a.isBound&&b.isBound?f-c:a.isBound?-1:b.isBound?1:a.isSnap&&b.isSnap?c-f:a.isSnap?-1:b.isSnap||c<1e-7?1:f<1e-7?-1:c-f:-1:1}))[0]}function Qn(t,line){var r=Yt(line[0][0],line[1][0]),n=Yt(line[0][1],line[1][1]);return{vertical:r<=t[0],horizontal:n<=t[1]}}function te(t,r){var n,e,o=r[0],c=r[1],f=c[0]-o[0],l=c[1]-o[1];if(f)if(l){n=l/f*(t[0]-o[0])+o[1],e=t[1]}else n=o[1],e=t[1];else n=o[0],e=t[0];return n-e}function re(t,line,r){void 0===r&&(r=1e-7);var n=te(t[0],line)<=0;return t.slice(1).every((function(t){var e=te(t,line);return e<=0===n||Math.abs(e)<=r}))}function ne(t,r,n,e,o){return void 0===o&&(o=0),e&&r-o<=t||!e&&t<=n+o?{isBound:!0,offset:e?r-t:n-t}:{isBound:!1,offset:0}}function ee(line,t,r,n){var e=line[0],o=line[1],c=t[0],f=t[1],l=o[1]-e[1],h=o[0]-e[0],d=f[1]-c[1];if(f[0]-c[0]){if(!d&&l){var a=l/h;return ne(h?(c[1]-e[1])/a+e[0]:e[0],c[0],f[0],r,n)}}else if(h)return ne(l?l/h*(c[0]-e[0])+e[1]:e[1],c[1],f[1],r,n);return{isBound:!1,offset:0}}function ie(t,r,n,e){return r.map((function(r){var o=r[0],c=r[1],f=r[2],l=function(t,line,r){var n=t.props.innerBounds;if(!n)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var e=n.left,o=n.top,c=n.width,f=n.height,l=[[e,o],[e,o+f]],h=[[e,o],[e+c,o]],d=[[e+c,o],[e+c,o+f]],v=[[e,o+f],[e+c,o+f]],m=Qn(r,line),y=m.horizontal,w=m.vertical;if(re([r,[e,o],[e+c,o],[e,o+f],[e+c,o+f]],line))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var x=ee(line,h,w),M=ee(line,v,w),_=ee(line,l,y),E=ee(line,d,y),S=x.isBound&&M.isBound,N=x.isBound||M.isBound,D=_.isBound&&E.isBound,z=_.isBound||E.isBound,O=Nn(x.offset,M.offset),C=Nn(_.offset,E.offset),A=[0,0],B=!1,P=!1;return Math.abs(C)<Math.abs(O)?(A=[O,0],B=N,P=S):(A=[0,C],B=z,P=D),{isAllBound:P,isVerticalBound:N,isHorizontalBound:z,isBound:B,offset:A}}(t,[c,f],n),h=l.isBound,d=l.offset,v=l.isVerticalBound,m=l.isHorizontalBound,y=Tn({datas:e,distX:d[0],distY:d[1]}).map((function(t,i){return t*(o[i]?2/o[i]:0)}));return{sign:o,isBound:h,isVerticalBound:v,isHorizontalBound:m,isSnap:!1,offset:y}}))}function oe(t,r,n){var e,o=ie(t,ae(r,[0,0],!1).map((function(t){var r=t[0],n=t[1],e=t[2];return[r.map((function(t){return 2*Math.abs(t)})),n,e]})),jn(r,[0,0]),n),c=Kn(o,0),f=Kn(o,1),l=0,h=0,d=c.isVerticalBound||f.isVerticalBound,v=c.isHorizontalBound||f.isHorizontalBound;return(d||v)&&(l=(e=function(t,r){var n=t.datas,e=t.distX,o=t.distY,c=n.beforeMatrix,f=n.matrix,l=n.is3d,h=n.startDragBeforeDist,d=n.startDragDist,v=n.absoluteOrigin,m=l?4:3;return Ht(Wt(r?c:f,Xt(r?h:d,[e,o]),m),v)}({datas:n,distX:-c.offset[0],distY:-f.offset[1]}))[0],h=e[1]),{vertical:{isBound:d,offset:l},horizontal:{isBound:v,offset:h}}}function ae(t,r,n){return function(t,r){var n=[],e=t[0],o=t[1];return e&&o?n.push([[0,2*o],t,[-e,o]],[[2*e,0],t,[e,-o]]):e?(n.push([[2*e,0],[e,1],[e,-1]]),r&&n.push([[0,-1],[e,-1],[-e,-1]],[[0,1],[e,1],[-e,1]])):o?(n.push([[0,2*o],[1,o],[-1,o]]),r&&n.push([[-1,0],[-1,o],[-1,-o]],[[1,0],[1,o],[1,-o]])):n.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),n}(r,n).map((function(r){var n=r[0],e=r[1],o=r[2];return[n,jn(t,e),jn(t,o)]}))}function se(t,r,n,e){var o=e?t.map((function(t){return Vt(t,e)})):t,c=[n].concat(r);return[[o[0],o[1]],[o[1],o[3]],[o[3],o[2]],[o[2],o[0]]].some((function(line,i){return!re(c,line)}))}function ue(t,r,n,e,o){var c=t.props.innerBounds,f=o*Math.PI/180;if(!c)return[];var l=c.left,h=c.top,d=c.width,v=c.height,m=l-e[0],y=l+d-e[0],w=h-e[1],x=h+v-e[1],M=[[m,w],[y,w],[m,x],[y,x]],_=jn(n,[0,0]);if(!se(n,M,_,0))return[];var E=[],S=M.map((function(t){return[nn(t),qt([0,0],t)]}));return[[n[0],n[1]],[n[1],n[3]],[n[3],n[2]],[n[2],n[0]]].forEach((function(line){var t=qt([0,0],function(t){var r=t[0],n=t[1],e=n[0]-r[0],o=n[1]-r[1];if(!e)return[r[0],0];if(!o)return[0,r[1]];var a=o/e,b=-a*r[0]+r[1];return[-b/(a+1/a),b/(a*a+1)]}(line)),n=function(t){var r=t[0],n=t[1],e=n[0]-r[0],o=n[1]-r[1];if(!e)return Math.abs(r[0]);if(!o)return Math.abs(r[1]);var a=o/e;return Math.abs((-a*r[0]+r[1])/Math.sqrt(Math.pow(a,2)+1))}(line);E.push.apply(E,S.filter((function(t){var r=t[0];return r&&n<=r})).map((function(r){var e=r[0],o=r[1],c=Math.acos(e?n/e:0);return[f+(o+c)-t,f+(o-c)-t]})).reduce((function(t,r){return t.push.apply(t,r),t}),[]).filter((function(t){return!se(r,M,_,t)})).map((function(t){return dn(180*t/Math.PI,1e-7)})))})),E}function ce(t,r,n){var e=t.props.bounds||{},o=e.left,c=void 0===o?-1/0:o,f=e.top,l=void 0===f?-1/0:f,h=e.right,d=void 0===h?1/0:h,v=e.bottom,m={left:c,top:l,right:d,bottom:void 0===v?1/0:v};return{vertical:fe(m,r,!0),horizontal:fe(m,n,!1)}}function fe(t,r,n){var e=t[n?"left":"top"],o=t[n?"right":"bottom"],c=Math.min.apply(Math,r),f=Math.max.apply(Math,r);return e+1>c?{isBound:!0,offset:c-e,pos:e}:o-1<f?{isBound:!0,offset:f-o,pos:o}:{isBound:!1,offset:0,pos:0}}function le(t,r,n){return(n?t.map((function(t){return Vt(t,n)})):t).some((function(t){return t[0]<r.left&&Math.abs(t[0]-r.left)>.1||t[0]>r.right&&Math.abs(t[0]-r.right)>.1||t[1]<r.top&&Math.abs(t[1]-r.top)>.1||t[1]>r.bottom&&Math.abs(t[1]-r.bottom)>.1}))}function pe(t,r,n,e,o){var c=t.props.bounds,f=o*Math.PI/180;if(!c)return[];var l=c.left,h=void 0===l?-1/0:l,d=c.top,v=void 0===d?-1/0:d,m=c.right,y=void 0===m?1/0:m,w=c.bottom,x=void 0===w?1/0:w,M=h-e[0],_=y-e[0],E=v-e[1],S=x-e[1],N={left:M,top:E,right:_,bottom:S};if(!le(n,N,0))return[];var D=[];return[[M,0],[_,0],[E,1],[S,1]].forEach((function(t,i){var e=t[0],o=t[1];n.forEach((function(t){var n=qt([0,0],t);D.push.apply(D,function(t,r,n){var e=nn(t),o=Math.sqrt(e*e-r*r)||0;return[o,-o].sort((function(a,b){return Math.abs(a-t[n?0:1])-Math.abs(b-t[n?0:1])})).map((function(t){return qt([0,0],n?[t,r]:[r,t])}))}(t,e,o).map((function(t){return f+t-n})).filter((function(t){return!le(r,N,t)})).map((function(t){return dn(180*t/Math.PI,1e-7)})))}))})),D}function he(t){var r=t.state;if(!r.guidelines||!r.guidelines.length){var n=t.props,e=n.horizontalGuidelines,o=void 0===e?[]:e,c=n.verticalGuidelines,f=void 0===c?[]:c,l=n.elementGuidelines,h=void 0===l?[]:l,d=n.bounds,v=n.snapCenter;if(d||o.length||f.length||h.length){var m=r.containerClientRect,y=m.top,w=m.left,x=r.targetClientRect,M=x.top,_=x.left,E=pn(r),S=Math.min.apply(Math,E.map((function(t){return t[0]}))),N=Math.min.apply(Math,E.map((function(t){return t[1]}))),D=hn(S-(_-w)),z=hn(N-(M-y)),O=[];h.forEach((function(t){var rect=t.getBoundingClientRect(),r=rect.top,n=rect.left,e=rect.width,o=rect.height,c=r-y,f=c+o,l=n-w,h=l+e;O.push({type:"vertical",element:t,pos:[dn(l+D,.1),c],size:o}),O.push({type:"vertical",element:t,pos:[dn(h+D,.1),c],size:o}),O.push({type:"horizontal",element:t,pos:[l,dn(c+z,.1)],size:e}),O.push({type:"horizontal",element:t,pos:[l,dn(f+z,.1)],size:e}),v&&(O.push({type:"vertical",element:t,pos:[dn((l+h)/2+D,.1),c],size:o,center:!0}),O.push({type:"horizontal",element:t,pos:[l,dn((c+f)/2+z,.1)],size:e,center:!0}))})),r.guidelines=O,r.enableSnap=!0}}}function de(t,r){var n=t.props,e=n.snappable,o=n.bounds,c=n.verticalGuidelines,f=n.horizontalGuidelines,l=t.state,h=l.guidelines,d=l.enableSnap;return!(!e||!d||r&&!0!==e&&e.indexOf(r)<0)&&!!(o||h&&h.length||c&&c.length||f&&f.length)}function ve(t,r,n,e,o){var c=function(t,r,n,e){var o=r[0]-t[0],c=r[1]-t[1];Math.abs(o)<1e-7&&(o=0);Math.abs(c)<1e-7&&(c=0);if(!o)return e?[0,0]:[0,n];if(!c)return e?[n,0]:[0,0];var a=c/o,b=t[1]-a*t[0];if(e){var f=a*(r[0]+n)+b;return[n,f-r[1]]}return[(r[1]+n-b)/a-r[0],n]}(t,r,-n,e);if(!c)return[0,0];var f=Tn({datas:o,distX:c[0],distY:c[1]});return[f[0],f[1]]}function ge(t,r,n,e,o,c){var f=Kr(t,r,n,c?4:3);return ln(f,Ht(e,Gn(f,o)))}function me(t,r){return t.isBound?t.offset:r.isSnap?r.offset:0}function ye(t,r){return t.isBound?t.offset:r.isSnap?$n(r).offset:0}function we(t,r,n){var e=function(t,r,n){var e=t.props.bounds||{},o=e.left,c=void 0===o?-1/0:o,f=e.top,l=void 0===f?-1/0:f,h=e.right,d=void 0===h?1/0:h,v=e.bottom,m=void 0===v?1/0:v,y=n[0],w=n[1],x=Ht(n,r),M=x[0],_=x[1],E=_>0,S=M>0,N={isBound:!1,offset:0,pos:0},D={isBound:!1,offset:0,pos:0};if(0===M&&0===_)return{vertical:N,horizontal:D};if(0===M)E?m<w&&(D.pos=m,D.offset=w-m):l>w&&(D.pos=l,D.offset=w-l);else if(0===_)S?d<y&&(N.pos=d,N.offset=y-d):c>y&&(N.pos=c,N.offset=y-c);else{var a=_/M,b=n[1]-a*y,z=0,O=0,C=!1;S&&d<=y?(z=a*d+b,O=d,C=!0):!S&&y<=c?(z=a*c+b,O=c,C=!0):E&&m<=w?(O=((z=m)-b)/a,C=!0):!E&&w<=l&&(O=((z=l)-b)/a,C=!0),C&&(N.isBound=!0,N.pos=O,N.offset=y-O,D.isBound=!0,D.pos=z,D.offset=w-z)}return{vertical:N,horizontal:D}}(t,r,n),o=e.horizontal,c=e.vertical,f=function(t,r,n){var e=n[0],o=n[1],c=r[0],f=r[1],l=Ht(n,r),h=l[0],d=l[1],v=d>0,m=h>0,y={isSnap:!1,offset:0,pos:0},w={isSnap:!1,offset:0,pos:0};if(0===h&&0===d)return{vertical:y,horizontal:w};var x=Zn(t,h?[e]:[],d?[o]:[]),M=x.vertical,_=x.horizontal;M.posInfos.filter((function(t){var r=t.pos;return m?r>=c:r<=c})),_.posInfos.filter((function(t){var r=t.pos;return v?r>=f:r<=f})),M.isSnap=M.posInfos.length>0,_.isSnap=_.posInfos.length>0;var E=$n(M),S=E.isSnap,N=E.guideline,D=$n(_),z=D.isSnap,O=D.guideline,C=z?O.pos[1]:0,A=S?N.pos[0]:0;if(0===h)z&&(w.isSnap=!0,w.pos=O.pos[1],w.offset=o-w.pos);else if(0===d)S&&(y.isSnap=!0,y.pos=A,y.offset=e-A);else{var a=d/h,b=n[1]-a*e,B=0,P=0,R=!1;S?(B=a*(P=A)+b,R=!0):z&&(P=((B=C)-b)/a,R=!0),R&&(y.isSnap=!0,y.pos=P,y.offset=e-P,w.isSnap=!0,w.pos=B,w.offset=o-B)}return{vertical:y,horizontal:w}}(t,r,n),l=f.horizontal,h=f.vertical,d=me(o,l),v=me(c,h),m=Math.abs(d),y=Math.abs(v);return{horizontal:{isBound:o.isBound,isSnap:l.isSnap,offset:d,dist:m},vertical:{isBound:c.isBound,isSnap:h.isSnap,offset:v,dist:y}}}function be(t,r,n){void 0===n&&(n=r);var e=ce(t,n.map((function(t){return t[0]})),n.map((function(t){return t[1]}))),o=e.horizontal,c=e.vertical,f=Zn(t,r.map((function(t){return t[0]})),r.map((function(t){return t[1]}))),l=f.horizontal,h=f.vertical,d=ye(o,l),v=ye(c,h),m=Math.abs(d),y=Math.abs(v);return{horizontal:{isBound:o.isBound,isSnap:l.isSnap,offset:d,dist:m},vertical:{isBound:c.isBound,isSnap:h.isSnap,offset:v,dist:y}}}function xe(t,r,n,e,o){var c=function(t,r){var n=[],e=[-t[0],-t[1]];return t[0]&&t[1]?(n.push([e,[t[0],-t[1]]],[e,[-t[0],t[1]]]),r&&n.push([e,t])):t[0]?r?n.push([e,[e[0],-1]],[e,[e[0],1]],[e,[t[0],-1]],[e,t],[e,[t[0],1]]):n.push([[e[0],-1],[t[0],-1]],[[e[0],0],[t[0],0]],[[e[0],1],[t[0],1]]):t[1]?r?n.push([e,[-1,e[1]]],[e,[1,e[1]]],[e,[-1,t[1]]],[e,[1,t[1]]],[e,t]):n.push([[-1,e[1]],[-1,t[1]]],[[0,e[1]],[0,t[1]]],[[1,e[1]],[1,t[1]]]):n.push([e,[1,0]],[e,[-1,0]],[e,[0,-1]],[e,[0,1]],[[1,0],[1,-1]],[[1,0],[1,1]],[[0,1],[1,1]],[[0,1],[-1,1]],[[-1,0],[-1,-1]],[[-1,0],[-1,1]],[[0,-1],[1,-1]],[[0,-1],[-1,-1]]),n}(n,e),f=ae(r,n,e),l=function(t,r,n,e,o){return n.map((function(n){var c=n[0],f=n[1],l=jn(r,c),h=jn(r,f),d=e?we(t,l,h):be(t,[h]),v=d.horizontal,m=v.dist,y=v.offset,w=v.isBound,x=v.isSnap,M=d.vertical,_=M.dist,E=M.offset,S=M.isBound,N=M.isSnap,D=Ht(f,c);if(!E&&!y)return{isBound:S||w,isSnap:N||x,sign:D,offset:[0,0]};var z=m<_,O=ve(l,h,z?E:y,z,o).map((function(t,i){return t*(D[i]?2/D[i]:0)}));return{sign:D,isBound:z?S:w,isSnap:z?N:x,offset:O}}))}(t,r,c,e,o).concat(ie(t,f,jn(r,[0,0]),o)),h=Kn(l,0),d=Kn(l,1);return{width:{isBound:h.isBound,offset:h.offset[0]},height:{isBound:d.isBound,offset:d.offset[1]}}}function Me(t,r,n,e,o,c,f,l,h,d,v){for(var m=pn(t.state),y=t.props.keepRatio,w=0,x=0,i=0;i<2;++i){var M=xe(t,r(w,x),c,y,v),_=M.width,E=M.height,S=_.isBound,N=E.isBound,D=_.offset,z=E.offset;if(1===i&&(S||(D=0),N||(z=0)),0===i&&h&&!S&&!N)return[0,0];if(y){var O=Math.abs(D)*(e?1/e:1),C=Math.abs(z)*(o?1/o:1);(S&&N?O<C:N||!S&&O<C)?D=e*z/o:z=o*D/e}return[w+=D,x+=z]}if(c[0]&&c[1]){var A=function(t,r,n,e,o,c,f){var l=[-o[0],-o[1]],h=t.props.bounds,d=1/0,v=1/0;if(h){var m=[[o[0],-o[1]],[-o[0],o[1]]],y=h.left,w=void 0===y?-1/0:y,x=h.top,M=void 0===x?-1/0:x,_=h.right,E=void 0===_?1/0:_,S=h.bottom,N=void 0===S?1/0:S;m.forEach((function(t){var o=t[0]!==l[0],h=t[1]!==l[1],m=jn(e,t);if(h){var y=ve(c,m,(c[1]<m[1]?N:M)-m[1],!1,f)[1];isNaN(y)||(v=n+y)}if(o){var x=ve(c,m,(c[0]<m[0]?E:w)-m[0],!0,f)[0];isNaN(x)||(d=r+x)}}))}return{maxWidth:d,maxHeight:v}}(t,e,o,m,c,l,v),B=A.maxWidth,P=A.maxHeight,R=function(t,r,n,e,o,c,f,l){var h=be(t,[jn(r,f)]),d=h.horizontal.offset,v=h.vertical.offset;if(v||d){var m=Tn({datas:l,distX:-v,distY:-d}),y=m[0],w=m[1];return[Math.min(o||1/0,n+f[0]*y)-n,Math.min(c||1/0,e+f[1]*w)-e]}return[0,0]}(t,r(w,x),e+w,o+x,B,P,c,v);w+=D=R[0],x+=z=R[1]}return[w,x]}function _e(t,rect,r,n){if(!de(t,"rotatable"))return n;var e=rect.pos1,o=rect.pos2,c=rect.pos3,f=rect.pos4,l=n*Math.PI/180,h=[e,o,c,f].map((function(t){return Ht(t,r)})),d=h.map((function(t){return Vt(t,l)})),v=pe(t,h,d,r,n).concat(ue(t,h,d,r,n));return v.sort((function(a,b){return Math.abs(a-n)-Math.abs(b-n)})),v.length?v[0]:n}function Ee(t,r,n,e,o){if(!de(t,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var c=ln(o.absolutePoses,[r,n]),f=Qr(c),l=f.left,h=f.right,d=f.top,v=f.bottom,m=[[l,d],[h,d],[l,v],[h,v]];t.props.snapCenter&&m.push([(l+h)/2,(d+v)/2]);var y=be(t,m,c),w=y.vertical,x=y.horizontal,M=oe(t,c,o),_=M.vertical,E=M.horizontal,S=w.isSnap,N=x.isSnap,D=w.isBound||_.isBound,z=x.isBound||E.isBound,O=function(t,r,n,e,o){var c=r[0],f=r[1],l=n[0],h=n[1],d=e[0],v=e[1],m=o[0],y=o[1],w=-m,x=-y;if(t&&c&&f){w=0,x=0;var M=[];if(l&&h?M.push([0,y],[m,0]):l?M.push([m,0]):h?M.push([0,y]):d&&v?M.push([0,y],[m,0]):d?M.push([m,0]):v&&M.push([0,y]),M.length){M.sort((function(a,b){return nn(Ht([c,f],a))-nn(Ht([c,f],b))}));var _=M[0];if(_[0]&&Math.abs(c)>1e-7)w=-_[0],x=f*Math.abs(c+w)/Math.abs(c)-f;else if(_[1]&&Math.abs(f)>1e-7){var E=f;x=-_[1],w=c*Math.abs(f+x)/Math.abs(E)-c}if(t&&h&&l)if(Math.abs(w)>1e-7&&Math.abs(w)<Math.abs(m))w*=S=Math.abs(m)/Math.abs(w),x*=S;else if(Math.abs(x)>1e-7&&Math.abs(x)<Math.abs(y)){var S;w*=S=Math.abs(y)/Math.abs(x),x*=S}else w=Nn(-m,w),x=Nn(-y,x)}}else w=c||l?-m:0,x=f||h?-y:0;return[w,x]}(e,[r,n],[D,z],[S,N],[Nn(w.offset,_.offset),Nn(x.offset,E.offset)]);return[{isBound:D,isSnap:S,offset:O[0]},{isBound:z,isSnap:N,offset:O[1]}]}function Se(t){var r=[];return t.forEach((function(t){t.guidelineInfos.forEach((function(t){var n=t.guideline;r.indexOf(n)>-1||r.push(n)}))})),r}function Ne(t,r,n,e){var o=t-n,c=o<0?o+r:e;return{size:(o<0?0:o)-c,pos:c}}function De(t,r,n,e){var o=[],c=function(t,r){var n=[],e={};return t.forEach((function(o,c){var f=r(o,c,t);e[f]||(e[f]=[],n.push(e[f])),e[f].push(o)})),n}(t.filter((function(t){return t.element})),(function(t){var element=t.element,n=t.pos,c=(t.size,n[e]),f=(Math.min(0,c-r)<0?-1:1)+"_"+n[e?0:1],l=function(t,r,n){var e=B(t,r);return e>-1?t[e]:n}(o,(function(t){var r=t[0],n=t[1];return element===r&&c===n}));return l?l[2]:(o.push([element,c,f]),f)}));return c.forEach((function(t){t.sort((function(a,b){return Ne(a.pos[e],a.size,r,n).size-Ne(b.pos[e],a.size,r,n).size||a.pos[e?0:1]-b.pos[e?0:1]}))})),c}function ze(t,r,n,e,o,c,f,l,h,d,v){var m=r[0],y=r[1],w=r[2],x=r[3];return Sn(t.map((function(t,i){var r=!0;return t.map((function(t,M){var _,E=t.pos,S=t.size,N=Ne(E[d],S,e,o),D=N.pos,z=N.size;if(z<f)return null;var O=r;r=!1;var C=l&&O?parseFloat(z.toFixed(h)):0;return v.createElement("div",{className:Lr("line",m,"guideline","dashed"),"data-size":C>0?C:"",key:m+"LinkGuidline"+i+"-"+M,style:(_={},_[y]=n+D+"px",_[w]=-c+E[d?0:1]+"px",_[x]=z+"px",_)})}))})))}function Oe(t,r,n,e,o,c){var f=r[0],l=r[1],h=r[2],d=r[3];return t.map((function(t,i){var r;return c.createElement("div",{className:Lr("line",f,"guideline","target","bold"),key:f+"TargetGuidline"+i,style:(r={},r[l]=n+"px",r[h]=-e+t+"px",r[d]=o+"px",r)})}))}function Ce(t,r,n,e,o,c){var f=r[0],l=r[1],h=r[2],d=r[3];return t.map((function(t,i){var r,v=t.pos,m=t.size,element=t.element;return c.createElement("div",{className:Lr("line",f,"guideline",element?"bold":""),key:f+"Guidline"+i,style:(r={},r[l]=-n+v[o]+"px",r[h]=-e+v[o?0:1]+"px",r[d]=m+"px",r)})}))}function Ae(t,r,n,e,o){var c=ce(t,r,n),f=c.vertical,l=f.isBound,h=f.pos,d=c.horizontal,v=d.isBound,m=d.pos;l&&e.indexOf(h)<0&&e.push(h),v&&o.indexOf(m)<0&&o.push(m);var y=function(t){var r=t.props.innerBounds;if(!r)return{vertical:[],horizontal:[]};var n=t.getRect(),e=n.pos1,o=n.pos2,c=n.pos3,f=n.pos4,l=jn([e,o,c,f],[0,0]),h=r.left,d=r.top,v=r.width,m=r.height,y=[[h,d],[h,d+m]],w=[[h,d],[h+v,d]],x=[[h+v,d],[h+v,d+m]],M=[[h,d+m],[h+v,d+m]],_=[],E=[],S={top:!1,bottom:!1,left:!1,right:!1};return[[e,o],[o,f],[f,c],[c,e]].forEach((function(line){var t=Qn(l,line),r=t.horizontal,n=t.vertical,e=ee(line,w,n,1),o=ee(line,M,n,1),c=ee(line,y,r,1),f=ee(line,x,r,1);e.isBound&&!S.top&&(_.push(d),S.top=!0),o.isBound&&!S.bottom&&(_.push(d+m),S.bottom=!0),c.isBound&&!S.left&&(E.push(h),S.left=!0),f.isBound&&!S.right&&(E.push(h+v),S.right=!0)})),{horizontal:_,vertical:E}}(t),w=y.vertical,x=y.horizontal;e.push.apply(e,w.filter((function(t){return e.indexOf(t)<0}))),o.push.apply(o,x.filter((function(t){return o.indexOf(t)<0})))}var Be={name:"snappable",props:{snappable:[Boolean,Array],snapCenter:Boolean,snapHorizontal:Boolean,snapVertical:Boolean,snapElement:Boolean,isDisplaySnapDigit:Boolean,snapDigit:Number,snapThreshold:Number,horizontalGuidelines:Array,verticalGuidelines:Array,elementGuidelines:Array,bounds:Object,innerBounds:Object},render:function(t,r){var n=t.state,e=n.top,o=n.left,c=n.pos1,f=n.pos2,l=n.pos3,h=n.pos4,d=n.snapRenderInfo,v=n.targetClientRect,m=n.containerClientRect,y=v.left-m.left,w=v.top-m.top,x=Math.min(c[0],f[0],l[0],h[0]),M=Math.min(c[1],f[1],l[1],h[1]);if(!d||!de(t,""))return[];var _=t.props,E=_.snapThreshold,S=void 0===E?5:E,N=_.snapDigit,D=void 0===N?0:N,z=_.isDisplaySnapDigit,O=void 0===z||z,C=pn(t.state),A=Qr(C),B=A.width,P=A.height,R=A.top,I=A.left,F=A.bottom,T=A.right,k=[],j=[],G=[],L=[],U=[];if(d.direction&&U.push(function(t,r,n){var e=[];if(n[0]&&n[1])e=[n,[-n[0],n[1]],[n[0],-n[1]]].map((function(t){return jn(r,t)}));else if(n[0]||n[1])t.props.keepRatio?e=[[-1,-1],[-1,1],[1,-1],[1,1],n].map((function(t){return jn(r,t)})):(e=kn(r,n)).length>1&&e.push([(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]);else for(var o=[r[0],r[1],r[3],r[2],r[0]],i=0;i<4;++i)e.push(o[i]),e.push([(o[i][0]+o[i+1][0])/2,(o[i][1]+o[i+1][1])/2]);return Zn(t,e.map((function(t){return t[0]})),e.map((function(t){return t[1]})),!0,1)}(t,C,d.direction)),d.snap){var rect=Qr(C);d.center&&(rect.middle=(rect.top+rect.bottom)/2,rect.center=(rect.left+rect.right)/2),U.push(function(t,rect,r,n){var e=t.props.snapCenter&&r,o=["left","right"],c=["top","bottom"];return e&&(o.push("center"),c.push("middle")),o=o.filter((function(t){return t in rect})),c=c.filter((function(t){return t in rect})),Zn(t,o.map((function(t){return rect[t]})),c.map((function(t){return rect[t]})),e,n)}(t,rect,!0,1))}U.forEach((function(t){var r=t.vertical.posInfos,n=t.horizontal.posInfos;k.push.apply(k,r.map((function(t){return t.pos}))),j.push.apply(j,n.map((function(t){return t.pos}))),G.push.apply(G,Se(r)),L.push.apply(L,Se(n))})),Ae(t,[I,T],[R,F],k,j);var Y=De(L,y,B,0),X=De(G,w,P,1),H=["horizontal","left","top","width"],W=["vertical","top","left","height"];return ze(Y,H,x,y,B,e,S,O,D,0,r).concat(ze(X,W,M,w,P,o,S,O,D,1,r),Oe(j,H,x,e,B,r),Oe(k,W,M,o,P,r),Ce(L,H,o,e,0,r),Ce(G,W,e,o,1,r))},dragStart:function(t,r){t.state.snapRenderInfo={snap:!0,center:!0},he(t)},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:function(t){return Vn(t)||je(t)},dragControlStart:function(t,r){t.state.snapRenderInfo=null,he(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,r){this.dragStart(t,r)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t,r){t.state.snapRenderInfo=null,he(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var r=t.state;r.enableSnap=!1,r.guidelines=[],r.snapRenderInfo=null}},Pe={name:"draggable",props:{draggable:Boolean,throttleDrag:Number,throttleDragRotate:Number},render:function(t,r){var n=t.props.throttleDragRotate,e=t.state,o=e.dragInfo,c=e.beforeOrigin;if(n&&o){var f=o.dist;if(f[0]||f[1]){var l=nn(f),h=qt(f,[0,0]);return r.createElement("div",{className:Lr("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:l+"px",transform:"translate("+c[0]+"px, "+c[1]+"px) rotate("+h+"rad)"}})}}},dragStart:function(t,r){var n=r.datas,e=r.parentEvent,o=r.parentDragger,c=t.state,f=c.targetTransform,l=c.target;if(c.dragger)return!1;c.dragger=o||t.targetDragger;var style=window.getComputedStyle(l);n.datas={},n.left=parseFloat(style.left||"")||0,n.top=parseFloat(style.top||"")||0,n.bottom=parseFloat(style.bottom||"")||0,n.right=parseFloat(style.right||"")||0,n.transform=f,n.startTranslate=[0,0],Fn(t,{datas:n}),n.prevDist=[0,0],n.prevBeforeDist=[0,0],n.isDrag=!1,function(t,r){r.absolutePoses=pn(t.state)}(t,n);var h=yn(t,r,{set:function(t){n.startTranslate=t}});return!1!==(e||wn(t,"onDragStart",h))?(n.isDrag=!0,t.state.dragInfo={startRect:t.getRect(),dist:[0,0]}):(c.dragger=null,n.isPinch=!1),!!n.isDrag&&h},drag:function(t,r){var n=r.datas,e=r.parentEvent,o=r.parentFlag,c=r.distX,f=r.distY,l=n.isPinch,h=n.isDrag,d=n.prevDist,v=n.prevBeforeDist,m=n.transform,y=n.startTranslate;if(h){var w=t.props,x=w.parentMoveable,M=e?0:w.throttleDrag||0,_=e?0:w.throttleDragRotate||0,E=!1,S=0;if(_>0&&(c||f)){var N=dn(180*qt([0,0],[c,f])/Math.PI,_),D=nn([c,f]);S=N*Math.PI/180,c=D*Math.cos(S),f=D*Math.sin(S)}if(!l&&!e&&!o&&(c||f)){var z=Ee(t,c,f,_,n),O=z[0],C=z[1],A=O.isSnap,B=O.isBound,P=O.offset,R=C.isSnap,I=C.isBound;E=A||R||B||I,c+=P,f+=C.offset}n.passDistX=c,n.passDistY=f;var F=Xt(Tn({datas:n,distX:c,distY:f},!0),y),T=Xt(Tn({datas:n,distX:c,distY:f},!1),y);_||E||(vn(T,M),vn(F,M));var k=Ht(F,y),j=Ht(T,y),G=Ht(j,d),L=Ht(k,v);n.prevDist=j,n.prevBeforeDist=k;var U=n.left+k[0],Y=n.top+k[1],X=n.right-k[0],H=n.bottom-k[1],W=m+" translate("+j[0]+"px, "+j[1]+"px)";if(t.state.dragInfo.dist=e?[0,0]:j,e||x||!G.every((function(t){return!t}))||!L.some((function(t){return!t}))){var V=yn(t,r,{transform:W,dist:j,delta:G,translate:T,beforeDist:k,beforeDelta:L,beforeTranslate:F,left:U,top:Y,right:X,bottom:H,isPinch:l});return!e&&wn(t,"onDrag",V),V}}},dragEnd:function(t,r){var n=r.parentEvent,e=r.datas,o=r.isDrag;if(t.state.dragger=null,t.state.dragInfo=null,e.isDrag)return e.isDrag=!1,!n&&wn(t,"onDragEnd",yn(t,r,{isDrag:o})),o},dragGroupStart:function(t,r){var n=r.datas,e=this.dragStart(t,r);if(!e)return!1;var o=In(t,this,"dragStart",n,r),c=wn(t,"onDragGroupStart",Ar({},e,{targets:t.props.targets,events:o}));return n.isDrag=!1!==c,!!n.isDrag&&e},dragGroup:function(t,r){var n=r.datas;if(n.isDrag){var e=this.drag(t,r),o=r.datas,c=o.passDistX,f=o.passDistY,l=In(t,this,"drag",n,Ar({},r,{distX:c,distY:f}));if(e){var h=Ar({targets:t.props.targets,events:l},e);return wn(t,"onDragGroup",h),h}}},dragGroupEnd:function(t,r){var n=r.isDrag,e=r.datas;if(e.isDrag)return this.dragEnd(t,r),In(t,this,"dragEnd",e,r),wn(t,"onDragGroupEnd",yn(t,r,{targets:t.props.targets,isDrag:n})),n},request:function(t){var r={},rect=t.getRect(),n=0,e=0;return{isControl:!1,requestStart:function(t){return{datas:r}},request:function(t){return"x"in t?n=t.x-rect.left:"deltaX"in t&&(n+=t.deltaX),"y"in t?e=t.y-rect.top:"deltaY"in t&&(e+=t.deltaY),{datas:r,distX:n,distY:e}},requestEnd:function(){return{datas:r,isDrag:!0}}}},unset:function(t){t.state.dragInfo=null}};function Re(t,r,n,e){void 0===e&&(e=!0);var o=t.dragger.move(r,n);return Ar({},e?Dn(t,o):o,{parentEvent:!0})}var Ie=function(){function t(){this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={}}var r=t.prototype;return r.dragStart=function(t,r){return this.isDrag=!1,this.isFlag=!1,this.datas={},this.move(t,r)},r.drag=function(t,r){return this.move([t[0]-this.prevX,t[1]-this.prevY],r)},r.move=function(t,r){var n,e;return this.isFlag?(n=this.prevX+t[0],e=this.prevY+t[1],this.isDrag=!0):(this.prevX=t[0],this.prevY=t[1],this.startX=t[0],this.startY=t[1],n=t[0],e=t[1],this.isFlag=!0),this.prevX=n,this.prevY=e,{clientX:n,clientY:e,inputEvent:r,isDrag:this.isDrag,distX:n-this.startX,distY:e-this.startY,deltaX:t[0],deltaY:t[1],datas:this.datas,parentEvent:!0,parentDragger:this}},t}();function Fe(t,r,n,e,o,rect){var c=t.state.is3d?4:3,f=Jr(t.state.rootMatrix,o,c),l=Xt([rect.left,rect.top],f);r.startAbsoluteOrigin=l,r.prevDeg=qt(l,[n,e])/Math.PI*180,r.prevSnapDeg=r.prevDeg,r.startDeg=r.prevDeg,r.loop=0}function Te(t,r,n,e,o,c){var f=n.prevDeg,l=c+e,h=_e(t,r,n.origin,e);return n.prevDeg=h,[o*(h-f),h,l]}function qe(t,r,n,e,o,c,f,l){var h=n.prevDeg,d=n.prevSnapDeg,v=n.startDeg,m=n.loop;h>e&&h>270&&e<90?++n.loop:h<e&&h<90&&e>270&&--n.loop;var y=n.loop,w=360*m+d-v+c,x=360*y+e-v+c;n.prevDeg=x-360*y+v-c;var M=o*((x=dn(x,f))-c);return l&&(x=(M=_e(t,r,n.origin,M))/o+c),n.prevSnapDeg=x-360*y+v-c,[o*(x-w),M,x]}function ke(t,r,n,e,o,c,f,l){return qe(t,r,n,qt(n.startAbsoluteOrigin,[o,c])/Math.PI*180,e,f,l,!0)}function je(t){return!!t.isRequest||P(t.inputEvent.target,Lr("rotation"))}var Ge={name:"rotatable",canPinch:!0,props:{rotatable:Boolean,rotationPosition:String,throttleRotate:Number},render:function(t,r){var n=t.props,e=n.rotatable,o=n.rotationPosition;if(!e)return null;var c=t.state,f=c.pos1,l=c.pos2,h=c.pos3,d=c.pos4,v=c.direction,m=function(t,r,n,e,o){return"left"===t?[e,r]:"right"===t?[n,o]:"bottom"===t?[o,e]:[r,n]}(o,f,l,h,d),y=sn(m,v);return r.createElement("div",{key:"rotation",className:Lr("line rotation-line"),style:{transform:"translate(-50%) translate("+(m[0][0]+m[1][0])/2+"px, "+(m[0][1]+m[1][1])/2+"px) rotate("+y+"rad)"}},r.createElement("div",{className:Lr("control","rotation")}))},dragControlCondition:je,dragControlStart:function(t,r){var n=r.datas,e=r.clientX,o=r.clientY,c=r.parentRotate,f=r.parentFlag,l=r.pinchFlag,h=r.isRequest,d=t.state,v=d.target,m=d.left,y=d.top,w=d.origin,x=d.beforeOrigin,M=d.direction,_=d.beforeDirection,E=d.targetTransform;if(!h&&!v)return!1;var rect=t.getRect();if(n.rect=rect,n.transform=E,n.left=m,n.top=y,h||l||f){var S=c||0;n.beforeInfo={origin:rect.beforeOrigin,prevDeg:S,startDeg:S,prevSnapDeg:S,loop:0},n.afterInfo={origin:rect.origin,prevDeg:S,startDeg:S,prevSnapDeg:S,loop:0}}else{n.beforeInfo={origin:rect.beforeOrigin},n.afterInfo={origin:rect.origin};var N=cn(t.controlBox.getElement());Fe(t,n.beforeInfo,e,o,x,N),Fe(t,n.afterInfo,e,o,w,N)}n.direction=M,n.beforeDirection=_,n.startRotate=0,n.datas={};var D=yn(t,r,{set:function(t){n.startRotate=t}}),z=wn(t,"onRotateStart",D);return n.isRotate=!1!==z,t.state.snapRenderInfo={},!!n.isRotate&&D},dragControl:function(t,r){var n,e,o,c,f,l,h=r.datas,d=r.clientX,v=r.clientY,m=r.parentRotate,y=r.parentFlag,w=r.pinchFlag,x=h.direction,M=h.beforeDirection,_=h.beforeInfo,E=h.afterInfo,S=h.isRotate,N=h.startRotate,rect=h.rect;if(S){var D,z,O,C,A,B,P=t.props,R=P.throttleRotate,I=void 0===R?0:R,F=P.parentMoveable;if("parentDist"in r){var T=r.parentDist;D=(n=Te(t,rect,E,T,x,N))[0],z=n[1],O=n[2],C=(e=Te(t,rect,_,T,x,N))[0],A=e[1],B=e[2]}else w||y?(D=(o=qe(t,rect,E,m,x,N,I))[0],z=o[1],O=o[2],C=(c=qe(t,rect,_,m,x,N,I))[0],A=c[1],B=c[2]):(D=(f=ke(t,rect,E,x,d,v,N,I))[0],z=f[1],O=f[2],C=(l=ke(t,rect,_,M,d,v,N,I))[0],A=l[1],B=l[2]);if(D||C||F){var k=yn(t,r,{delta:D,dist:z,rotate:O,beforeDist:A,beforeDelta:C,beforeRotate:B,transform:h.transform+" rotate("+z+"deg)",isPinch:!!w});return wn(t,"onRotate",k),k}}},dragControlEnd:function(t,r){var n=r.datas,e=r.isDrag;return!!n.isRotate&&(n.isRotate=!1,wn(t,"onRotateEnd",yn(t,r,{isDrag:e})),e)},dragGroupControlCondition:je,dragGroupControlStart:function(t,r){var n=r.datas,e=r.inputEvent,o=t.state,c=o.left,f=o.top,l=o.beforeOrigin,h=this.dragControlStart(t,r);if(!h)return!1;h.set(t.rotation);var d=In(t,this,"dragControlStart",n,Ar({},r,{parentRotate:0}),(function(t,r,n){var o=t.state,h=o.left,d=o.top,v=o.beforeOrigin,m=Xt(Ht([h,d],[c,f]),Ht(v,l));r.prevClient=m,n.dragStart=Pe.dragStart(t,(new Ie).dragStart(m,e))})),v=wn(t,"onRotateGroupStart",Ar({},h,{targets:t.props.targets,events:d}));return n.isRotate=!1!==v,!!n.isRotate&&h},dragGroupControl:function(t,r){var n=r.inputEvent,e=r.datas;if(e.isRotate){var o=this.dragControl(t,r);if(o){var c=o.beforeDist,f=o.beforeDelta/180*Math.PI,l=In(t,this,"dragControl",e,Ar({},r,{parentRotate:c}),(function(t,r,e,i){var o=r.prevClient,c=o[0],l=o[1],h=Vt([c,l],f),d=h[0],v=h[1],m=[d-c,v-l];r.prevClient=[d,v];var y=Pe.drag(t,Re(t.state,m,n,!1));e.drag=y}));t.rotation=o.beforeRotate;var h=Ar({targets:t.props.targets,events:l,set:function(r){t.rotation=r}},o);return wn(t,"onRotateGroup",h),h}}},dragGroupControlEnd:function(t,r){var n=r.isDrag,e=r.datas;if(e.isRotate)return this.dragControlEnd(t,r),In(t,this,"dragControlEnd",e,r),wn(t,"onRotateGroupEnd",yn(t,r,{targets:t.props.targets,isDrag:n})),n},request:function(){var t={},r=0;return{isControl:!0,requestStart:function(r){return{datas:t}},request:function(n){return r+=n.deltaRotate,{datas:t,parentDist:r}},requestEnd:function(){return{datas:t,isDrag:!0}}}}};function Le(t,r,n){var e=t.state,o=e.pos1,c=e.pos2,f=e.pos3,l=e.pos4,h=e.rotation,d=t.props.renderDirections,v=void 0===d?r:d,m=[o,c,f,l],y={};return v.forEach((function(t){y[t]=!0})),v.map((function(t){var r=jr[t];if(!r||!y[t])return null;var e=(dn(h/Math.PI*180,15)+Gr[t])%180;return n.createElement("div",{className:Lr("control","direction",t),"data-rotation":e,"data-direction":t,key:"direction-"+t,style:on.apply(void 0,[h].concat(r.map((function(t){return m[t]}))))})}))}function Ue(t,r){return Le(t,["nw","ne","sw","se","n","w","s","e"],r)}function Ye(t,r){return Le(t,["nw","ne","sw","se"],r)}var Xe={name:"resizable",ableGroup:"size",updateRect:!0,canPinch:!0,props:{resizable:Boolean,throttleResize:Number,renderDirections:Array,baseDirection:Array,keepRatio:Boolean},render:function(t,r){var n=t.props,e=n.resizable,o=n.edge;if(e)return o?Ye(t,r):Ue(t,r)},dragControlCondition:Vn,dragControlStart:function(t,r){var n,e=r.inputEvent,o=r.pinchFlag,c=r.parentDirection,f=r.datas,l=c||(o?[1,1]:fn(e.target)),h=t.state,d=h.target,v=h.width,m=h.height;if(!l||!d)return!1;!o&&Fn(t,{datas:f}),f.datas={},f.direction=l,f.startOffsetWidth=v,f.startOffsetHeight=m,f.prevWidth=0,f.prevHeight=0,n=function(t){var style=window.getComputedStyle(t);return[parseFloat(style.width),parseFloat(style.height)]}(d),f.startWidth=n[0],f.startHeight=n[1],f.transformOrigin=t.props.transformOrigin,f.startDirection=function(t,r){if(!r[0]&&!r[1])return[0,0];var n=t.props.baseDirection,e=void 0===n?[-1,-1]:n;return[r[0]?r[0]:-1*e[0],r[1]?r[1]:-1*e[1]]}(t,l),f.fixedPosition=Wn(t,f.startDirection),f.fixedOriginalPosition=Wn(t,l);var y=yn(t,r,{direction:l,set:function(t){var r=t[0],n=t[1];f.startWidth=r,f.startHeight=n},setOrigin:function(t){f.transformOrigin=t},dragStart:Pe.dragStart(t,(new Ie).dragStart([0,0],e))});return!1!==wn(t,"onResizeStart",y)&&(f.isResize=!0,t.state.snapRenderInfo={direction:l}),!!f.isResize&&y},dragControl:function(t,r){var n=r.datas,e=r.distX,o=r.distY,c=r.parentFlag,f=r.pinchFlag,l=r.parentDistance,h=r.parentScale,d=r.inputEvent,v=r.parentKeepRatio,m=r.dragClient,y=r.parentDist,w=n.direction,x=n.isResize,M=n.transformOrigin;if(x){var _=n.startWidth,E=n.startHeight,S=n.startOffsetWidth,N=n.startOffsetHeight,D=n.prevWidth,z=n.prevHeight,O=t.props,C=O.throttleResize,A=void 0===C?0:C,B=O.parentMoveable,P=w;w[0]||w[1]||(P=[1,1]);var R=t.props.keepRatio||v,I=P[0]||!P[1],F=I?N/S:S/N,T=R||c?w:n.startDirection,k=m||(R?n.fixedOriginalPosition:n.fixedPosition),j=0,G=0;if(y)j=y[0],G=y[1];else if(h)j=(h[0]-1)*S,G=(h[1]-1)*N;else if(f)l&&(j=l,G=l*N/S);else{var L=Tn({datas:n,distX:e,distY:o});if(j=P[0]*L[0],G=P[1]*L[1],R&&S&&N){var U=qt([0,0],L),Y=qt([0,0],P),X=qt([0,0],[S,N]),H=nn([j,G]),W=Math.cos(U-Y)*H;P[0]?P[1]?(j=Math.cos(X)*W,G=Math.sin(X)*W):G=Mn(j=W,I,F):j=_n(G=W,I,F)}}var V=P[0]||R?Math.max(S+j,1e-7):S,Z=P[1]||R?Math.max(N+G,1e-7):N;R&&S&&N&&(Z=V*N/S);var $=[0,0];if(f||($=function(t,r,n,e,o,c,f){if(!de(t,"resizable"))return[0,0];var l=t.state,h=l.matrix,d=l.is3d;return Me(t,(function(t,c){return ge(h,r+t,n+c,o,e,d)}),0,r,n,e,0,o,c,0,f)}(t,V,Z,w,n.fixedOriginalPosition,y,n)),y&&(!y[0]&&($[0]=0),!y[1]&&($[1]=0)),R){P[0]&&P[1]&&$[0]&&$[1]&&(Math.abs($[0])>Math.abs($[1])?$[1]=0:$[0]=0);var J=!$[0]&&!$[1];J&&(I?V=dn(V,A):Z=dn(Z,A)),P[0]&&!P[1]||$[0]&&!$[1]||J&&I?Z=Mn(V+=$[0],I,F):(!P[0]&&P[1]||!$[0]&&$[1]||J&&!I)&&(V=_n(Z+=$[1],I,F))}else V+=$[0],Z+=$[1],$[0]||(V=dn(V,A)),$[1]||(Z=dn(Z,A));var K=[(j=(V=Math.round(V))-S)-D,(G=(Z=Math.round(Z))-N)-z];if(n.prevWidth=j,n.prevHeight=G,B||!K.every((function(t){return!t}))){var Q=!c&&f?[0,0]:Hn(t,V,Z,T,k,M),tt=yn(t,r,{width:_+j,height:E+G,offsetWidth:V,offsetHeight:Z,direction:w,dist:[j,G],delta:K,isPinch:!!f,drag:Pe.drag(t,Re(t.state,Q,d,!1))});return wn(t,"onResize",tt),tt}}},dragControlAfter:function(t,r){var n=r.datas,e=n.isResize,o=n.startOffsetWidth,c=n.startOffsetHeight,f=n.prevWidth,l=n.prevHeight;if(e){var h=t.state,d=h.width-(o+f),v=h.height-(c+l),m=Math.abs(d)>3,y=Math.abs(v)>3;return m&&(n.startWidth+=d,n.startOffsetWidth+=d,n.prevWidth+=d),y&&(n.startHeight+=v,n.startOffsetHeight+=v,n.prevHeight+=v),m||y?(this.dragControl(t,r),!0):void 0}},dragControlEnd:function(t,r){var n=r.datas,e=r.isDrag;return!!n.isResize&&(n.isResize=!1,wn(t,"onResizeEnd",yn(t,r,{isDrag:e})),e)},dragGroupControlCondition:Vn,dragGroupControlStart:function(t,r){var n=r.datas,e=this.dragControlStart(t,r);if(!e)return!1;var o=e.direction,c=Gn(pn(t.state),o),f=In(t,this,"dragControlStart",n,(function(n,e){var f=Gn(pn(n.state),o),l=Wt($t(-t.rotation/180*Math.PI,3),[f[0]-c[0],f[1]-c[1],1],3),h=l[0],d=l[1];return e.originalX=h,e.originalY=d,r})),l=Ar({},e,{targets:t.props.targets,events:f}),h=wn(t,"onResizeGroupStart",l);return n.isResize=!1!==h,!!n.isResize&&e},dragGroupControl:function(t,r){var n=r.datas;if(n.isResize){var e=this.dragControl(t,r);if(e){var o=e.offsetWidth,c=e.offsetHeight,f=e.dist,l=t.props.keepRatio,h=[o/(o-f[0]),c/(c-f[1])],d=n.fixedOriginalPosition,v=In(t,this,"dragControl",n,(function(n,e){var o=Wt($t(t.rotation/180*Math.PI,3),[e.originalX*h[0],e.originalY*h[1],1],3),c=o[0],f=o[1];return Ar({},r,{parentScale:h,dragClient:Xt(d,[c,f]),parentKeepRatio:l})})),m=Ar({targets:t.props.targets,events:v},e);return wn(t,"onResizeGroup",m),m}}},dragGroupControlEnd:function(t,r){var n=r.isDrag,e=r.datas;if(e.isResize)return this.dragControlEnd(t,r),In(t,this,"dragControlEnd",e,r),wn(t,"onResizeGroupEnd",yn(t,r,{targets:t.props.targets,isDrag:n})),n},request:function(t){var r={},n=0,e=0,rect=t.getRect();return{isControl:!0,requestStart:function(t){return{datas:r,parentDirection:t.direction||[1,1]}},request:function(t){return"offsetWidth"in t?n=t.offsetWidth-rect.offsetWidth:"deltaWidth"in t&&(n+=t.deltaWidth),"offsetHeight"in t?e=t.offsetHeight-rect.offsetHeight:"deltaHeight"in t&&(e+=t.deltaHeight),{datas:r,parentDist:[n,e]}},requestEnd:function(){return{datas:r,isDrag:!0}}}}},He={name:"scalable",ableGroup:"size",canPinch:!0,props:{scalable:Boolean,throttleScale:Number,renderDirections:String,keepRatio:Boolean},render:function(t,r){var n=t.props,e=n.resizable,o=n.scalable,c=n.edge;if(!e&&o)return c?Ye(t,r):Ue(t,r)},dragControlCondition:Vn,dragControlStart:function(t,r){var n=r.datas,e=r.pinchFlag,o=r.inputEvent,c=r.parentDirection||(e?[1,1]:fn(o.target)),f=t.state,l=f.width,h=f.height,d=f.targetTransform,v=f.target;if(!c||!v)return!1;e||Fn(t,{datas:n}),n.datas={},n.transform=d,n.prevDist=[1,1],n.direction=c,n.width=l,n.height=h,n.startScale=[1,1],n.fixedPosition=Wn(t,c);var m=yn(t,r,{direction:c,set:function(t){n.startScale=t},dragStart:Pe.dragStart(t,(new Ie).dragStart([0,0],o))});return!1!==wn(t,"onScaleStart",m)&&(n.isScale=!0,t.state.snapRenderInfo={direction:c}),!!n.isScale&&m},dragControl:function(t,r){var n=r.datas,e=r.distX,o=r.distY,c=r.parentScale,f=r.parentDistance,l=r.parentKeepRatio,h=r.parentFlag,d=r.pinchFlag,v=r.inputEvent,m=r.dragClient,y=r.parentDist,w=n.prevDist,x=n.direction,M=n.width,_=n.height,E=n.transform,S=n.isScale,D=n.startScale;if(!S)return!1;var z=t.props,O=z.throttleScale,C=z.parentMoveable,A=t.props.keepRatio||l,B=t.state,P=x[0]||!x[1],R=M*D[0],I=_*D[1],F=P?I/R:R/I,T=1,k=1;if(c)T=c[0],k=c[1];else if(d)f&&(T=(M+f)/M,k=(_+f*_/M)/_);else{var j=Tn({datas:n,distX:e,distY:o}),G=x[0]*j[0],L=x[1]*j[1];if(A&&M&&_){var U=qt([0,0],j),Y=qt([0,0],x),X=qt([0,0],[R,I]),H=nn([G,L]),W=Math.cos(U-Y)*H;x[0]?x[1]?(G=Math.cos(X)*W,L=Math.sin(X)*W):L=Mn(G=W,P,F):G=_n(L=W,P,F)}T=(M+G)/M,k=(_+L)/_}T=x[0]||A?T*D[0]:D[0],k=x[1]||A?k*D[1]:D[1],0===T&&(T=1e-9*(w[0]>0?1:-1)),0===k&&(k=1e-9*(w[1]>0?1:-1));var V=[T/D[0],k/D[1]],Z=[T,k];if(t.props.groupable){[(V[0]>=0?1:-1)*x[0],(V[1]>=0?1:-1)*x[1]];var $=(B.snapRenderInfo||{}).direction;N($)&&($[0]||$[1])&&(B.snapRenderInfo={direction:x})}var J=[0,0];if(d||(J=function(t,r,n,e,o,c,f){var l=f.width,h=f.height;if(!de(t,"scalable"))return[0,0];var d=f.is3d,v=Me(t,(function(t,e){return ge(Xn(f,Xt(r,[t/l,e/h])),l,h,o,n,d)}),Xn(f,r),l,h,n,0,o,c,0,f);return[v[0]/l,v[1]/h]}(t,V,x,0,n.fixedPosition,y,n)),A){x[0]&&x[1]&&J[0]&&J[1]&&(Math.abs(J[0])>Math.abs(J[1])?J[1]=0:J[0]=0);var K=!J[0]&&!J[1];if(K&&(P?V[0]=dn(V[0]*D[0],O)/D[0]:V[1]=dn(V[1]*D[1],O)/D[1]),x[0]&&!x[1]||J[0]&&!J[1]||K&&P){V[0]+=J[0];var Q=Mn(M*V[0]*D[0],P,F);V[1]=Q/_/D[1]}else if(!x[0]&&x[1]||!J[0]&&J[1]||K&&!P){V[1]+=J[1];var tt=_n(_*V[1]*D[1],P,F);V[0]=tt/M/D[0]}}else V[0]+=J[0],V[1]+=J[1],J[0]||(V[0]=dn(V[0]*D[0],O)/D[0]),J[1]||(V[1]=dn(V[1]*D[1],O)/D[1]);0===V[0]&&(V[0]=1e-9*(w[0]>0?1:-1)),0===V[1]&&(V[1]=1e-9*(w[1]>0?1:-1));var nt,et,it=[V[0]/w[0],V[1]/w[1]];if(et=D,Z=[(nt=V)[0]*et[0],nt[1]*et[1]],n.prevDist=V,T===w[0]&&k===w[1]&&!C)return!1;var ot=!h&&d?[0,0]:function(t,r,n,e){var o=t.state,c=o.is3d,f=o.left,l=o.top,h=o.width,d=o.height,v=c?4:3,m=t.props.groupable,y=Xn(t.state,r),w=m?f:0,x=m?l:0;return Ht(Un(e||Ln(pn(t.state),n),y,h,d,v,n),[w,x])}(t,it,x,m),at=yn(t,r,{scale:Z,direction:x,dist:V,delta:it,transform:E+" scale("+T+", "+k+")",isPinch:!!d,drag:Pe.drag(t,Re(t.state,ot,v,!1))});return wn(t,"onScale",at),at},dragControlEnd:function(t,r){var n=r.datas,e=r.isDrag;return!!n.isScale&&(n.isScale=!1,wn(t,"onScaleEnd",yn(t,r,{isDrag:e})),e)},dragGroupControlCondition:Vn,dragGroupControlStart:function(t,r){var n=r.datas,e=this.dragControlStart(t,r);if(!e)return!1;var o=e.direction,c=Wn(t,o);n.startPos=c;var f=In(t,this,"dragControlStart",n,(function(n,e){var f=Wn(n,o),l=Wt($t(-t.rotation/180*Math.PI,3),[f[0]-c[0],f[1]-c[1],1],3),h=l[0],d=l[1];return e.originalX=h,e.originalY=d,r})),l=Ar({},e,{targets:t.props.targets,events:f}),h=wn(t,"onScaleGroupStart",l);return n.isScale=!1!==h,!!n.isScale&&l},dragGroupControl:function(t,r){var n=r.datas;if(n.isScale){var e=this.dragControl(t,r);if(e){var o=t.props.keepRatio,c=e.scale,f=n.startPos,l=In(t,this,"dragControl",n,(function(n,e){var l=Wt($t(t.rotation/180*Math.PI,3),[e.originalX*c[0],e.originalY*c[1],1],3),h=l[0],d=l[1];return Ar({},r,{parentScale:c,parentKeepRatio:o,dragClient:Xt(f,[h,d])})})),h=Ar({targets:t.props.targets,events:l},e);return wn(t,"onScaleGroup",h),h}}},dragGroupControlEnd:function(t,r){var n=r.isDrag,e=r.datas;if(e.isScale)return this.dragControlEnd(t,r),In(t,this,"dragControlEnd",e,r),wn(t,"onScaleGroupEnd",yn(t,r,{targets:t.props.targets,isDrag:n})),n},request:function(){var t={},r=0,n=0;return{isControl:!0,requestStart:function(r){return{datas:t,parentDirection:r.direction||[1,1]}},request:function(e){return r+=e.deltaWidth,n+=e.deltaHeight,{datas:t,parentDist:[r,n]}},requestEnd:function(){return{datas:t,isDrag:!0}}}}};function We(t,r){return t.map((function(t,i){return n=t,e=r[i],(n*(c=2)+e*(o=1))/(o+c);var n,e,o,c}))}function Ve(t,r,n){var e=qt(t,r),o=qt(t,n)-e;return o>=0?o:o+2*Math.PI}var Ze={name:"warpable",ableGroup:"size",props:{warpable:Boolean,renderDirections:Array},render:function(t,r){var n=t.props,e=n.resizable,o=n.scalable,c=n.warpable;if(!e&&!o&&c){var f=t.state,l=f.pos1,h=f.pos2,d=f.pos3,v=f.pos4,m=We(l,h),y=We(h,l),w=We(l,d),x=We(d,l),M=We(d,v),_=We(v,d),E=We(h,v),S=We(v,h);return[r.createElement("div",{className:Lr("line"),key:"middeLine1",style:en(m,M)}),r.createElement("div",{className:Lr("line"),key:"middeLine2",style:en(y,_)}),r.createElement("div",{className:Lr("line"),key:"middeLine3",style:en(w,E)}),r.createElement("div",{className:Lr("line"),key:"middeLine4",style:en(x,S)})].concat(Ue(t,r))}},dragControlCondition:function(t){return!t.isRequest&&P(t.inputEvent.target,Lr("direction"))},dragControlStart:function(t,r){var n=r.datas,e=r.inputEvent,o=t.props.target,c=fn(e.target);if(!c||!o)return!1;var f=t.state,l=f.transformOrigin,h=f.is3d,d=f.targetTransform,v=f.targetMatrix,m=f.width,y=f.height,w=f.left,x=f.top;return n.datas={},n.targetTransform=d,n.warpTargetMatrix=h?v:jt(v,3,4),n.targetInverseMatrix=It(Ft(n.warpTargetMatrix,4),3,4),n.direction=c,n.left=w,n.top=x,Fn(t,{datas:n}),n.poses=[[0,0],[m,0],[0,y],[m,y]].map((function(p,i){return Ht(p,l)})),n.nextPoses=n.poses.map((function(t){var r=t[0],e=t[1];return Wt(n.warpTargetMatrix,[r,e,0,1],4)})),n.startMatrix=Jt(4),n.prevMatrix=Jt(4),n.absolutePoses=pn(f),n.posIndexes=qn(c),f.snapRenderInfo={direction:c},!1!==wn(t,"onWarpStart",yn(t,r,{set:function(t){n.startMatrix=t}}))&&(n.isWarp=!0),n.isWarp},dragControl:function(t,r){var n=r.datas,e=r.distX,o=r.distY,c=n.targetInverseMatrix,f=n.prevMatrix,l=n.isWarp,h=n.startMatrix,d=n.poses,v=n.posIndexes,m=n.absolutePoses;if(!l)return!1;if(de(t,"warpable")){var y=v.map((function(t){return m[t]}));y.length>1&&y.push([(y[0][0]+y[1][0])/2,(y[0][1]+y[1][1])/2]);var w=be(t,y.map((function(t){return[t[0]+e,t[1]+o]}))),x=w.horizontal,M=w.vertical;o-=x.offset,e-=M.offset}var _=Tn({datas:n,distX:e,distY:o},!0),E=n.nextPoses.slice();if(v.forEach((function(t){E[t]=Xt(E[t],_)})),!Tr.every((function(t){return r=t.map((function(i){return d[i]})),n=t.map((function(i){return E[i]})),e=Ve(r[0],r[1],r[2]),o=Ve(n[0],n[1],n[2]),c=Math.PI,!(e>=c&&o<=c||e<=c&&o>=c);var r,n,e,o,c})))return!1;var S=rr(d[0],d[1],d[2],d[3],E[0],E[1],E[2],E[3]);if(!S.length)return!1;var N=Zt(Lt(c,S,4)),D=n.targetTransform+" matrix3d("+N.join(",")+")",z=Ut(Ft(f,4),N,4);return n.prevMatrix=N,wn(t,"onWarp",yn(t,r,{delta:z,matrix:Ut(h,N,4),multiply:Ut,dist:N,transform:D})),!0},dragControlEnd:function(t,r){var n=r.datas,e=r.isDrag;return!!n.isWarp&&(n.isWarp=!1,wn(t,"onWarpEnd",yn(t,r,{isDrag:e})),e)}},$e=Lr("area"),Je=Lr("area-pieces"),Ke=Lr("area-piece"),Qe=Lr("avoid");function ti(t){var r=t.areaElement,n=t.state,e=n.width,o=n.height;!function(element,t){if(element.classList)element.classList.remove(t);else{var r=new RegExp("(\\s|^)"+t+"(\\s|$)");element.className=element.className.replace(r," ")}}(r,Qe),r.style.cssText+="left: 0px; top: 0px; width: "+e+"px; height: "+o+"px"}function ri(t){return t.createElement("div",{key:"area_pieces",className:Je},t.createElement("div",{className:Ke}),t.createElement("div",{className:Ke}),t.createElement("div",{className:Ke}),t.createElement("div",{className:Ke}))}var ni={name:"dragArea",props:{dragArea:Boolean},render:function(t,r){var n=t.props,e=n.target,o=n.dragArea,c=n.groupable,f=t.state,h=f.width,d=f.height,v=f.pos1,m=f.pos2,y=f.pos3,w=f.pos4;if(c)return[r.createElement("div",{key:"area",ref:l(t,"areaElement"),className:$e}),ri(r)];if(!e||!o)return[];var x=rr([0,0],[h,0],[0,d],[h,d],v,m,y,w),M=x.length?"matrix3d("+Zt(x).join(",")+")":"none";return[r.createElement("div",{key:"area",ref:l(t,"areaElement"),className:$e,style:{top:"0px",left:"0px",width:h+"px",height:d+"px",transformOrigin:"0 0",transform:M}}),ri(r)]},dragStart:function(t,r){var n=r.datas,e=r.clientX,o=r.clientY,c=r.inputEvent;if(!c)return!1;n.isDragArea=!1,n.inputTarget=c.target;var element,f,l=t.areaElement,h=t.state,d=h.targetClientRect,v=h.pos1,m=h.pos2,y=h.pos3,w=h.pos4,x=h.width,M=h.height,_=h.rootMatrix,E=h.is3d,S=d.left,N=d.top,D=Qr([v,m,y,w]),z=D.left,O=D.top,C=E?4:3,A=Kr(_,x,M,C),B=Qr(A),P=Ht([e,o],Xt([S-B.left,N-B.top],A[0])),R=Wt(Ft(_,C),kt(P,C),C),I=R[0],F=R[1],T=[{left:z,top:O,width:x,height:F-10},{left:z,top:O,width:I-10,height:M},{left:z,top:O+F+10,width:x,height:M-F-10},{left:z+I+10,top:O,width:x-I-10,height:M}],k=[].slice.call(l.nextElementSibling.children);T.forEach((function(rect,i){k[i].style.cssText="left: "+rect.left+"px;top: "+rect.top+"px; width: "+rect.width+"px; height: "+rect.height+"px;"})),f=Qe,(element=l).classList?element.classList.add(f):element.className+=" "+f},drag:function(t,r){var n=r.datas;if(!r.inputEvent)return!1;n.isDragArea||(n.isDragArea=!0,ti(t))},dragEnd:function(t,r){if(!r.inputEvent)return!1;var n=r.inputEvent,e=r.isDragArea;r.datas.isDragArea||ti(t);var o=t.state.target,c=n.target;if(!e&&!t.isMoveableElement(c)){var f=o.contains(c);wn(t,"onClick",yn(t,r,{inputTarget:c,isTarget:o===c,containsTarget:f}))}},dragGroupStart:function(t,r){return this.dragStart(t,r)},dragGroup:function(t,r){return this.drag(t,r)},dragGroupEnd:function(t,r){var n=r.inputEvent,e=r.isDragArea,o=r.datas;if(!n)return!1;e||ti(t);var c=o.inputTarget,f=n.target;if(!e&&!t.isMoveableElement(f)&&c!==f){var l=t.props.targets,h=l.indexOf(f),d=h>-1,v=!1;-1===h&&(v=(h=B(l,(function(t){return t.contains(f)})))>-1),wn(t,"onClickGroup",yn(t,r,{targets:l,inputTarget:f,targetIndex:h,isTarget:d,containsTarget:v}))}}},ei={name:"origin",props:{origin:Boolean},render:function(t,r){if(!t.props.origin)return null;var n=t.state,e=n.beforeOrigin,o=n.rotation;return[r.createElement("div",{className:Lr("control","origin"),style:on(o,e),key:"beforeOrigin"})]}};function ii(t){var r=t.scrollContainer;return[r.scrollLeft,r.scrollTop]}var oi={name:"scrollable",canPinch:!0,props:{scrollable:Boolean,scrollContainer:Object,scrollThreshold:Number},dragStart:function(t,r){var n=t.props.scrollContainer,e=void 0===n?t.getContainer():n,o=new Er;r.datas.dragScroll=o;var c=r.isControl?"controlDragger":"targetDragger",f=r.targets;o.on("scroll",(function(n){var e=n.container,o=n.direction,c=yn(t,r,{scrollContainer:e,direction:o}),l=f?"onScrollGroup":"onScroll";f&&(c.targets=f),wn(t,l,c)})).on("move",(function(n){var e=n.offsetX,o=n.offsetY;t[c].scrollBy(e,o,r.inputEvent,!1)})),o.dragStart(r,{container:e})},checkScroll:function(t,r){var n=r.datas.dragScroll;if(n){var e=t.props,o=e.scrollContainer,c=void 0===o?t.getContainer():o,f=e.scrollThreshold,l=void 0===f?0:f,h=e.getScrollPosition,d=void 0===h?ii:h;return n.drag(r,{container:c,threshold:l,getScrollPosition:function(t){return d({scrollContainer:t.container,direction:t.direction})}}),!0}},drag:function(t,r){return this.checkScroll(t,r)},dragEnd:function(t,r){r.datas.dragScroll.dragEnd(),r.datas.dragScroll=null},dragControlStart:function(t,r){return this.dragStart(t,Ar({},r,{isControl:!0}))},dragControl:function(t,r){return this.drag(t,r)},dragControlEnd:function(t,r){return this.dragEnd(t,r)},dragGroupStart:function(t,r){return this.dragStart(t,r)},dragGroup:function(t,r){return this.drag(t,Ar({},r,{targets:t.props.targets}))},dragGroupEnd:function(t,r){return this.dragEnd(t,r)},dragGroupControlStart:function(t,r){return this.dragStart(t,r)},dragGroupContro:function(t,r){return this.drag(t,Ar({},r,{targets:t.props.targets}))},dragGroupControEnd:function(t,r){return this.dragEnd(t,r)}},ai=[{name:"",props:{target:Object,container:Object,dragArea:Boolean,origin:Boolean,transformOrigin:Array,edge:Boolean,ables:Array,className:String,pinchThreshold:Number}},Be,Rn,Pe,Ge,Xe,He,Ze,oi,ni,ei],si={name:"groupable",props:{defaultGroupRotate:Number,groupable:Boolean},render:function(t,r){var n=t.props.targets||[];t.moveables=[];var e=t.state,o={left:e.left,top:e.top};return n.map((function(n,i){return r.createElement(Bn,{key:"moveable"+i,ref:h(t,"moveables",i),target:n,origin:!1,parentMoveable:t,parentPosition:o})}))}};function ui(t,r){return Math.max.apply(Math,t.map((function(t){var n=t[0],e=t[1],o=t[2],c=t[3];return Math.max(n[r],e[r],o[r],c[r])})))}function ci(t,r){return Math.min.apply(Math,t.map((function(t){var n=t[0],e=t[1],o=t[2],c=t[3];return Math.min(n[r],e[r],o[r],c[r])})))}var fi=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.differ=new zr,r.moveables=[],r.rotation=0,r}Cr(r,t);var n=r.prototype;return n.updateEvent=function(t){var r=this.state,n=this.props;r.target||(r.target=this.areaElement,this.controlBox.getElement().style.display="block",this.targetDragger=On(this,r.target,"targetAbles","Group"),this.controlDragger=On(this,this.controlBox.getElement(),"controlAbles","GroupControl"));var e=!En(t.container,n.container);e&&(r.container=n.container);var o=this.differ.update(n.targets),c=o.added,f=o.changed,l=o.removed;(e||c.length||f.length||l.length)&&this.updateRect()},n.checkUpdate=function(){this.updateAbles()},n.updateRect=function(t,r,n){var e;if(void 0===n&&(n=!0),this.controlBox){this.moveables.forEach((function(r){r.updateRect(t,!1,!1)}));var o=this.state,c=this.props,f=o.target||c.target;(!r||""!==t&&c.updateGroup)&&(this.rotation=c.defaultGroupRotate);var l=this.rotation,h=function(t,r){if(!t.length)return[0,0,0,0];var n=t.map((function(t){return pn(t.state)})),e=qr,o=qr,c=0,f=0,l=dn(r,1e-7);if(l%90){var h=r/180*Math.PI,d=Math.tan(h),v=-1/d,m=[kr,qr],y=[kr,qr];n.forEach((function(t){t.forEach((function(t){var r=t[1]-d*t[0],n=t[1]-v*t[0];m[0]=Math.max(m[0],r),m[1]=Math.min(m[1],r),y[0]=Math.max(y[0],n),y[1]=Math.min(y[1],n)}))})),m.forEach((function(t){y.forEach((function(r){var n=(r-t)/(d-v),c=d*n+t;e=Math.min(e,n),o=Math.min(o,c)}))}));var w=n.map((function(t){var r=t[0],n=t[1],e=t[2],o=t[3];return[Vt(r,-h),Vt(n,-h),Vt(e,-h),Vt(o,-h)]}));c=ui(w,0)-ci(w,0),f=ui(w,1)-ci(w,1)}else if(e=ci(n,0),o=ci(n,1),c=ui(n,0)-e,f=ui(n,1)-o,l%180){var x=c;c=f,f=x}return[e,o,c,f]}(this.moveables,l),d=h[0],v=h[1],m=h[2],y=h[3];f.style.cssText+="left:0px;top:0px;width:"+m+"px; height:"+y+"px;transform:rotate("+l+"deg)",o.width=m,o.height=y;var w=this.getContainer(),x=un(f,this.controlBox.getElement(),this.getContainer(),this.props.rootContainer||w,o),M=[x.left,x.top];e=pn(x),x.pos1=e[0],x.pos2=e[1],x.pos3=e[2],x.pos4=e[3],x.origin=Xt(M,x.origin),x.beforeOrigin=Xt(M,x.beforeOrigin);var _=x.targetClientRect;_.top+=v-x.top-o.top,_.left+=d-x.left-o.left,this.updateState(Ar({},x,{left:d-x.left,top:v-x.top}),n)}},n.triggerEvent=function(r,n){if(r.indexOf("Group")>-1)return t.prototype.triggerEvent.call(this,r,n)},n.updateAbles=function(){t.prototype.updateAbles.call(this,this.props.ables.concat([si]),"Group")},r.defaultProps=Ar({},Bn.defaultProps,{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0}),r}(Bn),pi=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}Cr(r,t);var n=r.prototype;return n.render=function(){var t=this.props.ables||[],r=this.props.target||this.props.targets,n=N(r);if(n&&r.length>1){var e=Ar({},this.props,{target:null,targets:r,ables:ai.concat([si],t)});return Z(fi,Ar({key:"group",ref:l(this,"moveable")},e))}var o=n?r[0]:r;return Z(Bn,Ar({key:"single",ref:l(this,"moveable")},Ar({},this.props,{target:o,ables:ai.concat(t)})))},n.isMoveableElement=function(t){return this.moveable.isMoveableElement(t)},n.dragStart=function(t){this.moveable.dragStart(t)},n.isInside=function(t,r){return this.moveable.isInside(t,r)},n.updateRect=function(){this.moveable.updateRect()},n.updateTarget=function(){this.moveable.updateTarget()},n.getRect=function(){return this.moveable.getRect()},n.request=function(t,r){return this.moveable.request(t,r)},n.destroy=function(){this.moveable.componentWillUnmount()},r}(at),hi=function(t,b){return(hi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)};function di(t,b){function r(){this.constructor=t}hi(t,b),t.prototype=null===b?Object.create(b):(r.prototype=b.prototype,new r)}var vi=function(){return(vi=Object.assign||function(t){for(var s,i=1,r=arguments.length;i<r;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};var gi=function(t){function r(r){var n=t.call(this,r)||this;return n.state={},n.state=n.props,n}return di(r,t),r.prototype.render=function(){return t=Z(pi,vi({ref:l(this,"moveable")},this.state)),r=this.state.parentElement,Z(st,{element:t,container:r});var t,r},r}(ot),mi=["draggable","resizable","scalable","rotatable","warpable","pinchable","snappable","origin","target","edge","throttleDrag","throttleDragRotate","throttleResize","throttleScale","throttleRotate","keepRatio","dragArea","pinchThreshold","snapCenter","snapThreshold","horizontalGuidelines","verticalGuidelines","elementGuidelines","bounds","innerBounds","className","renderDirections","scrollable","getScrollPosition","scrollContainer","scrollThreshold","baseDirection","snapElement","snapVertical","snapHorizontal","isDisplaySnapDigit","snapDigit","zoom"],yi=["dragStart","drag","dragEnd","resizeStart","resize","resizeEnd","scaleStart","scale","scaleEnd","rotateStart","rotate","rotateEnd","warpStart","warp","warpEnd","pinchStart","pinch","pinchEnd","dragGroupStart","dragGroup","dragGroupEnd","resizeGroupStart","resizeGroup","resizeGroupEnd","scaleGroupStart","scaleGroup","scaleGroupEnd","rotateGroupStart","rotateGroup","rotateGroupEnd","pinchGroupStart","pinchGroup","pinchGroupEnd","clickGroup","scroll","scrollGroup","renderStart","render","renderEnd","renderGroupStart","renderGroup","renderGroupEnd"],wi=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","setState","getRect","request"],bi=function(t){function r(r,n){void 0===n&&(n={});var e=t.call(this)||this;e.tempElement=document.createElement("div");var o=vi({container:r},n),c={};yi.forEach((function(t){var r;c[(r="on "+t,r.replace(/[\s-_]([a-z])/g,(function(t,r){return r.toUpperCase()})))]=function(r){return e.trigger(t,r)}})),lt(Z(gi,vi({ref:l(e,"innerMoveable"),parentElement:r},o,c)),e.tempElement);var f=o.target;return N(f)&&f.length>1&&e.updateRect(),e}di(r,t);var n=r.prototype;return n.setState=function(t,r){this.innerMoveable.setState(t,r)},n.destroy=function(){lt(null,this.tempElement),this.off(),this.tempElement=null,this.innerMoveable=null},n.getMoveable=function(){return this.innerMoveable.moveable},r=function(t,r,n,desc){var e,o=arguments.length,c=o<3?r:null===desc?desc=Object.getOwnPropertyDescriptor(r,n):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,r,n,desc);else for(var i=t.length-1;i>=0;i--)(e=t[i])&&(c=(o<3?e(c):o>3?e(r,n,c):e(r,n))||c);return o>3&&c&&Object.defineProperty(r,n,c),c}([d(wi,(function(t,r){t[r]||(t[r]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=this.getMoveable();if(e&&e[r])return e[r].apply(e,t)})})),d(mi,(function(t,r){Object.defineProperty(t,r,{get:function(){return this.getMoveable().props[r]},set:function(t){var n;this.setState(((n={})[r]=t,n))},enumerable:!0,configurable:!0})}))],r)}(c);function xi(object,t){var r=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),r.push.apply(r,n)}return r}function Mi(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?xi(Object(source),!0).forEach((function(r){_i(t,r,source[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):xi(Object(source)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(source,r))}))}return t}function _i(t,r,n){return r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}var Ei={};wi.forEach((function(t){Ei[t]=function(){var r;return(r=this.moveable)[t].apply(r,arguments)}}));var Si=function(t,r,n,e,o,c,f,l){var h,d="function"==typeof t?t.options:t;if(r&&(d.render=r,d.staticRenderFns=n,d._compiled=!0),e&&(d.functional=!0),c&&(d._scopeId="data-v-"+c),f?(h=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(f)},d._ssrRegister=h):o&&(h=l?function(){o.call(this,this.$root.$options.shadowRoot)}:o),h)if(d.functional){d._injectStyles=h;var v=d.render;d.render=function(t,r){return h.call(r),v(t,r)}}else{var m=d.beforeCreate;d.beforeCreate=m?[].concat(m,h):[h]}return{exports:t,options:d}}({name:"Moveable",inheritAttrs:!1,props:{draggable:Boolean,resizable:Boolean,scalable:Boolean,rotatable:Boolean,warpable:Boolean,pinchable:[Boolean,Array],snappable:[Boolean,Array],ables:Array,origin:Boolean,className:String,container:{type:[HTMLElement,SVGElement],default:function(){return document.body}},throttleDrag:Number,throttleDragRotate:Number,throttleResize:Number,throttleScale:Number,throttleRotate:Number,keepRatio:Boolean,edge:Boolean,pinchThreshold:Number,snapCenter:Boolean,snapVertical:Boolean,snapHorizontal:Boolean,snapElement:Boolean,snapThreshold:Number,horizontalGuidelines:Array,verticalGuidelines:Array,elementGuidelines:Array,bounds:Object,dragArea:Boolean,rotationPosition:String,baseDirection:Array,renderDirections:Array,defaultGroupRotate:Boolean,scrollable:Boolean,scrollContainer:[HTMLElement,SVGElement],scrollThreshold:Number,getScrollPosition:Function},methods:Ei,mounted:function(){var t=this;this.moveable=new bi(this.$props.container,Mi({},this.$props,{target:this.$el})),yi.forEach((function(r){return t.moveable.on(r,t.$emit.bind(t,r))})),window.addEventListener("resize",this.updateRec,{passive:!0})},watch:Mi({},mi.reduce((function(t,r){var n;return t[r]=(n=r,{handler:function(t){this.moveable[n]!==t&&(this.moveable[n]=t)},deep:!0}),t}),{})),beforeDestroy:function(){window.removeEventListener("resize",this.updateRec),this.moveable.destroy()}},(function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)}),[],!1,null,null,null).exports;r.default=Si}}).default},270:function(t,r,n){var e;!function(n){"use strict";var o=function(t){return.5*(Math.exp(t)+Math.exp(-t))},c=function(t){return.5*(Math.exp(t)-Math.exp(-t))},f=function(){throw SyntaxError("Invalid Param")};function l(a,b){var t=Math.abs(a),r=Math.abs(b);return 0===a?Math.log(r):0===b?Math.log(t):t<3e3&&r<3e3?.5*Math.log(a*a+b*b):Math.log(a/Math.cos(Math.atan2(b,a)))}function h(a,b){if(!(this instanceof h))return new h(a,b);var t=function(a,b){var t={re:0,im:0};if(null==a)t.re=t.im=0;else if(void 0!==b)t.re=a,t.im=b;else switch(typeof a){case"object":if("im"in a&&"re"in a)t.re=a.re,t.im=a.im;else if("abs"in a&&"arg"in a){if(!Number.isFinite(a.abs)&&Number.isFinite(a.arg))return h.INFINITY;t.re=a.abs*Math.cos(a.arg),t.im=a.abs*Math.sin(a.arg)}else if("r"in a&&"phi"in a){if(!Number.isFinite(a.r)&&Number.isFinite(a.phi))return h.INFINITY;t.re=a.r*Math.cos(a.phi),t.im=a.r*Math.sin(a.phi)}else 2===a.length?(t.re=a[0],t.im=a[1]):f();break;case"string":t.im=t.re=0;var r=a.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),n=1,e=0;null===r&&f();for(var i=0;i<r.length;i++){var o=r[i];" "===o||"\t"===o||"\n"===o||("+"===o?n++:"-"===o?e++:"i"===o||"I"===o?(n+e===0&&f()," "===r[i+1]||isNaN(r[i+1])?t.im+=parseFloat((e%2?"-":"")+"1"):(t.im+=parseFloat((e%2?"-":"")+r[i+1]),i++),n=e=0):((n+e===0||isNaN(o))&&f(),"i"===r[i+1]||"I"===r[i+1]?(t.im+=parseFloat((e%2?"-":"")+o),i++):t.re+=parseFloat((e%2?"-":"")+o),n=e=0))}n+e>0&&f();break;case"number":t.im=0,t.re=a;break;default:f()}return isNaN(t.re)||isNaN(t.im),t}(a,b);this.re=t.re,this.im=t.im}h.prototype={re:0,im:0,sign:function(){var t=this.abs();return new h(this.re/t,this.im/t)},add:function(a,b){var t=new h(a,b);return this.isInfinite()&&t.isInfinite()?h.NAN:this.isInfinite()||t.isInfinite()?h.INFINITY:new h(this.re+t.re,this.im+t.im)},sub:function(a,b){var t=new h(a,b);return this.isInfinite()&&t.isInfinite()?h.NAN:this.isInfinite()||t.isInfinite()?h.INFINITY:new h(this.re-t.re,this.im-t.im)},mul:function(a,b){var t=new h(a,b);return this.isInfinite()&&t.isZero()||this.isZero()&&t.isInfinite()?h.NAN:this.isInfinite()||t.isInfinite()?h.INFINITY:0===t.im&&0===this.im?new h(this.re*t.re,0):new h(this.re*t.re-this.im*t.im,this.re*t.im+this.im*t.re)},div:function(a,b){var t=new h(a,b);if(this.isZero()&&t.isZero()||this.isInfinite()&&t.isInfinite())return h.NAN;if(this.isInfinite()||t.isZero())return h.INFINITY;if(this.isZero()||t.isInfinite())return h.ZERO;a=this.re,b=this.im;var r,n,e=t.re,o=t.im;return 0===o?new h(a/e,b/e):Math.abs(e)<Math.abs(o)?new h((a*(n=e/o)+b)/(r=e*n+o),(b*n-a)/r):new h((a+b*(n=o/e))/(r=o*n+e),(b-a*n)/r)},pow:function(a,b){var t=new h(a,b);if(a=this.re,b=this.im,t.isZero())return h.ONE;if(0===t.im){if(0===b&&a>=0)return new h(Math.pow(a,t.re),0);if(0===a)switch((t.re%4+4)%4){case 0:return new h(Math.pow(b,t.re),0);case 1:return new h(0,Math.pow(b,t.re));case 2:return new h(-Math.pow(b,t.re),0);case 3:return new h(0,-Math.pow(b,t.re))}}if(0===a&&0===b&&t.re>0&&t.im>=0)return h.ZERO;var r=Math.atan2(b,a),n=l(a,b);return a=Math.exp(t.re*n-t.im*r),b=t.im*n+t.re*r,new h(a*Math.cos(b),a*Math.sin(b))},sqrt:function(){var t,r,a=this.re,b=this.im,n=this.abs();if(a>=0){if(0===b)return new h(Math.sqrt(a),0);t=.5*Math.sqrt(2*(n+a))}else t=Math.abs(b)/Math.sqrt(2*(n-a));return r=a<=0?.5*Math.sqrt(2*(n-a)):Math.abs(b)/Math.sqrt(2*(n+a)),new h(t,b<0?-r:r)},exp:function(){var t=Math.exp(this.re);return this.im,new h(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){var a=this.re,b=this.im;return new h(Math.expm1(a)*Math.cos(b)+function(t){var r=Math.PI/4;if(t<-r||t>r)return Math.cos(t)-1;var n=t*t;return n*(n*(1/24+n*(-1/720+n*(1/40320+n*(-1/3628800+n*(1/4790014600+n*(-1/87178291200+n*(1/20922789888e3)))))))-.5)}(b),Math.exp(a)*Math.sin(b))},log:function(){var a=this.re,b=this.im;return new h(l(a,b),Math.atan2(b,a))},abs:function(){return t=this.re,r=this.im,a=Math.abs(t),b=Math.abs(r),a<3e3&&b<3e3?Math.sqrt(a*a+b*b):(a<b?(a=b,b=t/r):b=r/t,a*Math.sqrt(1+b*b));var t,r,a,b},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var a=this.re,b=this.im;return new h(Math.sin(a)*o(b),Math.cos(a)*c(b))},cos:function(){var a=this.re,b=this.im;return new h(Math.cos(a)*o(b),-Math.sin(a)*c(b))},tan:function(){var a=2*this.re,b=2*this.im,t=Math.cos(a)+o(b);return new h(Math.sin(a)/t,c(b)/t)},cot:function(){var a=2*this.re,b=2*this.im,t=Math.cos(a)-o(b);return new h(-Math.sin(a)/t,c(b)/t)},sec:function(){var a=this.re,b=this.im,t=.5*o(2*b)+.5*Math.cos(2*a);return new h(Math.cos(a)*o(b)/t,Math.sin(a)*c(b)/t)},csc:function(){var a=this.re,b=this.im,t=.5*o(2*b)-.5*Math.cos(2*a);return new h(Math.sin(a)*o(b)/t,-Math.cos(a)*c(b)/t)},asin:function(){var a=this.re,b=this.im,t=new h(b*b-a*a+1,-2*a*b).sqrt(),r=new h(t.re-b,t.im+a).log();return new h(r.im,-r.re)},acos:function(){var a=this.re,b=this.im,t=new h(b*b-a*a+1,-2*a*b).sqrt(),r=new h(t.re-b,t.im+a).log();return new h(Math.PI/2-r.im,r.re)},atan:function(){var a=this.re,b=this.im;if(0===a){if(1===b)return new h(0,1/0);if(-1===b)return new h(0,-1/0)}var t=a*a+(1-b)*(1-b),r=new h((1-b*b-a*a)/t,-2*a/t).log();return new h(-.5*r.im,.5*r.re)},acot:function(){var a=this.re,b=this.im;if(0===b)return new h(Math.atan2(1,a),0);var t=a*a+b*b;return 0!==t?new h(a/t,-b/t).atan():new h(0!==a?a/0:0,0!==b?-b/0:0).atan()},asec:function(){var a=this.re,b=this.im;if(0===a&&0===b)return new h(0,1/0);var t=a*a+b*b;return 0!==t?new h(a/t,-b/t).acos():new h(0!==a?a/0:0,0!==b?-b/0:0).acos()},acsc:function(){var a=this.re,b=this.im;if(0===a&&0===b)return new h(Math.PI/2,1/0);var t=a*a+b*b;return 0!==t?new h(a/t,-b/t).asin():new h(0!==a?a/0:0,0!==b?-b/0:0).asin()},sinh:function(){var a=this.re,b=this.im;return new h(c(a)*Math.cos(b),o(a)*Math.sin(b))},cosh:function(){var a=this.re,b=this.im;return new h(o(a)*Math.cos(b),c(a)*Math.sin(b))},tanh:function(){var a=2*this.re,b=2*this.im,t=o(a)+Math.cos(b);return new h(c(a)/t,Math.sin(b)/t)},coth:function(){var a=2*this.re,b=2*this.im,t=o(a)-Math.cos(b);return new h(c(a)/t,-Math.sin(b)/t)},csch:function(){var a=this.re,b=this.im,t=Math.cos(2*b)-o(2*a);return new h(-2*c(a)*Math.cos(b)/t,2*o(a)*Math.sin(b)/t)},sech:function(){var a=this.re,b=this.im,t=Math.cos(2*b)+o(2*a);return new h(2*o(a)*Math.cos(b)/t,-2*c(a)*Math.sin(b)/t)},asinh:function(){var t=this.im;this.im=-this.re,this.re=t;var r=this.asin();return this.re=-this.im,this.im=t,t=r.re,r.re=-r.im,r.im=t,r},acosh:function(){var t=this.acos();if(t.im<=0){var r=t.re;t.re=-t.im,t.im=r}else{r=t.im;t.im=-t.re,t.re=r}return t},atanh:function(){var a=this.re,b=this.im,t=a>1&&0===b,r=1-a,n=1+a,e=r*r+b*b,o=0!==e?new h((n*r-b*b)/e,(b*r+n*b)/e):new h(-1!==a?a/0:0,0!==b?b/0:0),c=o.re;return o.re=l(o.re,o.im)/2,o.im=Math.atan2(o.im,c)/2,t&&(o.im=-o.im),o},acoth:function(){var a=this.re,b=this.im;if(0===a&&0===b)return new h(0,Math.PI/2);var t=a*a+b*b;return 0!==t?new h(a/t,-b/t).atanh():new h(0!==a?a/0:0,0!==b?-b/0:0).atanh()},acsch:function(){var a=this.re,b=this.im;if(0===b)return new h(0!==a?Math.log(a+Math.sqrt(a*a+1)):1/0,0);var t=a*a+b*b;return 0!==t?new h(a/t,-b/t).asinh():new h(0!==a?a/0:0,0!==b?-b/0:0).asinh()},asech:function(){var a=this.re,b=this.im;if(this.isZero())return h.INFINITY;var t=a*a+b*b;return 0!==t?new h(a/t,-b/t).acosh():new h(0!==a?a/0:0,0!==b?-b/0:0).acosh()},inverse:function(){if(this.isZero())return h.INFINITY;if(this.isInfinite())return h.ZERO;var a=this.re,b=this.im,t=a*a+b*b;return new h(a/t,-b/t)},conjugate:function(){return new h(this.re,-this.im)},neg:function(){return new h(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new h(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new h(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new h(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(a,b){var t=new h(a,b);return Math.abs(t.re-this.re)<=h.EPSILON&&Math.abs(t.im-this.im)<=h.EPSILON},clone:function(){return new h(this.re,this.im)},toString:function(){var a=this.re,b=this.im,t="";return this.isNaN()?"NaN":this.isZero()?"0":this.isInfinite()?"Infinity":(0!==a&&(t+=a),0!==b&&(0!==a?t+=b<0?" - ":" + ":b<0&&(t+="-"),1!==(b=Math.abs(b))&&(t+=b),t+="i"),t||"0")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return!(0!==this.re&&-0!==this.re||0!==this.im&&-0!==this.im)},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},h.ZERO=new h(0,0),h.ONE=new h(1,0),h.I=new h(0,1),h.PI=new h(Math.PI,0),h.E=new h(Math.E,0),h.INFINITY=new h(1/0,1/0),h.NAN=new h(NaN,NaN),h.EPSILON=1e-16,void 0===(e=function(){return h}.apply(r,[]))||(t.exports=e)}()},271:function(t,r,n){var e;!function(o){"use strict";var c,f,l,h="0123456789abcdef",d="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",v="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",m={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},y=!0,w="[DecimalError] Invalid argument: ",x=Math.floor,M=Math.pow,_=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,E=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,S=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,N=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,D=d.length-1,z=v.length-1,O={name:"[object Decimal]"};function C(t){var i,r,n,e=t.length-1,o="",c=t[0];if(e>0){for(o+=c,i=1;i<e;i++)(r=7-(n=t[i]+"").length)&&(o+=L(r)),o+=n;(r=7-(n=(c=t[i])+"").length)&&(o+=L(r))}else if(0===c)return"0";for(;c%10==0;)c/=10;return o+c}function A(i,t,r){if(i!==~~i||i<t||i>r)throw Error(w+i)}function B(t,i,r,n){var e,o,c,f;for(o=t[0];o>=10;o/=10)--i;return--i<0?(i+=7,e=0):(e=Math.ceil((i+1)/7),i%=7),o=M(10,7-i),f=t[e]%o|0,null==n?i<3?(0==i?f=f/100|0:1==i&&(f=f/10|0),c=r<4&&99999==f||r>3&&49999==f||5e4==f||0==f):c=(r<4&&f+1==o||r>3&&f+1==o/2)&&(t[e+1]/o/100|0)==M(10,i-2)-1||(f==o/2||0==f)&&0==(t[e+1]/o/100|0):i<4?(0==i?f=f/1e3|0:1==i?f=f/100|0:2==i&&(f=f/10|0),c=(n||r<4)&&9999==f||!n&&r>3&&4999==f):c=((n||r<4)&&f+1==o||!n&&r>3&&f+1==o/2)&&(t[e+1]/o/1e3|0)==M(10,i-3)-1,c}function P(t,r,n){for(var e,o,c=[0],i=0,f=t.length;i<f;){for(o=c.length;o--;)c[o]*=r;for(c[0]+=h.indexOf(t.charAt(i++)),e=0;e<c.length;e++)c[e]>n-1&&(void 0===c[e+1]&&(c[e+1]=0),c[e+1]+=c[e]/n|0,c[e]%=n)}return c.reverse()}O.absoluteValue=O.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),I(t)},O.ceil=function(){return I(new this.constructor(this),this.e+1,2)},O.comparedTo=O.cmp=function(t){var i,r,n,e,o=this,c=o.d,f=(t=new o.constructor(t)).d,l=o.s,h=t.s;if(!c||!f)return l&&h?l!==h?l:c===f?0:!c^l<0?1:-1:NaN;if(!c[0]||!f[0])return c[0]?l:f[0]?-h:0;if(l!==h)return l;if(o.e!==t.e)return o.e>t.e^l<0?1:-1;for(i=0,r=(n=c.length)<(e=f.length)?n:e;i<r;++i)if(c[i]!==f[i])return c[i]>f[i]^l<0?1:-1;return n===e?0:n>e^l<0?1:-1},O.cosine=O.cos=function(){var t,r,n=this,e=n.constructor;return n.d?n.d[0]?(t=e.precision,r=e.rounding,e.precision=t+Math.max(n.e,n.sd())+7,e.rounding=1,n=function(t,r){var n,e,o=r.d.length;o<32?(n=Math.ceil(o/3),e=(1/K(4,n)).toString()):(n=16,e="2.3283064365386962890625e-10");t.precision+=n,r=J(t,1,r.times(e),new t(1));for(var i=n;i--;){var c=r.times(r);r=c.times(c).minus(c).times(8).plus(1)}return t.precision-=n,r}(e,Q(e,n)),e.precision=t,e.rounding=r,I(2==l||3==l?n.neg():n,t,r,!0)):new e(1):new e(NaN)},O.cubeRoot=O.cbrt=function(){var t,r,n,e,o,s,c,f,l,h,d=this,v=d.constructor;if(!d.isFinite()||d.isZero())return new v(d);for(y=!1,(s=d.s*M(d.s*d,1/3))&&Math.abs(s)!=1/0?e=new v(s.toString()):(n=C(d.d),(s=((t=d.e)-n.length+1)%3)&&(n+=1==s||-2==s?"0":"00"),s=M(n,1/3),t=x((t+1)/3)-(t%3==(t<0?-1:2)),(e=new v(n=s==1/0?"5e"+t:(n=s.toExponential()).slice(0,n.indexOf("e")+1)+t)).s=d.s),c=(t=v.precision)+3;;)if(h=(l=(f=e).times(f).times(f)).plus(d),e=R(h.plus(d).times(f),h.plus(l),c+2,1),C(f.d).slice(0,c)===(n=C(e.d)).slice(0,c)){if("9999"!=(n=n.slice(c-3,c+1))&&(o||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(I(e,t+1,1),r=!e.times(e).times(e).eq(d));break}if(!o&&(I(f,t+1,0),f.times(f).times(f).eq(d))){e=f;break}c+=4,o=1}return y=!0,I(e,t,v.rounding,r)},O.decimalPlaces=O.dp=function(){var t,r=this.d,n=NaN;if(r){if(n=7*((t=r.length-1)-x(this.e/7)),t=r[t])for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n},O.dividedBy=O.div=function(t){return R(this,new this.constructor(t))},O.dividedToIntegerBy=O.divToInt=function(t){var r=this.constructor;return I(R(this,new r(t),0,1,1),r.precision,r.rounding)},O.equals=O.eq=function(t){return 0===this.cmp(t)},O.floor=function(){return I(new this.constructor(this),this.e+1,3)},O.greaterThan=O.gt=function(t){return this.cmp(t)>0},O.greaterThanOrEqualTo=O.gte=function(t){var r=this.cmp(t);return 1==r||0===r},O.hyperbolicCosine=O.cosh=function(){var t,r,n,e,o,c=this,f=c.constructor,l=new f(1);if(!c.isFinite())return new f(c.s?1/0:NaN);if(c.isZero())return l;n=f.precision,e=f.rounding,f.precision=n+Math.max(c.e,c.sd())+4,f.rounding=1,(o=c.d.length)<32?r=(1/K(4,t=Math.ceil(o/3))).toString():(t=16,r="2.3283064365386962890625e-10"),c=J(f,1,c.times(r),new f(1),!0);for(var h,i=t,d=new f(8);i--;)h=c.times(c),c=l.minus(h.times(d.minus(h.times(d))));return I(c,f.precision=n,f.rounding=e,!0)},O.hyperbolicSine=O.sinh=function(){var t,r,n,e,o=this,c=o.constructor;if(!o.isFinite()||o.isZero())return new c(o);if(r=c.precision,n=c.rounding,c.precision=r+Math.max(o.e,o.sd())+4,c.rounding=1,(e=o.d.length)<3)o=J(c,2,o,o,!0);else{t=(t=1.4*Math.sqrt(e))>16?16:0|t,o=J(c,2,o=o.times(1/K(5,t)),o,!0);for(var f,l=new c(5),h=new c(16),d=new c(20);t--;)f=o.times(o),o=o.times(l.plus(f.times(h.times(f).plus(d))))}return c.precision=r,c.rounding=n,I(o,r,n,!0)},O.hyperbolicTangent=O.tanh=function(){var t,r,n=this,e=n.constructor;return n.isFinite()?n.isZero()?new e(n):(t=e.precision,r=e.rounding,e.precision=t+7,e.rounding=1,R(n.sinh(),n.cosh(),e.precision=t,e.rounding=r)):new e(n.s)},O.inverseCosine=O.acos=function(){var t,r=this,n=r.constructor,e=r.abs().cmp(1),o=n.precision,c=n.rounding;return-1!==e?0===e?r.isNeg()?j(n,o,c):new n(0):new n(NaN):r.isZero()?j(n,o+4,c).times(.5):(n.precision=o+6,n.rounding=1,r=r.asin(),t=j(n,o+4,c).times(.5),n.precision=o,n.rounding=c,t.minus(r))},O.inverseHyperbolicCosine=O.acosh=function(){var t,r,n=this,e=n.constructor;return n.lte(1)?new e(n.eq(1)?0:NaN):n.isFinite()?(t=e.precision,r=e.rounding,e.precision=t+Math.max(Math.abs(n.e),n.sd())+4,e.rounding=1,y=!1,n=n.times(n).minus(1).sqrt().plus(n),y=!0,e.precision=t,e.rounding=r,n.ln()):new e(n)},O.inverseHyperbolicSine=O.asinh=function(){var t,r,n=this,e=n.constructor;return!n.isFinite()||n.isZero()?new e(n):(t=e.precision,r=e.rounding,e.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,e.rounding=1,y=!1,n=n.times(n).plus(1).sqrt().plus(n),y=!0,e.precision=t,e.rounding=r,n.ln())},O.inverseHyperbolicTangent=O.atanh=function(){var t,r,n,e,o=this,c=o.constructor;return o.isFinite()?o.e>=0?new c(o.abs().eq(1)?o.s/0:o.isZero()?o:NaN):(t=c.precision,r=c.rounding,e=o.sd(),Math.max(e,t)<2*-o.e-1?I(new c(o),t,r,!0):(c.precision=n=e-o.e,o=R(o.plus(1),new c(1).minus(o),n+t,1),c.precision=t+4,c.rounding=1,o=o.ln(),c.precision=t,c.rounding=r,o.times(.5))):new c(NaN)},O.inverseSine=O.asin=function(){var t,r,n,e,o=this,c=o.constructor;return o.isZero()?new c(o):(r=o.abs().cmp(1),n=c.precision,e=c.rounding,-1!==r?0===r?((t=j(c,n+4,e).times(.5)).s=o.s,t):new c(NaN):(c.precision=n+6,c.rounding=1,o=o.div(new c(1).minus(o.times(o)).sqrt().plus(1)).atan(),c.precision=n,c.rounding=e,o.times(2)))},O.inverseTangent=O.atan=function(){var i,t,r,n,e,o,c,f,l,h=this,d=h.constructor,v=d.precision,m=d.rounding;if(h.isFinite()){if(h.isZero())return new d(h);if(h.abs().eq(1)&&v+4<=z)return(c=j(d,v+4,m).times(.25)).s=h.s,c}else{if(!h.s)return new d(NaN);if(v+4<=z)return(c=j(d,v+4,m).times(.5)).s=h.s,c}for(d.precision=f=v+10,d.rounding=1,i=r=Math.min(28,f/7+2|0);i;--i)h=h.div(h.times(h).plus(1).sqrt().plus(1));for(y=!1,t=Math.ceil(f/7),n=1,l=h.times(h),c=new d(h),e=h;-1!==i;)if(e=e.times(l),o=c.minus(e.div(n+=2)),e=e.times(l),void 0!==(c=o.plus(e.div(n+=2))).d[t])for(i=t;c.d[i]===o.d[i]&&i--;);return r&&(c=c.times(2<<r-1)),y=!0,I(c,d.precision=v,d.rounding=m,!0)},O.isFinite=function(){return!!this.d},O.isInteger=O.isInt=function(){return!!this.d&&x(this.e/7)>this.d.length-2},O.isNaN=function(){return!this.s},O.isNegative=O.isNeg=function(){return this.s<0},O.isPositive=O.isPos=function(){return this.s>0},O.isZero=function(){return!!this.d&&0===this.d[0]},O.lessThan=O.lt=function(t){return this.cmp(t)<0},O.lessThanOrEqualTo=O.lte=function(t){return this.cmp(t)<1},O.logarithm=O.log=function(base){var t,r,n,e,o,c,f,l,h=this.constructor,d=h.precision,v=h.rounding;if(null==base)base=new h(10),t=!0;else{if(r=(base=new h(base)).d,base.s<0||!r||!r[0]||base.eq(1))return new h(NaN);t=base.eq(10)}if(r=this.d,this.s<0||!r||!r[0]||this.eq(1))return new h(r&&!r[0]?-1/0:1!=this.s?NaN:r?0:1/0);if(t)if(r.length>1)o=!0;else{for(e=r[0];e%10==0;)e/=10;o=1!==e}if(y=!1,c=W(this,f=d+5),n=t?k(h,f+10):W(base,f),B((l=R(c,n,f,1)).d,e=d,v))do{if(c=W(this,f+=10),n=t?k(h,f+10):W(base,f),l=R(c,n,f,1),!o){+C(l.d).slice(e+1,e+15)+1==1e14&&(l=I(l,d+1,0));break}}while(B(l.d,e+=10,v));return y=!0,I(l,d,v)},O.minus=O.sub=function(t){var r,n,i,e,o,c,f,l,h,d,v,m,w=this,M=w.constructor;if(t=new M(t),!w.d||!t.d)return w.s&&t.s?w.d?t.s=-t.s:t=new M(t.d||w.s!==t.s?w:NaN):t=new M(NaN),t;if(w.s!=t.s)return t.s=-t.s,w.plus(t);if(h=w.d,m=t.d,f=M.precision,l=M.rounding,!h[0]||!m[0]){if(m[0])t.s=-t.s;else{if(!h[0])return new M(3===l?-0:0);t=new M(w)}return y?I(t,f,l):t}if(n=x(t.e/7),d=x(w.e/7),h=h.slice(),o=d-n){for((v=o<0)?(r=h,o=-o,c=m.length):(r=m,n=d,c=h.length),o>(i=Math.max(Math.ceil(f/7),c)+2)&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for((v=(i=h.length)<(c=m.length))&&(c=i),i=0;i<c;i++)if(h[i]!=m[i]){v=h[i]<m[i];break}o=0}for(v&&(r=h,h=m,m=r,t.s=-t.s),c=h.length,i=m.length-c;i>0;--i)h[c++]=0;for(i=m.length;i>o;){if(h[--i]<m[i]){for(e=i;e&&0===h[--e];)h[e]=1e7-1;--h[e],h[i]+=1e7}h[i]-=m[i]}for(;0===h[--c];)h.pop();for(;0===h[0];h.shift())--n;return h[0]?(t.d=h,t.e=T(h,n),y?I(t,f,l):t):new M(3===l?-0:0)},O.modulo=O.mod=function(t){var q,r=this,n=r.constructor;return t=new n(t),!r.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||r.d&&!r.d[0]?I(new n(r),n.precision,n.rounding):(y=!1,9==n.modulo?(q=R(r,t.abs(),0,3,1)).s*=t.s:q=R(r,t,0,n.modulo,1),q=q.times(t),y=!0,r.minus(q))},O.naturalExponential=O.exp=function(){return H(this)},O.naturalLogarithm=O.ln=function(){return W(this)},O.negated=O.neg=function(){var t=new this.constructor(this);return t.s=-t.s,I(t)},O.plus=O.add=function(t){var r,n,e,i,o,c,f,l,h,d,v=this,m=v.constructor;if(t=new m(t),!v.d||!t.d)return v.s&&t.s?v.d||(t=new m(t.d||v.s===t.s?v:NaN)):t=new m(NaN),t;if(v.s!=t.s)return t.s=-t.s,v.minus(t);if(h=v.d,d=t.d,f=m.precision,l=m.rounding,!h[0]||!d[0])return d[0]||(t=new m(v)),y?I(t,f,l):t;if(o=x(v.e/7),e=x(t.e/7),h=h.slice(),i=o-e){for(i<0?(n=h,i=-i,c=d.length):(n=d,e=o,c=h.length),i>(c=(o=Math.ceil(f/7))>c?o+1:c+1)&&(i=c,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((c=h.length)-(i=d.length)<0&&(i=c,n=d,d=h,h=n),r=0;i;)r=(h[--i]=h[i]+d[i]+r)/1e7|0,h[i]%=1e7;for(r&&(h.unshift(r),++e),c=h.length;0==h[--c];)h.pop();return t.d=h,t.e=T(h,e),y?I(t,f,l):t},O.precision=O.sd=function(t){var r,n=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(w+t);return n.d?(r=G(n.d),t&&n.e+1>r&&(r=n.e+1)):r=NaN,r},O.round=function(){var t=this,r=t.constructor;return I(new r(t),t.e+1,r.rounding)},O.sine=O.sin=function(){var t,r,n=this,e=n.constructor;return n.isFinite()?n.isZero()?new e(n):(t=e.precision,r=e.rounding,e.precision=t+Math.max(n.e,n.sd())+7,e.rounding=1,n=function(t,r){var n,e=r.d.length;if(e<3)return J(t,2,r,r);n=(n=1.4*Math.sqrt(e))>16?16:0|n,r=r.times(1/K(5,n)),r=J(t,2,r,r);for(var o,c=new t(5),f=new t(16),l=new t(20);n--;)o=r.times(r),r=r.times(c.plus(o.times(f.times(o).minus(l))));return r}(e,Q(e,n)),e.precision=t,e.rounding=r,I(l>2?n.neg():n,t,r,!0)):new e(NaN)},O.squareRoot=O.sqrt=function(){var t,r,n,e,o,c,f=this,l=f.d,h=f.e,s=f.s,d=f.constructor;if(1!==s||!l||!l[0])return new d(!s||s<0&&(!l||l[0])?NaN:l?f:1/0);for(y=!1,0==(s=Math.sqrt(+f))||s==1/0?(((r=C(l)).length+h)%2==0&&(r+="0"),s=Math.sqrt(r),h=x((h+1)/2)-(h<0||h%2),e=new d(r=s==1/0?"1e"+h:(r=s.toExponential()).slice(0,r.indexOf("e")+1)+h)):e=new d(s.toString()),n=(h=d.precision)+3;;)if(e=(c=e).plus(R(f,c,n+2,1)).times(.5),C(c.d).slice(0,n)===(r=C(e.d)).slice(0,n)){if("9999"!=(r=r.slice(n-3,n+1))&&(o||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(I(e,h+1,1),t=!e.times(e).eq(f));break}if(!o&&(I(c,h+1,0),c.times(c).eq(f))){e=c;break}n+=4,o=1}return y=!0,I(e,h,d.rounding,t)},O.tangent=O.tan=function(){var t,r,n=this,e=n.constructor;return n.isFinite()?n.isZero()?new e(n):(t=e.precision,r=e.rounding,e.precision=t+10,e.rounding=1,(n=n.sin()).s=1,n=R(n,new e(1).minus(n.times(n)).sqrt(),t+10,0),e.precision=t,e.rounding=r,I(2==l||4==l?n.neg():n,t,r,!0)):new e(NaN)},O.times=O.mul=function(t){var r,n,i,e,o,c,f,l,h,d=this,v=d.constructor,m=d.d,w=(t=new v(t)).d;if(t.s*=d.s,!(m&&m[0]&&w&&w[0]))return new v(!t.s||m&&!m[0]&&!w||w&&!w[0]&&!m?NaN:m&&w?0*t.s:t.s/0);for(n=x(d.e/7)+x(t.e/7),(l=m.length)<(h=w.length)&&(o=m,m=w,w=o,c=l,l=h,h=c),o=[],i=c=l+h;i--;)o.push(0);for(i=h;--i>=0;){for(r=0,e=l+i;e>i;)f=o[e]+w[i]*m[e-i-1]+r,o[e--]=f%1e7|0,r=f/1e7|0;o[e]=(o[e]+r)%1e7|0}for(;!o[--c];)o.pop();return r?++n:o.shift(),t.d=o,t.e=T(o,n),y?I(t,v.precision,v.rounding):t},O.toBinary=function(t,r){return tt(this,2,t,r)},O.toDecimalPlaces=O.toDP=function(t,r){var n=this,e=n.constructor;return n=new e(n),void 0===t?n:(A(t,0,1e9),void 0===r?r=e.rounding:A(r,0,8),I(n,t+n.e+1,r))},O.toExponential=function(t,r){var n,e=this,o=e.constructor;return void 0===t?n=F(e,!0):(A(t,0,1e9),void 0===r?r=o.rounding:A(r,0,8),n=F(e=I(new o(e),t+1,r),!0,t+1)),e.isNeg()&&!e.isZero()?"-"+n:n},O.toFixed=function(t,r){var n,e,o=this,c=o.constructor;return void 0===t?n=F(o):(A(t,0,1e9),void 0===r?r=c.rounding:A(r,0,8),n=F(e=I(new c(o),t+o.e+1,r),!1,t+e.e+1)),o.isNeg()&&!o.isZero()?"-"+n:n},O.toFraction=function(t){var r,n,e,o,c,f,l,h,d,v,q,m,x=this,_=x.d,E=x.constructor;if(!_)return new E(x);if(d=n=new E(1),e=h=new E(0),f=(c=(r=new E(e)).e=G(_)-x.e-1)%7,r.d[0]=M(10,f<0?7+f:f),null==t)t=c>0?r:d;else{if(!(l=new E(t)).isInt()||l.lt(d))throw Error(w+l);t=l.gt(r)?c>0?r:d:l}for(y=!1,l=new E(C(_)),v=E.precision,E.precision=c=7*_.length*2;q=R(l,r,0,1,1),1!=(o=n.plus(q.times(e))).cmp(t);)n=e,e=o,o=d,d=h.plus(q.times(o)),h=o,o=r,r=l.minus(q.times(o)),l=o;return o=R(t.minus(n),e,0,1,1),h=h.plus(o.times(d)),n=n.plus(o.times(e)),h.s=d.s=x.s,m=R(d,e,c,1).minus(x).abs().cmp(R(h,n,c,1).minus(x).abs())<1?[d,e]:[h,n],E.precision=v,y=!0,m},O.toHexadecimal=O.toHex=function(t,r){return tt(this,16,t,r)},O.toNearest=function(t,r){var n=this,e=n.constructor;if(n=new e(n),null==t){if(!n.d)return n;t=new e(1),r=e.rounding}else{if(t=new e(t),void 0===r?r=e.rounding:A(r,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(y=!1,n=R(n,t,0,r,1).times(t),y=!0,I(n)):(t.s=n.s,n=t),n},O.toNumber=function(){return+this},O.toOctal=function(t,r){return tt(this,8,t,r)},O.toPower=O.pow=function(t){var r,n,e,o,c,s,f=this,l=f.constructor,h=+(t=new l(t));if(!(f.d&&t.d&&f.d[0]&&t.d[0]))return new l(M(+f,h));if((f=new l(f)).eq(1))return f;if(e=l.precision,c=l.rounding,t.eq(1))return I(f,e,c);if((r=x(t.e/7))>=t.d.length-1&&(n=h<0?-h:h)<=9007199254740991)return o=U(l,f,n,e),t.s<0?new l(1).div(o):I(o,e,c);if((s=f.s)<0){if(r<t.d.length-1)return new l(NaN);if(0==(1&t.d[r])&&(s=1),0==f.e&&1==f.d[0]&&1==f.d.length)return f.s=s,f}return(r=0!=(n=M(+f,h))&&isFinite(n)?new l(n+"").e:x(h*(Math.log("0."+C(f.d))/Math.LN10+f.e+1)))>l.maxE+1||r<l.minE-1?new l(r>0?s/0:0):(y=!1,l.rounding=f.s=1,n=Math.min(12,(r+"").length),(o=H(t.times(W(f,e+n)),e)).d&&B((o=I(o,e+5,1)).d,e,c)&&(r=e+10,+C((o=I(H(t.times(W(f,r+n)),r),r+5,1)).d).slice(e+1,e+15)+1==1e14&&(o=I(o,e+1,0))),o.s=s,y=!0,l.rounding=c,I(o,e,c))},O.toPrecision=function(t,r){var n,e=this,o=e.constructor;return void 0===t?n=F(e,e.e<=o.toExpNeg||e.e>=o.toExpPos):(A(t,1,1e9),void 0===r?r=o.rounding:A(r,0,8),n=F(e=I(new o(e),t,r),t<=e.e||e.e<=o.toExpNeg,t)),e.isNeg()&&!e.isZero()?"-"+n:n},O.toSignificantDigits=O.toSD=function(t,r){var n=this.constructor;return void 0===t?(t=n.precision,r=n.rounding):(A(t,1,1e9),void 0===r?r=n.rounding:A(r,0,8)),I(new n(this),t,r)},O.toString=function(){var t=this,r=t.constructor,n=F(t,t.e<=r.toExpNeg||t.e>=r.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n},O.truncated=O.trunc=function(){return I(new this.constructor(this),this.e+1,1)},O.valueOf=O.toJSON=function(){var t=this,r=t.constructor,n=F(t,t.e<=r.toExpNeg||t.e>=r.toExpPos);return t.isNeg()?"-"+n:n};var R=function(){function t(t,r,base){var n,e=0,i=t.length;for(t=t.slice();i--;)n=t[i]*r+e,t[i]=n%base|0,e=n/base|0;return e&&t.unshift(e),t}function r(a,b,t,r){var i,n;if(t!=r)n=t>r?1:-1;else for(i=n=0;i<t;i++)if(a[i]!=b[i]){n=a[i]>b[i]?1:-1;break}return n}function n(a,b,t,base){for(var i=0;t--;)a[t]-=i,i=a[t]<b[t]?1:0,a[t]=i*base+a[t]-b[t];for(;!a[0]&&a.length>1;)a.shift()}return function(e,o,c,l,h,base){var d,v,i,m,y,w,M,_,q,E,S,N,D,z,O,C,A,B,P,R,F=e.constructor,T=e.s==o.s?1:-1,k=e.d,j=o.d;if(!(k&&k[0]&&j&&j[0]))return new F(e.s&&o.s&&(k?!j||k[0]!=j[0]:j)?k&&0==k[0]||!j?0*T:T/0:NaN);for(base?(y=1,v=e.e-o.e):(base=1e7,y=7,v=x(e.e/y)-x(o.e/y)),P=j.length,A=k.length,E=(q=new F(T)).d=[],i=0;j[i]==(k[i]||0);i++);if(j[i]>(k[i]||0)&&v--,null==c?(z=c=F.precision,l=F.rounding):z=h?c+(e.e-o.e)+1:c,z<0)E.push(1),w=!0;else{if(z=z/y+2|0,i=0,1==P){for(m=0,j=j[0],z++;(i<A||m)&&z--;i++)O=m*base+(k[i]||0),E[i]=O/j|0,m=O%j|0;w=m||i<A}else{for((m=base/(j[0]+1)|0)>1&&(j=t(j,m,base),k=t(k,m,base),P=j.length,A=k.length),C=P,N=(S=k.slice(0,P)).length;N<P;)S[N++]=0;(R=j.slice()).unshift(0),B=j[0],j[1]>=base/2&&++B;do{m=0,(d=r(j,S,P,N))<0?(D=S[0],P!=N&&(D=D*base+(S[1]||0)),(m=D/B|0)>1?(m>=base&&(m=base-1),1==(d=r(M=t(j,m,base),S,_=M.length,N=S.length))&&(m--,n(M,P<_?R:j,_,base))):(0==m&&(d=m=1),M=j.slice()),(_=M.length)<N&&M.unshift(0),n(S,M,N,base),-1==d&&(d=r(j,S,P,N=S.length))<1&&(m++,n(S,P<N?R:j,N,base)),N=S.length):0===d&&(m++,S=[0]),E[i++]=m,d&&S[0]?S[N++]=k[C]||0:(S=[k[C]],N=1)}while((C++<A||void 0!==S[0])&&z--);w=void 0!==S[0]}E[0]||E.shift()}if(1==y)q.e=v,f=w;else{for(i=1,m=E[0];m>=10;m/=10)i++;q.e=i+v*y-1,I(q,h?c+q.e+1:c,l,w)}return q}}();function I(t,r,n,e){var o,i,c,f,l,h,d,v,m,w=t.constructor;t:if(null!=r){if(!(v=t.d))return t;for(o=1,f=v[0];f>=10;f/=10)o++;if((i=r-o)<0)i+=7,c=r,l=(d=v[m=0])/M(10,o-c-1)%10|0;else if((m=Math.ceil((i+1)/7))>=(f=v.length)){if(!e)break t;for(;f++<=m;)v.push(0);d=l=0,o=1,c=(i%=7)-7+1}else{for(d=f=v[m],o=1;f>=10;f/=10)o++;l=(c=(i%=7)-7+o)<0?0:d/M(10,o-c-1)%10|0}if(e=e||r<0||void 0!==v[m+1]||(c<0?d:d%M(10,o-c-1)),h=n<4?(l||e)&&(0==n||n==(t.s<0?3:2)):l>5||5==l&&(4==n||e||6==n&&(i>0?c>0?d/M(10,o-c):0:v[m-1])%10&1||n==(t.s<0?8:7)),r<1||!v[0])return v.length=0,h?(r-=t.e+1,v[0]=M(10,(7-r%7)%7),t.e=-r||0):v[0]=t.e=0,t;if(0==i?(v.length=m,f=1,m--):(v.length=m+1,f=M(10,7-i),v[m]=c>0?(d/M(10,o-c)%M(10,c)|0)*f:0),h)for(;;){if(0==m){for(i=1,c=v[0];c>=10;c/=10)i++;for(c=v[0]+=f,f=1;c>=10;c/=10)f++;i!=f&&(t.e++,1e7==v[0]&&(v[0]=1));break}if(v[m]+=f,1e7!=v[m])break;v[m--]=0,f=1}for(i=v.length;0===v[--i];)v.pop()}return y&&(t.e>w.maxE?(t.d=null,t.e=NaN):t.e<w.minE&&(t.e=0,t.d=[0])),t}function F(t,r,n){if(!t.isFinite())return V(t);var e,o=t.e,c=C(t.d),f=c.length;return r?(n&&(e=n-f)>0?c=c.charAt(0)+"."+c.slice(1)+L(e):f>1&&(c=c.charAt(0)+"."+c.slice(1)),c=c+(t.e<0?"e":"e+")+t.e):o<0?(c="0."+L(-o-1)+c,n&&(e=n-f)>0&&(c+=L(e))):o>=f?(c+=L(o+1-f),n&&(e=n-o-1)>0&&(c=c+"."+L(e))):((e=o+1)<f&&(c=c.slice(0,e)+"."+c.slice(e)),n&&(e=n-f)>0&&(o+1===f&&(c+="."),c+=L(e))),c}function T(t,r){var n=t[0];for(r*=7;n>=10;n/=10)r++;return r}function k(t,r,n){if(r>D)throw y=!0,n&&(t.precision=n),Error("[DecimalError] Precision limit exceeded");return I(new t(d),r,1,!0)}function j(t,r,n){if(r>z)throw Error("[DecimalError] Precision limit exceeded");return I(new t(v),r,n,!0)}function G(t){var r=t.length-1,n=7*r+1;if(r=t[r]){for(;r%10==0;r/=10)n--;for(r=t[0];r>=10;r/=10)n++}return n}function L(t){for(var r="";t--;)r+="0";return r}function U(t,r,n,e){var o,c=new t(1),f=Math.ceil(e/7+4);for(y=!1;;){if(n%2&&nt((c=c.times(r)).d,f)&&(o=!0),0===(n=x(n/2))){n=c.d.length-1,o&&0===c.d[n]&&++c.d[n];break}nt((r=r.times(r)).d,f)}return y=!0,c}function Y(t){return 1&t.d[t.d.length-1]}function X(t,r,n){for(var e,o=new t(r[0]),i=0;++i<r.length;){if(!(e=new t(r[i])).s){o=e;break}o[n](e)&&(o=e)}return o}function H(t,r){var n,e,o,c,f,l,h,d=0,i=0,v=0,m=t.constructor,w=m.rounding,x=m.precision;if(!t.d||!t.d[0]||t.e>17)return new m(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(null==r?(y=!1,h=x):h=r,l=new m(.03125);t.e>-2;)t=t.times(l),v+=5;for(h+=e=Math.log(M(2,v))/Math.LN10*2+5|0,n=c=f=new m(1),m.precision=h;;){if(c=I(c.times(t),h,1),n=n.times(++i),C((l=f.plus(R(c,n,h,1))).d).slice(0,h)===C(f.d).slice(0,h)){for(o=v;o--;)f=I(f.times(f),h,1);if(null!=r)return m.precision=x,f;if(!(d<3&&B(f.d,h-e,w,d)))return I(f,m.precision=x,w,y=!0);m.precision=h+=10,n=c=l=new m(1),i=0,d++}f=l}}function W(t,r){var n,e,o,c,f,l,h,d,v,m,w,x=1,M=t,_=M.d,E=M.constructor,S=E.rounding,N=E.precision;if(M.s<0||!_||!_[0]||!M.e&&1==_[0]&&1==_.length)return new E(_&&!_[0]?-1/0:1!=M.s?NaN:_?0:M);if(null==r?(y=!1,v=N):v=r,E.precision=v+=10,e=(n=C(_)).charAt(0),!(Math.abs(c=M.e)<15e14))return d=k(E,v+2,N).times(c+""),M=W(new E(e+"."+n.slice(1)),v-10).plus(d),E.precision=N,null==r?I(M,N,S,y=!0):M;for(;e<7&&1!=e||1==e&&n.charAt(1)>3;)e=(n=C((M=M.times(t)).d)).charAt(0),x++;for(c=M.e,e>1?(M=new E("0."+n),c++):M=new E(e+"."+n.slice(1)),m=M,h=f=M=R(M.minus(1),M.plus(1),v,1),w=I(M.times(M),v,1),o=3;;){if(f=I(f.times(w),v,1),C((d=h.plus(R(f,new E(o),v,1))).d).slice(0,v)===C(h.d).slice(0,v)){if(h=h.times(2),0!==c&&(h=h.plus(k(E,v+2,N).times(c+""))),h=R(h,new E(x),v,1),null!=r)return E.precision=N,h;if(!B(h.d,v-10,S,l))return I(h,E.precision=N,S,y=!0);E.precision=v+=10,d=f=M=R(m.minus(1),m.plus(1),v,1),w=I(M.times(M),v,1),o=l=1}h=d,o+=2}}function V(t){return String(t.s*t.s/0)}function Z(t,r){var n,i,e;for((n=r.indexOf("."))>-1&&(r=r.replace(".","")),(i=r.search(/e/i))>0?(n<0&&(n=i),n+=+r.slice(i+1),r=r.substring(0,i)):n<0&&(n=r.length),i=0;48===r.charCodeAt(i);i++);for(e=r.length;48===r.charCodeAt(e-1);--e);if(r=r.slice(i,e)){if(e-=i,t.e=n=n-i-1,t.d=[],i=(n+1)%7,n<0&&(i+=7),i<e){for(i&&t.d.push(+r.slice(0,i)),e-=7;i<e;)t.d.push(+r.slice(i,i+=7));i=7-(r=r.slice(i)).length}else i-=e;for(;i--;)r+="0";t.d.push(+r),y&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function $(t,r){var base,n,e,i,o,f,p,l,h;if("Infinity"===r||"NaN"===r)return+r||(t.s=NaN),t.e=NaN,t.d=null,t;if(E.test(r))base=16,r=r.toLowerCase();else if(_.test(r))base=2;else{if(!S.test(r))throw Error(w+r);base=8}for((i=r.search(/p/i))>0?(p=+r.slice(i+1),r=r.substring(2,i)):r=r.slice(2),o=(i=r.indexOf("."))>=0,n=t.constructor,o&&(i=(f=(r=r.replace(".","")).length)-i,e=U(n,new n(base),i,2*i)),i=h=(l=P(r,base,1e7)).length-1;0===l[i];--i)l.pop();return i<0?new n(0*t.s):(t.e=T(l,h),t.d=l,y=!1,o&&(t=R(t,e,4*f)),p&&(t=t.times(Math.abs(p)<54?M(2,p):c.pow(2,p))),y=!0,t)}function J(t,r,n,e,o){var c,f,u,l,h=t.precision,d=Math.ceil(h/7);for(y=!1,l=n.times(n),u=new t(e);;){if(f=R(u.times(l),new t(r++*r++),h,1),u=o?e.plus(f):e.minus(f),e=R(f.times(l),new t(r++*r++),h,1),void 0!==(f=u.plus(e)).d[d]){for(c=d;f.d[c]===u.d[c]&&c--;);if(-1==c)break}c=u,u=e,e=f,f=c}return y=!0,f.d.length=d+1,f}function K(b,t){for(var r=b;--t;)r*=b;return r}function Q(t,r){var n,e=r.s<0,o=j(t,t.precision,1),c=o.times(.5);if((r=r.abs()).lte(c))return l=e?4:1,r;if((n=r.divToInt(o)).isZero())l=e?3:2;else{if((r=r.minus(n.times(o))).lte(c))return l=Y(n)?e?2:3:e?4:1,r;l=Y(n)?e?1:4:e?3:2}return r.minus(o).abs()}function tt(t,r,n,e){var base,o,i,c,l,d,v,m,y,w=t.constructor,x=void 0!==n;if(x?(A(n,1,1e9),void 0===e?e=w.rounding:A(e,0,8)):(n=w.precision,e=w.rounding),t.isFinite()){for(x?(base=2,16==r?n=4*n-3:8==r&&(n=3*n-2)):base=r,(i=(v=F(t)).indexOf("."))>=0&&(v=v.replace(".",""),(y=new w(1)).e=v.length-i,y.d=P(F(y),10,base),y.e=y.d.length),o=l=(m=P(v,10,base)).length;0==m[--l];)m.pop();if(m[0]){if(i<0?o--:((t=new w(t)).d=m,t.e=o,m=(t=R(t,y,n,e,0,base)).d,o=t.e,d=f),i=m[n],c=base/2,d=d||void 0!==m[n+1],d=e<4?(void 0!==i||d)&&(0===e||e===(t.s<0?3:2)):i>c||i===c&&(4===e||d||6===e&&1&m[n-1]||e===(t.s<0?8:7)),m.length=n,d)for(;++m[--n]>base-1;)m[n]=0,n||(++o,m.unshift(1));for(l=m.length;!m[l-1];--l);for(i=0,v="";i<l;i++)v+=h.charAt(m[i]);if(x){if(l>1)if(16==r||8==r){for(i=16==r?4:3,--l;l%i;l++)v+="0";for(l=(m=P(v,base,r)).length;!m[l-1];--l);for(i=1,v="1.";i<l;i++)v+=h.charAt(m[i])}else v=v.charAt(0)+"."+v.slice(1);v=v+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)v="0"+v;v="0."+v}else if(++o>l)for(o-=l;o--;)v+="0";else o<l&&(v=v.slice(0,o)+"."+v.slice(o))}else v=x?"0p+0":"0";v=(16==r?"0x":2==r?"0b":8==r?"0o":"")+v}else v=V(t);return t.s<0?"-"+v:v}function nt(t,r){if(t.length>r)return t.length=r,!0}function et(t){return new this(t).abs()}function it(t){return new this(t).acos()}function ot(t){return new this(t).acosh()}function at(t,r){return new this(t).plus(r)}function st(t){return new this(t).asin()}function ut(t){return new this(t).asinh()}function ct(t){return new this(t).atan()}function ft(t){return new this(t).atanh()}function lt(t,r){t=new this(t),r=new this(r);var n,e=this.precision,o=this.rounding,c=e+4;return t.s&&r.s?t.d||r.d?!r.d||t.isZero()?(n=r.s<0?j(this,e,o):new this(0)).s=t.s:!t.d||r.isZero()?(n=j(this,c,1).times(.5)).s=t.s:r.s<0?(this.precision=c,this.rounding=1,n=this.atan(R(t,r,c,1)),r=j(this,c,1),this.precision=e,this.rounding=o,n=t.s<0?n.minus(r):n.plus(r)):n=this.atan(R(t,r,c,1)):(n=j(this,c,1).times(r.s>0?.25:.75)).s=t.s:n=new this(NaN),n}function pt(t){return new this(t).cbrt()}function ht(t){return I(t=new this(t),t.e+1,2)}function vt(t){if(!t||"object"!=typeof t)throw Error("[DecimalError] Object expected");var i,p,r,n=!0===t.defaults,e=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(i=0;i<e.length;i+=3)if(p=e[i],n&&(this[p]=m[p]),void 0!==(r=t[p])){if(!(x(r)===r&&r>=e[i+1]&&r<=e[i+2]))throw Error(w+p+": "+r);this[p]=r}if(p="crypto",n&&(this[p]=m[p]),void 0!==(r=t[p])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(w+p+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");this[p]=!0}else this[p]=!1}return this}function gt(t){return new this(t).cos()}function mt(t){return new this(t).cosh()}function div(t,r){return new this(t).div(r)}function yt(t){return new this(t).exp()}function wt(t){return I(t=new this(t),t.e+1,3)}function bt(){var i,t,r=new this(0);for(y=!1,i=0;i<arguments.length;)if((t=new this(arguments[i++])).d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return y=!0,new this(1/0);r=t}return y=!0,r.sqrt()}function xt(t){return t instanceof c||t&&"[object Decimal]"===t.name||!1}function Mt(t){return new this(t).ln()}function _t(t,r){return new this(t).log(r)}function Et(t){return new this(t).log(2)}function St(t){return new this(t).log(10)}function Nt(){return X(this,arguments,"lt")}function Dt(){return X(this,arguments,"gt")}function zt(t,r){return new this(t).mod(r)}function Ot(t,r){return new this(t).mul(r)}function Ct(t,r){return new this(t).pow(r)}function At(t){var r,n,e,o,i=0,c=new this(1),f=[];if(void 0===t?t=this.precision:A(t,1,1e9),e=Math.ceil(t/7),this.crypto)if(crypto.getRandomValues)for(r=crypto.getRandomValues(new Uint32Array(e));i<e;)(o=r[i])>=429e7?r[i]=crypto.getRandomValues(new Uint32Array(1))[0]:f[i++]=o%1e7;else{if(!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");for(r=crypto.randomBytes(e*=4);i<e;)(o=r[i]+(r[i+1]<<8)+(r[i+2]<<16)+((127&r[i+3])<<24))>=214e7?crypto.randomBytes(4).copy(r,i):(f.push(o%1e7),i+=4);i=e/4}else for(;i<e;)f[i++]=1e7*Math.random()|0;for(t%=7,(e=f[--i])&&t&&(o=M(10,7-t),f[i]=(e/o|0)*o);0===f[i];i--)f.pop();if(i<0)n=0,f=[0];else{for(n=-1;0===f[0];n-=7)f.shift();for(e=1,o=f[0];o>=10;o/=10)e++;e<7&&(n-=7-e)}return c.e=n,c.d=f,c}function Bt(t){return I(t=new this(t),t.e+1,this.rounding)}function Pt(t){return(t=new this(t)).d?t.d[0]?t.s:0*t.s:t.s||NaN}function Rt(t){return new this(t).sin()}function It(t){return new this(t).sinh()}function Ft(t){return new this(t).sqrt()}function sub(t,r){return new this(t).sub(r)}function Tt(t){return new this(t).tan()}function qt(t){return new this(t).tanh()}function kt(t){return I(t=new this(t),t.e+1,1)}(c=function t(r){var i,p,n;function e(t){var r,i,n,o=this;if(!(o instanceof e))return new e(t);if(o.constructor=e,t instanceof e)return o.s=t.s,void(y?!t.d||t.e>e.maxE?(o.e=NaN,o.d=null):t.e<e.minE?(o.e=0,o.d=[0]):(o.e=t.e,o.d=t.d.slice()):(o.e=t.e,o.d=t.d?t.d.slice():t.d));if("number"===(n=typeof t)){if(0===t)return o.s=1/t<0?-1:1,o.e=0,void(o.d=[0]);if(t<0?(t=-t,o.s=-1):o.s=1,t===~~t&&t<1e7){for(r=0,i=t;i>=10;i/=10)r++;return void(y?r>e.maxE?(o.e=NaN,o.d=null):r<e.minE?(o.e=0,o.d=[0]):(o.e=r,o.d=[t]):(o.e=r,o.d=[t]))}return 0*t!=0?(t||(o.s=NaN),o.e=NaN,void(o.d=null)):Z(o,t.toString())}if("string"!==n)throw Error(w+t);return 45===(i=t.charCodeAt(0))?(t=t.slice(1),o.s=-1):(43===i&&(t=t.slice(1)),o.s=1),N.test(t)?Z(o,t):$(o,t)}if(e.prototype=O,e.ROUND_UP=0,e.ROUND_DOWN=1,e.ROUND_CEIL=2,e.ROUND_FLOOR=3,e.ROUND_HALF_UP=4,e.ROUND_HALF_DOWN=5,e.ROUND_HALF_EVEN=6,e.ROUND_HALF_CEIL=7,e.ROUND_HALF_FLOOR=8,e.EUCLID=9,e.config=e.set=vt,e.clone=t,e.isDecimal=xt,e.abs=et,e.acos=it,e.acosh=ot,e.add=at,e.asin=st,e.asinh=ut,e.atan=ct,e.atanh=ft,e.atan2=lt,e.cbrt=pt,e.ceil=ht,e.cos=gt,e.cosh=mt,e.div=div,e.exp=yt,e.floor=wt,e.hypot=bt,e.ln=Mt,e.log=_t,e.log10=St,e.log2=Et,e.max=Nt,e.min=Dt,e.mod=zt,e.mul=Ot,e.pow=Ct,e.random=At,e.round=Bt,e.sign=Pt,e.sin=Rt,e.sinh=It,e.sqrt=Ft,e.sub=sub,e.tan=Tt,e.tanh=qt,e.trunc=kt,void 0===r&&(r={}),r&&!0!==r.defaults)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],i=0;i<n.length;)r.hasOwnProperty(p=n[i++])||(r[p]=this[p]);return e.config(r),e}(m)).default=c.Decimal=c,d=new c(d),v=new c(v),void 0===(e=function(){return c}.call(r,n,r,t))||(t.exports=e)}()},272:function(t,r,n){var e;!function(n){"use strict";var o={s:1,n:0,d:1};function c(t){function r(){var r=Error.apply(this,arguments);r.name=this.name=t,this.stack=r.stack,this.message=r.message}function n(){}return n.prototype=Error.prototype,r.prototype=new n,r}var f=y.DivisionByZero=c("DivisionByZero"),l=y.InvalidParameter=c("InvalidParameter");function h(t,s){return isNaN(t=parseInt(t,10))&&d(),t*s}function d(){throw new l}var v=function(t,r){var n,e=0,c=1,s=1,l=0,v=0,m=0,y=1,w=1,x=0,M=1,_=1,E=1,S=1e7;if(null==t);else if(void 0!==r)s=(e=t)*(c=r);else switch(typeof t){case"object":"d"in t&&"n"in t?(e=t.n,c=t.d,"s"in t&&(e*=t.s)):0 in t?(e=t[0],1 in t&&(c=t[1])):d(),s=e*c;break;case"number":if(t<0&&(s=t,t=-t),t%1==0)e=t;else if(t>0){for(t>=1&&(t/=w=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));M<=S&&E<=S;){if(t===(n=(x+_)/(M+E))){M+E<=S?(e=x+_,c=M+E):E>M?(e=_,c=E):(e=x,c=M);break}t>n?(x+=_,M+=E):(_+=x,E+=M),M>S?(e=_,c=E):(e=x,c=M)}e*=w}else(isNaN(t)||isNaN(r))&&(c=e=NaN);break;case"string":if(null===(M=t.match(/\d+|./g))&&d(),"-"===M[x]?(s=-1,x++):"+"===M[x]&&x++,M.length===x+1?v=h(M[x++],s):"."===M[x+1]||"."===M[x]?("."!==M[x]&&(l=h(M[x++],s)),(++x+1===M.length||"("===M[x+1]&&")"===M[x+3]||"'"===M[x+1]&&"'"===M[x+3])&&(v=h(M[x],s),y=Math.pow(10,M[x].length),x++),("("===M[x]&&")"===M[x+2]||"'"===M[x]&&"'"===M[x+2])&&(m=h(M[x+1],s),w=Math.pow(10,M[x+1].length)-1,x+=3)):"/"===M[x+1]||":"===M[x+1]?(v=h(M[x],s),y=h(M[x+2],1),x+=3):"/"===M[x+3]&&" "===M[x+1]&&(l=h(M[x],s),v=h(M[x+2],s),y=h(M[x+4],1),x+=5),M.length<=x){s=e=m+(c=y*w)*l+w*v;break}default:d()}if(0===c)throw new f;o.s=s<0?-1:1,o.n=Math.abs(e),o.d=Math.abs(c)};function m(a,b){if(!a)return b;if(!b)return a;for(;;){if(!(a%=b))return b;if(!(b%=a))return a}}function y(a,b){if(!(this instanceof y))return new y(a,b);v(a,b),a=y.REDUCE?m(o.d,o.n):1,this.s=o.s,this.n=o.n/a,this.d=o.d/a}y.REDUCE=1,y.prototype={s:1,n:0,d:1,abs:function(){return new y(this.n,this.d)},neg:function(){return new y(-this.s*this.n,this.d)},add:function(a,b){return v(a,b),new y(this.s*this.n*o.d+o.s*this.d*o.n,this.d*o.d)},sub:function(a,b){return v(a,b),new y(this.s*this.n*o.d-o.s*this.d*o.n,this.d*o.d)},mul:function(a,b){return v(a,b),new y(this.s*o.s*this.n*o.n,this.d*o.d)},div:function(a,b){return v(a,b),new y(this.s*o.s*this.n*o.d,this.d*o.n)},clone:function(){return new y(this)},mod:function(a,b){return isNaN(this.n)||isNaN(this.d)?new y(NaN):void 0===a?new y(this.s*this.n%this.d,1):(v(a,b),0===o.n&&0===this.d&&y(0,0),new y(this.s*(o.d*this.n)%(o.n*this.d),o.d*this.d))},gcd:function(a,b){return v(a,b),new y(m(o.n,this.n)*m(o.d,this.d),o.d*this.d)},lcm:function(a,b){return v(a,b),0===o.n&&0===this.n?new y:new y(o.n*this.n,m(o.n,this.n)*m(o.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new y(NaN):new y(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new y(NaN):new y(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new y(NaN):new y(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return new y(this.s*this.d,this.n)},pow:function(t){return t<0?new y(Math.pow(this.s*this.d,-t),Math.pow(this.n,-t)):new y(Math.pow(this.s*this.n,t),Math.pow(this.d,t))},equals:function(a,b){return v(a,b),this.s*this.n*o.d==o.s*o.n*this.d},compare:function(a,b){v(a,b);var t=this.s*this.n*o.d-o.s*o.n*this.d;return(0<t)-(t<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;var r=this.abs().toContinued();function n(a){return 1===a.length?new y(a[0]):n(a.slice(1)).inverse().add(a[0])}t=t||.001;for(var i=0;i<r.length;i++){var e=n(r.slice(0,i+1));if(e.sub(this.abs()).abs().valueOf()<t)return e.mul(this.s)}return this},divisible:function(a,b){return v(a,b),!(!(o.n*this.d)||this.n*o.d%(o.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var r,n="",e=this.n,o=this.d;return this.s<0&&(n+="-"),1===o?n+=e:(t&&(r=Math.floor(e/o))>0&&(n+=r,n+=" ",e%=o),n+=e,n+="/",n+=o),n},toLatex:function(t){var r,n="",e=this.n,o=this.d;return this.s<0&&(n+="-"),1===o?n+=e:(t&&(r=Math.floor(e/o))>0&&(n+=r,e%=o),n+="\\frac{",n+=e,n+="}{",n+=o,n+="}"),n},toContinued:function(){var t,a=this.n,b=this.d,r=[];if(isNaN(this.n)||isNaN(this.d))return r;do{r.push(Math.floor(a/b)),t=a%b,a=b,b=t}while(1!==a);return r},toString:function(t){var g,r=this.n,n=this.d;if(isNaN(r)||isNaN(n))return"NaN";y.REDUCE||(r/=g=m(r,n),n/=g),t=t||15;var e=function(t,r){for(;r%2==0;r/=2);for(;r%5==0;r/=5);if(1===r)return 0;for(var n=10%r,e=1;1!==n;e++)if(n=10*n%r,e>2e3)return 0;return e}(0,n),o=function(t,r,n){for(var e=1,o=function(b,t,r){for(var n=1;t>0;b=b*b%r,t>>=1)1&t&&(n=n*b%r);return n}(10,n,r),c=0;c<300;c++){if(e===o)return c;e=10*e%r,o=10*o%r}return 0}(0,n,e),c=-1===this.s?"-":"";if(c+=r/n|0,r%=n,(r*=10)&&(c+="."),e){for(var i=o;i--;)c+=r/n|0,r%=n,r*=10;c+="(";for(i=e;i--;)c+=r/n|0,r%=n,r*=10;c+=")"}else for(i=t;r&&i--;)c+=r/n|0,r%=n,r*=10;return c}},void 0===(e=function(){return y}.apply(r,[]))||(t.exports=e)}()},273:function(t,r,n){"use strict";var e,o,c;o=[],void 0===(c="function"==typeof(e=function(){function t(){return!0}function r(){return!1}function n(){}return function e(){var o=[{name:"number",test:function(t){return"number"==typeof t}},{name:"string",test:function(t){return"string"==typeof t}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"Function",test:function(t){return"function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return"object"==typeof t&&null!==t&&t.constructor===Object}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],c={name:"any",test:t},f=[],l=[],h={types:o,conversions:l,ignore:f};function d(t){var r=W(h.types,(function(r){return r.name===t}));if(r)return r;if("any"===t)return c;var n=W(h.types,(function(r){return r.name.toLowerCase()===t.toLowerCase()}));throw new TypeError('Unknown type "'+t+'"'+(n?'. Did you mean "'+n.name+'"?':""))}function v(t){return t===c?999:h.types.indexOf(t)}function m(t){var r=W(h.types,(function(r){return r.test(t)}));if(r)return r.name;throw new TypeError("Value has unknown type. Value: "+t)}function y(t){return t.map((function(param){var t=param.types.map(D);return(param.restParam?"...":"")+t.join("|")})).join(",")}function w(param,t){var r=0===param.indexOf("..."),n=(r?param.length>3?param.slice(3):"any":param).split("|").map(j).filter(G).filter(k),e=function(t,r){var n={};return t.forEach((function(t){-1!==r.indexOf(t.from)||-1===r.indexOf(t.to)||n[t.from]||(n[t.from]=t)})),Object.keys(n).map((function(t){return n[t]}))}(t,n),o=n.map((function(t){var r=d(t);return{name:t,typeIndex:v(r),test:r.test,conversion:null,conversionIndex:-1}})),c=e.map((function(r){var n=d(r.from);return{name:r.from,typeIndex:v(n),test:n.test,conversion:r,conversionIndex:t.indexOf(r)}}));return{types:o.concat(c),restParam:r}}function x(t){var param=Y(t);return!!param&&param.restParam}function M(param){return param.types.some((function(t){return null!=t.conversion}))}function _(param){if(param&&0!==param.types.length){if(1===param.types.length)return d(param.types[0].name).test;if(2===param.types.length){var r=d(param.types[0].name).test,n=d(param.types[1].name).test;return function(t){return r(t)||n(t)}}var e=param.types.map((function(t){return d(t.name).test}));return function(t){for(var i=0;i<e.length;i++)if(e[i](t))return!0;return!1}}return t}function E(t){var r,n,e,o;if(x(t)){var c=(r=(o=t,o.slice(0,o.length-1)).map(_)).length,f=_(Y(t));return function(t){for(var i=0;i<r.length;i++)if(!r[i](t[i]))return!1;return function(t){for(var i=c;i<t.length;i++)if(!f(t[i]))return!1;return!0}(t)&&t.length>=c+1}}return 0===t.length?function(t){return 0===t.length}:1===t.length?(n=_(t[0]),function(t){return n(t[0])&&1===t.length}):2===t.length?(n=_(t[0]),e=_(t[1]),function(t){return n(t[0])&&e(t[1])&&2===t.length}):(r=t.map(_),function(t){for(var i=0;i<r.length;i++)if(!r[i](t[i]))return!1;return t.length===r.length})}function S(t,r){return r<t.params.length?t.params[r]:x(t.params)?Y(t.params):null}function N(t,r,n){var param=S(t,r);return(param?n?param.types.filter(z):param.types:[]).map(D)}function D(t){return t.name}function z(t){return null===t.conversion||void 0===t.conversion}function O(t,r){var n=function(t){for(var r={},i=0;i<t.length;i++)r[t[i]]=!0;return Object.keys(r)}(V(t,(function(t){return N(t,r,!1)})));return-1!==n.indexOf("any")?["any"]:n}function C(t,r,n){var e,o,c,f=t||"unnamed",l=n;for(c=0;c<r.length;c++){var h=l.filter((function(t){var n=_(S(t,c));return(c<t.params.length||x(t.params))&&n(r[c])}));if(0===h.length){if((o=O(l,c)).length>0){var d=m(r[c]);return(e=new TypeError("Unexpected type of argument in function "+f+" (expected: "+o.join(" or ")+", actual: "+d+", index: "+c+")")).data={category:"wrongType",fn:f,index:c,actual:d,expected:o},e}}else l=h}var v=l.map((function(t){return x(t.params)?1/0:t.params.length}));if(r.length<Math.min.apply(null,v))return o=O(l,c),(e=new TypeError("Too few arguments in function "+f+" (expected: "+o.join(" or ")+", index: "+r.length+")")).data={category:"tooFewArgs",fn:f,index:r.length,expected:o},e;var y=Math.max.apply(null,v);return r.length>y?((e=new TypeError("Too many arguments in function "+f+" (expected: "+y+", actual: "+r.length+")")).data={category:"tooManyArgs",fn:f,index:r.length,expectedLength:y},e):((e=new TypeError('Arguments of type "'+r.join(", ")+'" do not match any of the defined signatures of function '+f+".")).data={category:"mismatch",actual:r.map(m)},e)}function A(param){for(var t=999,i=0;i<param.types.length;i++)z(param.types[i])&&(t=Math.min(t,param.types[i].typeIndex));return t}function B(param){for(var t=999,i=0;i<param.types.length;i++)z(param.types[i])||(t=Math.min(t,param.types[i].conversionIndex));return t}function P(t,r){var n;return 0!=(n=t.restParam-r.restParam)||0!=(n=M(t)-M(r))||0!=(n=A(t)-A(r))?n:B(t)-B(r)}function R(t,r){var i,n,e=Math.min(t.params.length,r.params.length);if(0!=(n=t.params.some(M)-r.params.some(M)))return n;for(i=0;i<e;i++)if(0!=(n=M(t.params[i])-M(r.params[i])))return n;for(i=0;i<e;i++)if(0!==(n=P(t.params[i],r.params[i])))return n;return t.params.length-r.params.length}function I(param){var t,r,n,e,o=[],c=[];switch(param.types.forEach((function(t){t.conversion&&(o.push(d(t.conversion.from).test),c.push(t.conversion.convert))})),c.length){case 0:return function(t){return t};case 1:return t=o[0],n=c[0],function(r){return t(r)?n(r):r};case 2:return t=o[0],r=o[1],n=c[0],e=c[1],function(o){return t(o)?n(o):r(o)?e(o):o};default:return function(t){for(var i=0;i<c.length;i++)if(o[i](t))return c[i](t);return t}}}function F(t,r){return function t(n,e,o){if(e<n.length){var c,param=n[e],f=r?param.types.filter(z):param.types;if(param.restParam){var l=f.filter(z);c=l.length<f.length?[l,f]:[f]}else c=f.map((function(t){return[t]}));return V(c,(function(r){return t(n,e+1,o.concat([r]))}))}return[o.map((function(t,r){return{types:t,restParam:r===n.length-1&&x(n)}}))]}(t,0,[])}function T(t,e){if(0===Object.keys(e).length)throw new SyntaxError("No signatures provided");var o=[];Object.keys(e).map((function(t){return function(t,r,n){var e=[];return""!==t.trim()&&(e=t.split(",").map(j).map((function(param,t,r){var e=w(param,n);if(e.restParam&&t!==r.length-1)throw new SyntaxError('Unexpected rest parameter "'+param+'": only allowed for the last parameter');return e}))),e.some(U)?null:{params:e,fn:r}}(t,e[t],h.conversions)})).filter(L).forEach((function(t){var r=W(o,(function(s){return function(t,r){for(var n=Math.max(t.params.length,r.params.length),i=0;i<n;i++)if(!H(N(t,i,!0),N(r,i,!0)))return!1;var e=t.params.length,o=r.params.length,c=x(t.params),f=x(r.params);return c?f?e===o:o>=e:f?e>=o:e===o}(s,t)}));if(r)throw new TypeError('Conflicting signatures "'+y(r.params)+'" and "'+y(t.params)+'".');o.push(t)}));var c=V(o,(function(t){return(t?F(t.params,!1):[]).map((function(r){return{params:r,fn:t.fn}}))})).filter(L);c.sort(R);var f=c[0]&&c[0].params.length<=2&&!x(c[0].params),l=c[1]&&c[1].params.length<=2&&!x(c[1].params),d=c[2]&&c[2].params.length<=2&&!x(c[2].params),v=c[3]&&c[3].params.length<=2&&!x(c[3].params),m=c[4]&&c[4].params.length<=2&&!x(c[4].params),S=c[5]&&c[5].params.length<=2&&!x(c[5].params),D=f&&l&&d&&v&&m&&S,z=c.map((function(t){return E(t.params)})),O=f?_(c[0].params[0]):r,A=l?_(c[1].params[0]):r,B=d?_(c[2].params[0]):r,P=v?_(c[3].params[0]):r,T=m?_(c[4].params[0]):r,k=S?_(c[5].params[0]):r,G=f?_(c[0].params[1]):r,Y=l?_(c[1].params[1]):r,Z=d?_(c[2].params[1]):r,$=v?_(c[3].params[1]):r,J=m?_(c[4].params[1]):r,K=S?_(c[5].params[1]):r,Q=c.map((function(t){return function(t,r){var n=r;if(t.some(M)){var e=x(t),o=t.map(I);n=function(){for(var t=[],n=e?arguments.length-1:arguments.length,i=0;i<n;i++)t[i]=o[i](arguments[i]);return e&&(t[n]=arguments[n].map(o[n])),r.apply(null,t)}}var c=n;if(x(t)){var f=t.length-1;c=function(){return n.apply(null,X(arguments,0,f).concat([X(arguments,f)]))}}return c}(t.params,t.fn)})),tt=f?Q[0]:n,nt=l?Q[1]:n,et=d?Q[2]:n,it=v?Q[3]:n,ot=m?Q[4]:n,at=S?Q[5]:n,st=f?c[0].params.length:-1,ut=l?c[1].params.length:-1,ct=d?c[2].params.length:-1,ft=v?c[3].params.length:-1,lt=m?c[4].params.length:-1,pt=S?c[5].params.length:-1,ht=D?6:0,vt=c.length,gt=function(){for(var i=ht;i<vt;i++)if(z[i](arguments))return Q[i].apply(null,arguments);throw C(t,arguments,c)},mt=function(t,r){return arguments.length===st&&O(t)&&G(r)?tt.apply(null,arguments):arguments.length===ut&&A(t)&&Y(r)?nt.apply(null,arguments):arguments.length===ct&&B(t)&&Z(r)?et.apply(null,arguments):arguments.length===ft&&P(t)&&$(r)?it.apply(null,arguments):arguments.length===lt&&T(t)&&J(r)?ot.apply(null,arguments):arguments.length===pt&&k(t)&&K(r)?at.apply(null,arguments):gt.apply(null,arguments)};try{Object.defineProperty(mt,"name",{value:t})}catch(t){}return mt.signatures=function(t){var r={};return t.forEach((function(t){t.params.some(M)||F(t.params,!0).forEach((function(n){r[y(n)]=t.fn}))})),r}(c),mt}function k(t){return-1===h.ignore.indexOf(t)}function j(t){return t.trim()}function G(t){return!!t}function L(t){return null!==t}function U(param){return 0===param.types.length}function Y(t){return t[t.length-1]}function X(t,r,n){return Array.prototype.slice.call(t,r,n)}function H(t,r){for(var i=0;i<t.length;i++)if(n=r,e=t[i],-1!==n.indexOf(e))return!0;var n,e;return!1}function W(t,r){for(var i=0;i<t.length;i++)if(r(t[i]))return t[i]}function V(t,r){return Array.prototype.concat.apply([],t.map(r))}function Z(t){for(var r="",i=0;i<t.length;i++){var n=t[i];if(("object"==typeof n.signatures||"string"==typeof n.signature)&&""!==n.name)if(""===r)r=n.name;else if(r!==n.name){var e=new Error("Function names do not match (expected: "+r+", actual: "+n.name+")");throw e.data={actual:n.name,expected:r},e}}return r}function $(t){var r,n={};function e(t,e){if(n.hasOwnProperty(t)&&e!==n[t])throw(r=new Error('Signature "'+t+'" is defined twice')).data={signature:t},r}for(var i=0;i<t.length;i++){var o=t[i];if("object"==typeof o.signatures)for(var c in o.signatures)o.signatures.hasOwnProperty(c)&&(e(c,o.signatures[c]),n[c]=o.signatures[c]);else{if("string"!=typeof o.signature)throw(r=new TypeError("Function is no typed-function (index: "+i+")")).data={index:i},r;e(o.signature,o),n[o.signature]=o}}return n}return(h=T("typed",{"string, Object":T,Object:function(t){var r=[];for(var n in t)t.hasOwnProperty(n)&&r.push(t[n]);return T(Z(r),t)},"...Function":function(t){return T(Z(t),$(t))},"string, ...Function":function(t,r){return T(t,$(r))}})).create=e,h.types=o,h.conversions=l,h.ignore=f,h.convert=function(t,r){var n=m(t);if(r===n)return t;for(var i=0;i<h.conversions.length;i++){var e=h.conversions[i];if(e.from===n&&e.to===r)return e.convert(t)}throw new Error("Cannot convert from "+n+" to "+r)},h.find=function(t,r){if(!t.signatures)throw new TypeError("Function is no typed-function");var n;if("string"==typeof r){n=r.split(",");for(var i=0;i<n.length;i++)n[i]=n[i].trim()}else{if(!Array.isArray(r))throw new TypeError("String array or a comma separated string expected");n=r}var e=n.join(","),o=t.signatures[e];if(o)return o;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+n.join(", ")+"))")},h.addType=function(t,r){if(!t||"string"!=typeof t.name||"function"!=typeof t.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==r)for(var i=0;i<h.types.length;i++)if("Object"===h.types[i].name)return void h.types.splice(i,0,t);h.types.push(t)},h.addConversion=function(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");h.conversions.push(t)},h}()})?e.apply(r,o):e)||(t.exports=c)},274:function(t,r,n){"use strict";(function(r){var n=[],e=void 0===r?window:r,o=Math.pow(256,6),c=Math.pow(2,52),f=2*c,l=Math.random;function h(t){var r,n=t.length,e=this,i=0,o=e.i=e.j=0,s=e.S=[];for(n||(t=[n++]);i<256;)s[i]=i++;for(i=0;i<256;i++)s[i]=s[o=255&o+t[i%n]+(r=s[i])],s[o]=r;(e.g=function(t){for(var r,n=0,i=e.i,o=e.j,s=e.S;t--;)r=s[i=255&i+1],n=256*n+s[255&(s[i]=s[o=255&o+r])+(s[o]=r)];return e.i=i,e.j=o,n})(256)}function d(t,r){var n,e=[],o=(typeof t)[0];if(r&&"o"==o)for(n in t)try{e.push(d(t[n],r-1))}catch(t){}return e.length?e:"s"==o?t:t+"\0"}function v(t,r){for(var n,e=t+"",o=0;o<e.length;)r[255&o]=255&(n^=19*r[255&o])+e.charCodeAt(o++);return y(r)}function m(t){try{return e.crypto.getRandomValues(t=new Uint8Array(256)),y(t)}catch(t){return[+new Date,e,e.navigator&&e.navigator.plugins,e.screen,y(n)]}}function y(a){return String.fromCharCode.apply(0,a)}t.exports=function(r,e){if(e&&!0===e.global)return e.global=!1,Math.random=t.exports(r,e),e.global=!0,Math.random;var l=e&&e.entropy||!1,w=[],x=(v(d(l?[r,y(n)]:0 in arguments?r:m(),3),w),new h(w));return v(y(x.S),n),function(){for(var t=x.g(6),r=o,n=0;t<c;)t=256*(t+n),r*=256,n=x.g(1);for(;t>=f;)t/=2,r/=2,n>>>=1;return(t+n)/r}},t.exports.resetGlobal=function(){Math.random=l},v(Math.random(),n)}).call(this,n(44))},275:function(t,r){t.exports=function t(a,b){"use strict";var r,n,e=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,o=/(^[ ]*|[ ]*$)/g,c=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,f=/^0x[0-9a-f]+$/i,l=/^0/,i=function(s){return t.insensitive&&(""+s).toLowerCase()||""+s},h=i(a).replace(o,"")||"",d=i(b).replace(o,"")||"",v=h.replace(e,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=d.replace(e,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),y=parseInt(h.match(f),16)||1!==v.length&&h.match(c)&&Date.parse(h),w=parseInt(d.match(f),16)||y&&d.match(c)&&Date.parse(d)||null;if(w){if(y<w)return-1;if(y>w)return 1}for(var x=0,M=Math.max(v.length,m.length);x<M;x++){if(r=!(v[x]||"").match(l)&&parseFloat(v[x])||v[x]||0,n=!(m[x]||"").match(l)&&parseFloat(m[x])||m[x]||0,isNaN(r)!==isNaN(n))return isNaN(r)?1:-1;if(typeof r!=typeof n&&(r+="",n+=""),r<n)return-1;if(r>n)return 1}return 0}},283:function(t,r,n){"use strict";n.d(r,"b",(function(){return ni})),n.d(r,"c",(function(){return ai})),n.d(r,"d",(function(){return fi})),n.d(r,"a",(function(){return mi}));var e={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t){return"number"==typeof t}function f(t){return t&&!0===t.constructor.prototype.isBigNumber||!1}function l(t){return t&&"object"===o(t)&&!0===Object.getPrototypeOf(t).isComplex||!1}function h(t){return t&&"object"===o(t)&&!0===Object.getPrototypeOf(t).isFraction||!1}function d(t){return t&&!0===t.constructor.prototype.isUnit||!1}function v(t){return"string"==typeof t}var m=Array.isArray;function y(t){return t&&!0===t.constructor.prototype.isMatrix||!1}function w(t){return t&&t.isDenseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function x(t){return t&&t.isSparseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function M(t){return t&&!0===t.constructor.prototype.isRange||!1}function _(t){return t&&!0===t.constructor.prototype.isIndex||!1}function E(t){return"boolean"==typeof t}function S(t){return t&&!0===t.constructor.prototype.isResultSet||!1}function N(t){return t&&!0===t.constructor.prototype.isHelp||!1}function D(t){return"function"==typeof t}function z(t){return t instanceof Date}function O(t){return t instanceof RegExp}function C(t){return!(!t||"object"!==o(t)||t.constructor!==Object||l(t)||h(t))}function A(t){return null===t}function B(t){return void 0===t}function P(t){return t&&!0===t.isAccessorNode&&!0===t.constructor.prototype.isNode||!1}function R(t){return t&&!0===t.isArrayNode&&!0===t.constructor.prototype.isNode||!1}function I(t){return t&&!0===t.isAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function F(t){return t&&!0===t.isBlockNode&&!0===t.constructor.prototype.isNode||!1}function T(t){return t&&!0===t.isConditionalNode&&!0===t.constructor.prototype.isNode||!1}function k(t){return t&&!0===t.isConstantNode&&!0===t.constructor.prototype.isNode||!1}function j(t){return t&&!0===t.isFunctionAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function G(t){return t&&!0===t.isFunctionNode&&!0===t.constructor.prototype.isNode||!1}function L(t){return t&&!0===t.isIndexNode&&!0===t.constructor.prototype.isNode||!1}function U(t){return t&&!0===t.isNode&&!0===t.constructor.prototype.isNode||!1}function Y(t){return t&&!0===t.isObjectNode&&!0===t.constructor.prototype.isNode||!1}function X(t){return t&&!0===t.isOperatorNode&&!0===t.constructor.prototype.isNode||!1}function H(t){return t&&!0===t.isParenthesisNode&&!0===t.constructor.prototype.isNode||!1}function W(t){return t&&!0===t.isRangeNode&&!0===t.constructor.prototype.isNode||!1}function V(t){return t&&!0===t.isSymbolNode&&!0===t.constructor.prototype.isNode||!1}function Z(t){return t&&!0===t.constructor.prototype.isChain||!1}function $(t){var r=o(t);return"object"===r?null===t?"null":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":f(t)?"BigNumber":l(t)?"Complex":h(t)?"Fraction":y(t)?"Matrix":d(t)?"Unit":_(t)?"Index":M(t)?"Range":S(t)?"ResultSet":U(t)?t.type:Z(t)?"Chain":N(t)?"Help":"Object":"function"===r?"Function":r}function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K(t){var r=J(t);if("number"===r||"string"===r||"boolean"===r||null==t)return t;if("function"==typeof t.clone)return t.clone();if(Array.isArray(t))return t.map((function(t){return K(t)}));if(t instanceof Date)return new Date(t.valueOf());if(f(t))return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return Q(t,K)}function Q(object,t){var r={};for(var n in object)et(object,n)&&(r[n]=t(object[n]));return r}function tt(a,b){for(var t in b)et(b,t)&&(a[t]=b[t]);return a}function nt(a,b){var t,i,r;if(Array.isArray(a)){if(!Array.isArray(b))return!1;if(a.length!==b.length)return!1;for(i=0,r=a.length;i<r;i++)if(!nt(a[i],b[i]))return!1;return!0}if("function"==typeof a)return a===b;if(a instanceof Object){if(Array.isArray(b)||!(b instanceof Object))return!1;for(t in a)if(!(t in b&&nt(a[t],b[t])))return!1;for(t in b)if(!(t in a&&nt(a[t],b[t])))return!1;return!0}return a===b}function et(object,t){return object&&Object.hasOwnProperty.call(object,t)}var it=["Matrix","Array"],ot=["number","BigNumber","Fraction"];function at(){return(at=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var r in source)Object.prototype.hasOwnProperty.call(source,r)&&(t[r]=source[r])}return t}).apply(this,arguments)}var st=function(t){if(t)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(e)};function ut(t){return"boolean"==typeof t||!!isFinite(t)&&t===Math.round(t)}at(st,e,{MATRIX_OPTIONS:it,NUMBER_OPTIONS:ot});var ct=Math.sign||function(t){return t>0?1:t<0?-1:0},ft=Math.log2||function(t){return Math.log(t)/Math.LN2},lt=Math.log10||function(t){return Math.log(t)/Math.LN10},pt=(Math.log1p,Math.cbrt||function(t){if(0===t)return t;var r,n=t<0;return n&&(t=-t),r=isFinite(t)?(t/((r=Math.exp(Math.log(t)/3))*r)+2*r)/3:t,n?-r:r}),ht=Math.expm1||function(t){return t>=2e-4||t<=-2e-4?Math.exp(t)-1:t+t*t/2+t*t*t/6};function vt(t,r){if("function"==typeof r)return r(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var n,e="auto";switch(r&&(r.notation&&(e=r.notation),c(r)?n=r:c(r.precision)&&(n=r.precision)),e){case"fixed":return mt(t,n);case"exponential":return yt(t,n);case"engineering":return function(t,r){if(isNaN(t)||!isFinite(t))return String(t);var n=bt(gt(t),r),e=n.exponent,o=n.coefficients,f=e%3==0?e:e<0?e-3-e%3:e-e%3;if(c(r))for(;r>o.length||e-f+1>o.length;)o.push(0);else for(var l=e>=0?e:Math.abs(f);o.length-1<l;)o.push(0);var h=Math.abs(e-f),d=1;for(;h>0;)d++,h--;var v=o.slice(d).join(""),m=c(r)&&v.length||v.match(/[1-9]/)?"."+v:"",y=o.slice(0,d).join("")+m+"e"+(e>=0?"+":"")+f.toString();return n.sign+y}(t,n);case"auto":if(r&&r.exponential&&(void 0!==r.exponential.lower||void 0!==r.exponential.upper)){var o=Q(r,(function(t){return t}));return o.exponential=void 0,void 0!==r.exponential.lower&&(o.lowerExp=Math.round(Math.log(r.exponential.lower)/Math.LN10)),void 0!==r.exponential.upper&&(o.upperExp=Math.round(Math.log(r.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(r)+" with "+JSON.stringify(o)),wt(t,n,o)}return wt(t,n,r&&r).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],r=arguments[4];return"."!==t?t+r:r}));default:throw new Error('Unknown notation "'+e+'". Choose "auto", "exponential", or "fixed".')}}function gt(t){var r=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!r)throw new SyntaxError("Invalid number "+t);var n=r[1],e=r[2],o=parseFloat(r[4]||"0"),c=e.indexOf(".");o+=-1!==c?c-1:e.length-1;var f=e.replace(".","").replace(/^0*/,(function(t){return o-=t.length,""})).replace(/0*$/,"").split("").map((function(t){return parseInt(t)}));return 0===f.length&&(f.push(0),o++),{sign:n,coefficients:f,exponent:o}}function mt(t,r){if(isNaN(t)||!isFinite(t))return String(t);var n=gt(t),e="number"==typeof r?bt(n,n.exponent+1+r):n,o=e.coefficients,p=e.exponent+1,c=p+(r||0);return o.length<c&&(o=o.concat(xt(c-o.length))),p<0&&(o=xt(1-p).concat(o),p=1),p<o.length&&o.splice(p,0,0===p?"0.":"."),e.sign+o.join("")}function yt(t,r){if(isNaN(t)||!isFinite(t))return String(t);var n=gt(t),e=r?bt(n,r):n,o=e.coefficients,c=e.exponent;o.length<r&&(o=o.concat(xt(r-o.length)));var f=o.shift();return e.sign+f+(o.length>0?"."+o.join(""):"")+"e"+(c>=0?"+":"")+c}function wt(t,r,n){if(isNaN(t)||!isFinite(t))return String(t);var e=n&&void 0!==n.lowerExp?n.lowerExp:-3,o=n&&void 0!==n.upperExp?n.upperExp:5,c=gt(t),f=r?bt(c,r):c;if(f.exponent<e||f.exponent>=o)return yt(t,r);var l=f.coefficients,h=f.exponent;l.length<r&&(l=l.concat(xt(r-l.length))),l=l.concat(xt(h-l.length+1+(l.length<r?r-l.length:0)));var d=h>0?h:0;return d<(l=xt(-h).concat(l)).length-1&&l.splice(d+1,0,"."),f.sign+l.join("")}function bt(t,r){for(var n={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},e=n.coefficients;r<=0;)e.unshift(0),n.exponent++,r++;if(e.length>r&&e.splice(r,e.length-r)[0]>=5){var i=r-1;for(e[i]++;10===e[i];)e.pop(),0===i&&(e.unshift(0),n.exponent++,i++),e[--i]++}return n}function xt(t){for(var r=[],i=0;i<t;i++)r.push(0);return r}var Mt=Number.EPSILON||2220446049250313e-31;function _t(t,r,n){if(null==n)return t===r;if(t===r)return!0;if(isNaN(t)||isNaN(r))return!1;if(isFinite(t)&&isFinite(r)){var e=Math.abs(t-r);return e<Mt||e<=Math.max(Math.abs(t),Math.abs(r))*n}return!1}var Et=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)},St=Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},Nt=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2},Dt=(Math.cosh,Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2});Math.tanh;function zt(t,r){if("function"==typeof r)return r(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var n,e="auto";switch(void 0!==r&&(r.notation&&(e=r.notation),"number"==typeof r?n=r:r.precision&&(n=r.precision)),e){case"fixed":return function(t,r){return t.toFixed(r)}(t,n);case"exponential":return Ot(t,n);case"engineering":return function(t,r){var n=t.e,e=n%3==0?n:n<0?n-3-n%3:n-n%3,o=t.mul(Math.pow(10,-e)),c=o.toPrecision(r);-1!==c.indexOf("e")&&(c=o.toString());return c+"e"+(n>=0?"+":"")+e.toString()}(t,n);case"auto":if(r&&r.exponential&&(void 0!==r.exponential.lower||void 0!==r.exponential.upper)){var o=Q(r,(function(t){return t}));return o.exponential=void 0,void 0!==r.exponential.lower&&(o.lowerExp=Math.round(Math.log(r.exponential.lower)/Math.LN10)),void 0!==r.exponential.upper&&(o.upperExp=Math.round(Math.log(r.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(r)+" with "+JSON.stringify(o)),zt(t,o)}var c=r&&void 0!==r.lowerExp?r.lowerExp:-3,f=r&&void 0!==r.upperExp?r.upperExp:5;if(t.isZero())return"0";var l=t.toSignificantDigits(n),h=l.e;return(h>=c&&h<f?l.toFixed():Ot(t,n)).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],r=arguments[4];return"."!==t?t+r:r}));default:throw new Error('Unknown notation "'+e+'". Choose "auto", "exponential", or "fixed".')}}function Ot(t,r){return void 0!==r?t.toExponential(r-1):t.toExponential()}function Ct(t){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function At(t,r){return"number"==typeof t?vt(t,r):f(t)?zt(t,r):function(t){return t&&"object"===Ct(t)&&"number"==typeof t.s&&"number"==typeof t.n&&"number"==typeof t.d||!1}(t)?r&&"decimal"===r.fraction?t.toString():t.s*t.n+"/"+t.d:Array.isArray(t)?function t(r,n){if(Array.isArray(r)){for(var e="[",o=r.length,i=0;i<o;i++)0!==i&&(e+=", "),e+=t(r[i],n);return e+="]"}return At(r,n)}(t,r):v(t)?'"'+t+'"':"function"==typeof t?t.syntax?String(t.syntax):"function":t&&"object"===Ct(t)?"function"==typeof t.format?t.format(r):t&&t.toString(r)!=={}.toString()?t.toString(r):"{"+Object.keys(t).map((function(n){return'"'+n+'": '+At(t[n],r)})).join(", ")+"}":String(t)}function Bt(t,r,n){if(!(this instanceof Bt))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=r,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(r)?"["+r.join(", ")+"]":r)+")",this.stack=(new Error).stack}function Pt(t,r,n){if(!(this instanceof Pt))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=r):(this.min=r,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}function Rt(t){for(var s=[];Array.isArray(t);)s.push(t.length),t=t[0];return s}function It(t,r){if(0===r.length){if(Array.isArray(t))throw new Bt(t.length,0)}else!function t(r,n,e){var i,o=r.length;if(o!==n[e])throw new Bt(o,n[e]);if(e<n.length-1){var c=e+1;for(i=0;i<o;i++){var f=r[i];if(!Array.isArray(f))throw new Bt(n.length-1,n.length,"<");t(r[i],n,c)}}else for(i=0;i<o;i++)if(Array.isArray(r[i]))throw new Bt(n.length+1,n.length,">")}(t,r,0)}function Ft(t,r){if(!c(t)||!ut(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof r&&t>=r)throw new Pt(t,r)}function Tt(t,r,n){if(!Array.isArray(t)||!Array.isArray(r))throw new TypeError("Array expected");if(0===r.length)throw new Error("Resizing to scalar is not supported");return r.forEach((function(t){if(!c(t)||!ut(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+At(r)+")")})),function t(r,n,e,o){var i,c,f=r.length,l=n[e],h=Math.min(f,l);if(r.length=l,e<n.length-1){var d=e+1;for(i=0;i<h;i++)c=r[i],Array.isArray(c)||(c=[c],r[i]=c),t(c,n,d,o);for(i=h;i<l;i++)c=[],r[i]=c,t(c,n,d,o)}else{for(i=0;i<h;i++)for(;Array.isArray(r[i]);)r[i]=r[i][0];for(i=h;i<l;i++)r[i]=o}}(t,r,0,void 0!==n?n:0),t}function qt(t,r){var n,e=jt(t);function o(t){return t.reduce((function(t,r){return t*r}))}if(!Array.isArray(t)||!Array.isArray(r))throw new TypeError("Array expected");if(0===r.length)throw new Bt(0,o(Rt(t)),"!=");for(var c=1,f=0;f<r.length;f++)c*=r[f];if(e.length!==c)throw new Bt(o(r),o(Rt(t)),"!=");try{n=function(t,r){for(var n,e=t,o=r.length-1;o>0;o--){var c=r[o];n=[];for(var f=e.length/c,i=0;i<f;i++)n.push(e.slice(i*c,(i+1)*c));e=n}return e}(e,r)}catch(n){if(n instanceof Bt)throw new Bt(o(r),o(Rt(t)),"!=");throw n}return n}function kt(t,r,n,e){var s=e||Rt(t);if(n)for(var i=0;i<n;i++)t=[t],s.unshift(1);for(t=function t(r,n,e){var i,o;if(Array.isArray(r)){var c=e+1;for(i=0,o=r.length;i<o;i++)r[i]=t(r[i],n,c)}else for(var f=e;f<n;f++)r=[r];return r}(t,r,0);s.length<r;)s.push(1);return t}function jt(t){if(!Array.isArray(t))return t;var r=[];return t.forEach((function t(n){Array.isArray(n)?n.forEach(t):r.push(n)})),r}function Gt(t,r){for(var n,e=0,i=0;i<t.length;i++){var o=t[i],c=Array.isArray(o);if(0===i&&c&&(e=o.length),c&&o.length!==e)return;var f=c?Gt(o,r):r(o);if(void 0===n)n=f;else if(n!==f)return"mixed"}return n}function Lt(t,r,n,meta){function e(e){var o=function(object,t){for(var r={},i=0;i<t.length;i++){var n=t[i],e=object[n];void 0!==e&&(r[n]=e)}return r}(e,r.map(Ut));return function(t,r,n){if(!r.filter((function(t){return!function(t){return t&&"?"===t[0]}(t)})).every((function(t){return void 0!==n[t]}))){var e=r.filter((function(t){return void 0===n[t]}));throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(e.map((function(t){return'"'.concat(t,'"')})).join(", "),"."))}}(t,r,e),n(o)}return e.isFactory=!0,e.fn=t,e.dependencies=r.slice().sort(),meta&&(e.meta=meta),e}function Ut(t){return t&&"?"===t[0]?t.slice(1):t}Bt.prototype=new RangeError,Bt.prototype.constructor=RangeError,Bt.prototype.name="DimensionError",Bt.prototype.isDimensionError=!0,Pt.prototype=new RangeError,Pt.prototype.constructor=RangeError,Pt.prototype.name="IndexError",Pt.prototype.isIndexError=!0;var Yt=n(270),Xt=n.n(Yt);function Ht(t){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Wt=Lt("Complex",[],(function(){return Xt.a.prototype.type="Complex",Xt.a.prototype.isComplex=!0,Xt.a.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Xt.a.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Xt.a.prototype.format=function(t){var r=this.im,n=this.re,e=vt(this.re,t),o=vt(this.im,t),f=c(t)?t:t?t.precision:null;if(null!==f){var l=Math.pow(10,-f);Math.abs(n/r)<l&&(n=0),Math.abs(r/n)<l&&(r=0)}return 0===r?e:0===n?1===r?"i":-1===r?"-i":o+"i":r<0?-1===r?e+" - i":e+" - "+o.substring(1)+"i":1===r?e+" + i":e+" + "+o+"i"},Xt.a.fromPolar=function(t){switch(arguments.length){case 1:var r=arguments[0];if("object"===Ht(r))return Xt()(r);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],e=arguments[1];if(c(n)){if(d(e)&&e.hasBase("ANGLE")&&(e=e.toNumber("rad")),c(e))return new Xt.a({r:n,phi:e});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Xt.a.prototype.valueOf=Xt.a.prototype.toString,Xt.a.fromJSON=function(t){return new Xt.a(t)},Xt.a.compare=function(a,b){return a.re>b.re?1:a.re<b.re?-1:a.im>b.im?1:a.im<b.im?-1:0},Xt.a}),{isClass:!0});function Vt(t){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zt(t,r){return function n(){"object"!==Vt(n.cache)&&(n.cache={});for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o=r?r(e):JSON.stringify(e);return o in n.cache||(n.cache[o]=t.apply(t,e)),n.cache[o]}}Zt((function(t){return new t(1).exp()}),Jt),Zt((function(t){return new t(1).plus(new t(5).sqrt()).div(2)}),Jt);var $t=Zt((function(t){return t.acos(-1)}),Jt);Zt((function(t){return $t(t).times(2)}),Jt);function Jt(t){return t[0].precision}Math.PI,Math.PI,Math.E;var Kt=n(271),Qt=n.n(Kt),rr=Lt("BigNumber",["?on","config"],(function(t){var r=t.on,n=t.config,e=Qt.a.clone({precision:n.precision});return e.prototype.type="BigNumber",e.prototype.isBigNumber=!0,e.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},e.fromJSON=function(t){return new e(t.value)},r&&r("config",(function(t,r){t.precision!==r.precision&&e.config({precision:t.precision})})),e}),{isClass:!0}),nr=Lt("Matrix",[],(function(){function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.storage=function(t){throw new Error("Matrix.storage is deprecated since v6.0.0. Use the factory function math.matrix instead.")},t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(data,t){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(t,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(t,r,n){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(t,r){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(t,r){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(t,r){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t}),{isClass:!0});er("fineStructure",.0072973525693),er("weakMixingAngle",.2229),er("efimovFactor",22.7),er("sackurTetrode",-1.16487052358);function er(t,r){return Lt(t,["config","BigNumber"],(function(t){var n=t.config,e=t.BigNumber;return"BigNumber"===n.number?new e(r):r}))}var ir=n(272),or=n.n(ir),ar=Lt("Fraction",[],(function(){return or.a.prototype.type="Fraction",or.a.prototype.isFraction=!0,or.a.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},or.a.fromJSON=function(t){return new or.a(t)},or.a}),{isClass:!0}),sr=Lt("DenseMatrix",["Matrix"],(function(t){var r=t.Matrix;function n(data,t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!v(t))throw new Error("Invalid datatype: "+t);if(y(data))"DenseMatrix"===data.type?(this._data=K(data._data),this._size=K(data._size),this._datatype=t||data._datatype):(this._data=data.toArray(),this._size=data.size(),this._datatype=t||data._datatype);else if(data&&m(data.data)&&m(data.size))this._data=data.data,this._size=data.size,It(this._data,this._size),this._datatype=t||data.datatype;else if(m(data))this._data=function t(data){for(var i=0,r=data.length;i<r;i++){var n=data[i];m(n)?data[i]=t(n):n&&!0===n.isMatrix&&(data[i]=t(n.valueOf()))}return data}(data),this._size=Rt(this._data),It(this._data,this._size),this._datatype=t;else{if(data)throw new TypeError("Unsupported type of data ("+$(data)+")");this._data=[],this._size=[0],this._datatype=t}}function e(t,r){if(!_(r))throw new TypeError("Invalid index");if(r.isScalar())return t.get(r.min());var e=r.size();if(e.length!==t._size.length)throw new Bt(e.length,t._size.length);for(var o=r.min(),c=r.max(),i=0,f=t._size.length;i<f;i++)Ft(o[i],t._size[i]),Ft(c[i],t._size[i]);return new n(function t(data,r,n,e){var o=e===n-1,c=r.dimension(e);return o?c.map((function(i){return Ft(i,data.length),data[i]})).valueOf():c.map((function(i){Ft(i,data.length);var o=data[i];return t(o,r,n,e+1)})).valueOf()}(t._data,r,e.length,0),t._datatype)}function o(t,r,n,e){if(!r||!0!==r.isIndex)throw new TypeError("Invalid index");var o,c=r.size(),f=r.isScalar();if(y(n)?(o=n.size(),n=n.valueOf()):o=Rt(n),f){if(0!==o.length)throw new TypeError("Scalar expected");t.set(r.min(),n,e)}else{if(c.length<t._size.length)throw new Bt(c.length,t._size.length,"<");if(o.length<c.length){for(var i=0,l=0;1===c[i]&&1===o[i];)i++;for(;1===c[i];)l++,i++;n=kt(n,c.length,l,o)}if(!nt(c,o))throw new Bt(c,o,">");h(t,r.max().map((function(i){return i+1})),e);var d=c.length;!function t(data,r,n,e,o){var c=o===e-1,f=r.dimension(o);c?f.forEach((function(t,r){Ft(t),data[t]=n[r[0]]})):f.forEach((function(c,f){Ft(c),t(data[c],r,n[f[0]],e,o+1)}))}(t._data,r,n,d,0)}return t}function l(t,r,n){if(0===r.length){for(var e=t._data;m(e);)e=e[0];return e}return t._size=r.slice(0),t._data=Tt(t._data,t._size,n),t}function h(t,r,n){for(var e=t._size.slice(0),o=!1;e.length<r.length;)e.push(0),o=!0;for(var i=0,c=r.length;i<c;i++)r[i]>e[i]&&(e[i]=r[i],o=!0);o&&l(t,e,n)}return n.prototype=new r,n.prototype.createDenseMatrix=function(data,t){return new n(data,t)},n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return Gt(this._data,$)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(data,t){return new n(data,t)},n.prototype.subset=function(t,r,n){switch(arguments.length){case 1:return e(this,t);case 2:case 3:return o(this,t,r,n);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(t){if(!m(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new Bt(t.length,this._size.length);for(var r=0;r<t.length;r++)Ft(t[r],this._size[r]);for(var data=this._data,i=0,n=t.length;i<n;i++){var e=t[i];Ft(e,data.length),data=data[e]}return data},n.prototype.set=function(t,r,n){if(!m(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new Bt(t.length,this._size.length,"<");var i,e,o;h(this,t.map((function(i){return i+1})),n);var data=this._data;for(i=0,e=t.length-1;i<e;i++)Ft(o=t[i],data.length),data=data[o];return Ft(o=t[t.length-1],data.length),data[o]=r,this},n.prototype.resize=function(t,r,n){if(!m(t))throw new TypeError("Array expected");return l(n?this.clone():this,t,r)},n.prototype.reshape=function(t,r){var n=r?this.clone():this;return n._data=qt(n._data,t),n._size=t.slice(0),n},n.prototype.clone=function(){return new n({data:K(this._data),size:K(this._size),datatype:this._datatype})},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(t){var r=this,data=function n(e,o){return m(e)?e.map((function(t,i){return n(t,o.concat(i))})):t(e,o,r)}(this._data,[]);return new n(data,void 0!==this._datatype?Gt(data,$):void 0)},n.prototype.forEach=function(t){var r=this;!function n(e,o){m(e)?e.forEach((function(t,i){n(t,o.concat(i))})):t(e,o,r)}(this._data,[])},n.prototype.toArray=function(){return K(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(t){return At(this._data,t)},n.prototype.toString=function(){return At(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(t){if(t){if(f(t)&&(t=t.toNumber()),!c(t)||!ut(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var r=t>0?t:0,e=t<0?-t:0,o=this._size[0],l=this._size[1],h=Math.min(o-e,l-r),data=[],i=0;i<h;i++)data[i]=this._data[i+e][i+r];return new n({data:data,size:[h],datatype:this._datatype})},n.diagonal=function(t,r,e,o){if(!m(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(s){if(f(s)&&(s=s.toNumber()),!c(s)||!ut(s)||s<1)throw new Error("Size values must be positive integers");return s})),e){if(f(e)&&(e=e.toNumber()),!c(e)||!ut(e))throw new TypeError("The parameter k must be an integer number")}else e=0;var l,h=e>0?e:0,d=e<0?-e:0,v=t[0],w=t[1],x=Math.min(v-d,w-h);if(m(r)){if(r.length!==x)throw new Error("Invalid value array length");l=function(i){return r[i]}}else if(y(r)){var M=r.size();if(1!==M.length||M[0]!==x)throw new Error("Invalid matrix length");l=function(i){return r.get([i])}}else l=function(){return r};o||(o=f(l(0))?l(0).mul(0):0);var data=[];if(t.length>0){data=Tt(data,t,o);for(var _=0;_<x;_++)data[_+d][_+h]=l(_)}return new n({data:data,size:[v,w]})},n.fromJSON=function(t){return new n(t)},n.prototype.swapRows=function(i,t){if(!(c(i)&&ut(i)&&c(t)&&ut(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Ft(i,this._size[0]),Ft(t,this._size[0]),n._swapRows(i,t,this._data),this},n._swapRows=function(i,t,data){var r=data[i];data[i]=data[t],data[t]=r},n}),{isClass:!0}),ur=n(273),cr=n.n(ur),fr=function(){return fr=cr.a.create,cr.a},lr=Lt("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],(function(t){var r=t.BigNumber,n=t.Complex,e=t.DenseMatrix,o=t.Fraction,$=fr();return $.types=[{name:"number",test:c},{name:"Complex",test:l},{name:"BigNumber",test:f},{name:"Fraction",test:h},{name:"Unit",test:d},{name:"string",test:v},{name:"Chain",test:Z},{name:"Array",test:m},{name:"Matrix",test:y},{name:"DenseMatrix",test:w},{name:"SparseMatrix",test:x},{name:"Range",test:M},{name:"Index",test:_},{name:"boolean",test:E},{name:"ResultSet",test:S},{name:"Help",test:N},{name:"function",test:D},{name:"Date",test:z},{name:"RegExp",test:O},{name:"null",test:A},{name:"undefined",test:B},{name:"AccessorNode",test:P},{name:"ArrayNode",test:R},{name:"AssignmentNode",test:I},{name:"BlockNode",test:F},{name:"ConditionalNode",test:T},{name:"ConstantNode",test:k},{name:"FunctionNode",test:G},{name:"FunctionAssignmentNode",test:j},{name:"IndexNode",test:L},{name:"Node",test:U},{name:"ObjectNode",test:Y},{name:"OperatorNode",test:X},{name:"ParenthesisNode",test:H},{name:"RangeNode",test:W},{name:"SymbolNode",test:V},{name:"Object",test:C}],$.conversions=[{from:"number",to:"BigNumber",convert:function(t){if(r||pr(t),t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+t+"). Use function bignumber(x) to convert to BigNumber.");return new r(t)}},{from:"number",to:"Complex",convert:function(t){return n||dr(t),new n(t,0)}},{from:"number",to:"string",convert:function(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function(t){return n||dr(t),new n(t.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(t){return n||dr(t),new n(t.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(t){o||vr(t);var r=new o(t);if(r.valueOf()!==t)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+t+"). Use function fraction(x) to convert to Fraction.");return r}},{from:"string",to:"number",convert:function(t){var r=Number(t);if(isNaN(r))throw new Error('Cannot convert "'+t+'" to a number');return r}},{from:"string",to:"BigNumber",convert:function(t){r||pr(t);try{return new r(t)}catch(r){throw new Error('Cannot convert "'+t+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(t){o||vr(t);try{return new o(t)}catch(r){throw new Error('Cannot convert "'+t+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(t){n||dr(t);try{return new n(t)}catch(r){throw new Error('Cannot convert "'+t+'" to Complex')}}},{from:"boolean",to:"number",convert:function(t){return+t}},{from:"boolean",to:"BigNumber",convert:function(t){return r||pr(t),new r(+t)}},{from:"boolean",to:"Fraction",convert:function(t){return o||vr(t),new o(+t)}},{from:"boolean",to:"string",convert:function(t){return String(t)}},{from:"Array",to:"Matrix",convert:function(t){return e||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new e(t)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}],$}));function pr(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function dr(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function vr(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}function gr(t,r,n){return t&&"function"==typeof t.map?t.map((function(t){return gr(t,r,n)})):r(t)}var mr="number";function yr(t){return t<0}function wr(t){return t>0}function xr(t){return 0===t}function Mr(t){return Number.isNaN(t)}yr.signature=mr,wr.signature=mr,xr.signature=mr,Mr.signature=mr;function _r(t,r,n){if(null==n)return t.eq(r);if(t.eq(r))return!0;if(t.isNaN()||r.isNaN())return!1;if(t.isFinite()&&r.isFinite()){var e=t.minus(r).abs();if(e.isZero())return!0;var o=t.constructor.max(t.abs(),r.abs());return e.lte(o.times(n))}return!1}var Er=Lt("equalScalar",["typed","config"],(function(t){var r=t.typed,n=t.config,e=r("equalScalar",{"boolean, boolean":function(t,r){return t===r},"number, number":function(t,r){return _t(t,r,n.epsilon)},"BigNumber, BigNumber":function(t,r){return t.eq(r)||_r(t,r,n.epsilon)},"Fraction, Fraction":function(t,r){return t.equals(r)},"Complex, Complex":function(t,r){return function(t,r,n){return _t(t.re,r.re,n)&&_t(t.im,r.im,n)}(t,r,n.epsilon)},"Unit, Unit":function(t,r){if(!t.equalBase(r))throw new Error("Cannot compare units with different base");return e(t.value,r.value)}});return e})),Sr=(Lt("equalScalar",["typed","config"],(function(t){var r=t.typed,n=t.config;return r("equalScalar",{"number, number":function(t,r){return _t(t,r,n.epsilon)}})})),Lt("number",["typed"],(function(t){var r=(0,t.typed)("number",{"":function(){return 0},number:function(t){return t},string:function(t){if("NaN"===t)return NaN;var r=Number(t);if(isNaN(r))throw new SyntaxError('String "'+t+'" is no valid number');return r},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:function(t){throw new Error("Second argument with valueless unit expected")},null:function(t){return 0},"Unit, string | Unit":function(t,r){return t.toNumber(r)},"Array | Matrix":function(t){return gr(t,r)}});return r}))),Nr="number, number";function Dr(a){return Math.abs(a)}function zr(a,b){return a+b}function Or(a,b){return a*b}function Cr(t){return-t}function Ar(t){return t}function Br(t){return pt(t)}function Pr(t){return Math.ceil(t)}function Rr(t){return t*t*t}function Ir(t){return Math.exp(t)}function Fr(t){return ht(t)}function Tr(a,b){if(!ut(a)||!ut(b))throw new Error("Parameters in function gcd must be integer numbers");for(var t;0!==b;)t=a%b,a=b,b=t;return a<0?-a:a}function qr(a,b){if(!ut(a)||!ut(b))throw new Error("Parameters in function lcm must be integer numbers");if(0===a||0===b)return 0;for(var t,r=a*b;0!==b;)b=a%(t=b),a=t;return Math.abs(r/a)}function kr(t){return Math.log(t)}function jr(t){return lt(t)}function Gr(t){return ft(t)}function Lr(t,r){if(r>0)return t-r*Math.floor(t/r);if(0===r)return t;throw new Error("Cannot calculate mod for a negative divisor")}function Ur(a,t){var r=t<0;if(r&&(t=-t),0===t)throw new Error("Root must be non-zero");if(a<0&&Math.abs(t)%2!=1)throw new Error("Root must be odd when a is negative.");if(0===a)return r?1/0:0;if(!isFinite(a))return r?0:a;var n=Math.pow(Math.abs(a),1/t);return n=a<0?-n:n,r?1/n:n}function Yr(t){return ct(t)}function Xr(t){return t*t}function Hr(a,b){var t,q,r,n=0,e=1,o=1,c=0;if(!ut(a)||!ut(b))throw new Error("Parameters in function xgcd must be integer numbers");for(;b;)r=a-(q=Math.floor(a/b))*b,t=n,n=e-q*n,e=t,t=o,o=c-q*o,c=t,a=b,b=r;return a<0?[-a,-e,-c]:[a,a?e:0,c]}function Wr(t,r){return t*t<1&&r===1/0||t*t>1&&r===-1/0?0:Math.pow(t,r)}function Vr(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(mt(t,r))}Dr.signature="number",zr.signature=Nr,Or.signature=Nr,Cr.signature="number",Ar.signature="number",Br.signature="number",Pr.signature="number",Rr.signature="number",Ir.signature="number",Fr.signature="number",Tr.signature=Nr,qr.signature=Nr,kr.signature="number",jr.signature="number",Gr.signature="number",Lr.signature=Nr,Ur.signature=Nr,Yr.signature="number",Xr.signature="number",Hr.signature=Nr,Wr.signature=Nr,Vr.signature=Nr;var Zr=Lt("multiplyScalar",["typed"],(function(t){var r=(0,t.typed)("multiplyScalar",{"number, number":Or,"Complex, Complex":function(t,r){return t.mul(r)},"BigNumber, BigNumber":function(t,r){return t.times(r)},"Fraction, Fraction":function(t,r){return t.mul(r)},"number | Fraction | BigNumber | Complex, Unit":function(t,n){var e=n.clone();return e.value=null===e.value?e._normalize(t):r(e.value,t),e},"Unit, number | Fraction | BigNumber | Complex":function(t,n){var e=t.clone();return e.value=null===e.value?e._normalize(n):r(e.value,n),e},"Unit, Unit":function(t,r){return t.multiply(r)}});return r}));var $r="number, number";function Jr(t,r){if(!ut(t)||!ut(r))throw new Error("Integers expected in function bitAnd");return t&r}function Kr(t){if(!ut(t))throw new Error("Integer expected in function bitNot");return~t}function Qr(t,r){if(!ut(t)||!ut(r))throw new Error("Integers expected in function bitOr");return t|r}function tn(t,r){if(!ut(t)||!ut(r))throw new Error("Integers expected in function bitXor");return t^r}function rn(t,r){if(!ut(t)||!ut(r))throw new Error("Integers expected in function leftShift");return t<<r}function nn(t,r){if(!ut(t)||!ut(r))throw new Error("Integers expected in function rightArithShift");return t>>r}function en(t,r){if(!ut(t)||!ut(r))throw new Error("Integers expected in function rightLogShift");return t>>>r}Jr.signature=$r,Kr.signature="number",Qr.signature=$r,tn.signature=$r,rn.signature=$r,nn.signature=$r,en.signature=$r;function on(t){return!t}function an(t,r){return!(!t&&!r)}function sn(t,r){return!!t!=!!r}function un(t,r){return!(!t||!r)}on.signature="number",an.signature="number, number",sn.signature="number, number",un.signature="number, number";Math.pow(2,53);function cn(t){return Et(t)}function fn(t){return Math.atan(1/t)}function ln(t){return isFinite(t)?(Math.log((t+1)/t)+Math.log(t/(t-1)))/2:0}function pn(t){return Math.asin(1/t)}function hn(t){var r=1/t;return Math.log(r+Math.sqrt(r*r+1))}function dn(t){return Math.acos(1/t)}function vn(t){var r=1/t,n=Math.sqrt(r*r-1);return Math.log(n+r)}function gn(t){return St(t)}function mn(t){return Nt(t)}function yn(t){return 1/Math.tan(t)}function wn(t){var r=Math.exp(2*t);return(r+1)/(r-1)}function bn(t){return 1/Math.sin(t)}function xn(t){return 0===t?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*ct(t)}function Mn(t){return 1/Math.cos(t)}function _n(t){return 2/(Math.exp(t)+Math.exp(-t))}function En(t){return Dt(t)}cn.signature="number",fn.signature="number",ln.signature="number",pn.signature="number",hn.signature="number",dn.signature="number",vn.signature="number",gn.signature="number",mn.signature="number",yn.signature="number",wn.signature="number",bn.signature="number",xn.signature="number",Mn.signature="number",_n.signature="number",En.signature="number";function Sn(i,t){if(t<i)return 1;if(t===i)return t;var r=t+i>>1;return Sn(i,r)*Sn(r+1,t)}function Nn(t,r){if(!ut(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!ut(r)||r<0)throw new TypeError("Positive integer value expected in function combinations");if(r>t)throw new TypeError("k must be less than or equal to n");var n=t-r;return r<n?Sn(n+1,t)/Sn(1,r):Sn(r+1,t)/Sn(1,n)}Nn.signature="number, number";n(274);Dn={};var Dn,zn=Lt("fraction",["typed","Fraction"],(function(t){var r=t.typed,n=t.Fraction,e=r("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new n(t)},string:function(t){return new n(t)},"number, number":function(t,r){return new n(t,r)},null:function(t){return new n(0)},BigNumber:function(t){return new n(t.toString())},Fraction:function(t){return t},Object:function(t){return new n(t)},"Array | Matrix":function(t){return gr(t,e)}});return e})),On=Lt("unaryMinus",["typed"],(function(t){var r=(0,t.typed)("unaryMinus",{number:Cr,Complex:function(t){return t.neg()},BigNumber:function(t){return t.neg()},Fraction:function(t){return t.neg()},Unit:function(t){var n=t.clone();return n.value=r(t.value),n},"Array | Matrix":function(t){return gr(t,r,!0)}});return r})),Cn=Lt("addScalar",["typed"],(function(t){var r=(0,t.typed)("addScalar",{"number, number":zr,"Complex, Complex":function(t,r){return t.add(r)},"BigNumber, BigNumber":function(t,r){return t.plus(r)},"Fraction, Fraction":function(t,r){return t.add(r)},"Unit, Unit":function(t,n){if(null===t.value||void 0===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===n.value||void 0===n.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(n))throw new Error("Units do not match");var e=t.clone();return e.value=r(e.value,n.value),e.fixPrefix=!1,e}});return r})),An=Lt("sqrt",["config","typed","Complex"],(function(t){var r=t.config,n=t.typed,e=t.Complex,o=n("sqrt",{number:c,Complex:function(t){return t.sqrt()},BigNumber:function(t){return!t.isNegative()||r.predictable?t.sqrt():c(t.toNumber())},"Array | Matrix":function(t){return gr(t,o,!0)},Unit:function(t){return t.pow(.5)}});function c(t){return isNaN(t)?NaN:t>=0||r.predictable?Math.sqrt(t):new e(t,0).sqrt()}return o})),Bn=Lt("conj",["typed"],(function(t){var r=(0,t.typed)("conj",{number:function(t){return t},BigNumber:function(t){return t},Complex:function(t){return t.conjugate()},"Array | Matrix":function(t){return gr(t,r)}});return r}));var Pn=Lt("SparseMatrix",["typed","equalScalar","Matrix"],(function(t){var r=t.typed,n=t.equalScalar,e=t.Matrix;function o(data,t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!v(t))throw new Error("Invalid datatype: "+t);if(y(data))!function(t,source,r){"SparseMatrix"===source.type?(t._values=source._values?K(source._values):void 0,t._index=K(source._index),t._ptr=K(source._ptr),t._size=K(source._size),t._datatype=r||source._datatype):l(t,source.valueOf(),r||source._datatype)}(this,data,t);else if(data&&m(data.index)&&m(data.ptr)&&m(data.size))this._values=data.values,this._index=data.index,this._ptr=data.ptr,this._size=data.size,this._datatype=t||data.datatype;else if(m(data))l(this,data,t);else{if(data)throw new TypeError("Unsupported type of data ("+$(data)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=t}}function l(t,data,e){t._values=[],t._index=[],t._ptr=[],t._datatype=e;var o=data.length,c=0,f=n,l=0;if(v(e)&&(f=r.find(n,[e,e])||n,l=r.convert(0,e)),o>0){var h=0;do{t._ptr.push(t._index.length);for(var i=0;i<o;i++){var d=data[i];if(m(d)){if(0===h&&c<d.length&&(c=d.length),h<d.length){var y=d[h];f(y,l)||(t._values.push(y),t._index.push(i))}}else 0===h&&c<1&&(c=1),f(d,l)||(t._values.push(d),t._index.push(i))}h++}while(h<c)}t._ptr.push(t._index.length),t._size=[o,c]}function h(t,r){if(!_(r))throw new TypeError("Invalid index");if(r.isScalar())return t.get(r.min());var i,n,e,c,f=r.size();if(f.length!==t._size.length)throw new Bt(f.length,t._size.length);var l=r.min(),h=r.max();for(i=0,n=t._size.length;i<n;i++)Ft(l[i],t._size[i]),Ft(h[i],t._size[i]);var d=t._values,v=t._index,m=t._ptr,y=r.dimension(0),w=r.dimension(1),x=[],M=[];y.forEach((function(i,t){M[i]=t[0],x[i]=!0}));var E=d?[]:void 0,S=[],N=[];return w.forEach((function(t){for(N.push(S.length),e=m[t],c=m[t+1];e<c;e++)i=v[e],!0===x[i]&&(S.push(M[i]),E&&E.push(d[e]))})),N.push(S.length),new o({values:E,index:S,ptr:N,size:f,datatype:t._datatype})}function d(t,r,n,e){if(!r||!0!==r.isIndex)throw new TypeError("Invalid index");var o,c=r.size(),f=r.isScalar();if(y(n)?(o=n.size(),n=n.toArray()):o=Rt(n),f){if(0!==o.length)throw new TypeError("Scalar expected");t.set(r.min(),n,e)}else{if(1!==c.length&&2!==c.length)throw new Bt(c.length,t._size.length,"<");if(o.length<c.length){for(var i=0,l=0;1===c[i]&&1===o[i];)i++;for(;1===c[i];)l++,i++;n=kt(n,c.length,l,o)}if(!nt(c,o))throw new Bt(c,o,">");for(var h=r.min()[0],d=r.min()[1],v=o[0],m=o[1],w=0;w<v;w++)for(var x=0;x<m;x++){var M=n[w][x];t.set([w+h,x+d],M,e)}}return t}function w(i,t,r,n){if(r-t==0)return r;for(var e=t;e<r;e++)if(n[e]===i)return e;return t}function x(t,i,r,n,e,o,c){e.splice(t,0,n),o.splice(t,0,i);for(var f=r+1;f<c.length;f++)c[f]++}function M(t,e,o,c){var f=c||0,l=n,h=0;v(t._datatype)&&(l=r.find(n,[t._datatype,t._datatype])||n,h=r.convert(0,t._datatype),f=r.convert(f,t._datatype));var i,d,m,ins=!l(f,h),y=t._size[0],w=t._size[1];if(o>w){for(d=w;d<o;d++)if(t._ptr[d]=t._values.length,ins)for(i=0;i<y;i++)t._values.push(f),t._index.push(i);t._ptr[o]=t._values.length}else o<w&&(t._ptr.splice(o+1,w-o),t._values.splice(t._ptr[o],t._values.length),t._index.splice(t._ptr[o],t._index.length));if(w=o,e>y){if(ins){var x=0;for(d=0;d<w;d++){t._ptr[d]=t._ptr[d]+x,m=t._ptr[d+1]+x;var p=0;for(i=y;i<e;i++,p++)t._values.splice(m+p,0,f),t._index.splice(m+p,0,i),x++}t._ptr[w]=t._values.length}}else if(e<y){var M=0;for(d=0;d<w;d++){t._ptr[d]=t._ptr[d]-M;var _=t._ptr[d],E=t._ptr[d+1]-M;for(m=_;m<E;m++)(i=t._index[m])>e-1&&(t._values.splice(m,1),t._index.splice(m,1),M++)}t._ptr[d]=t._values.length}return t._size[0]=e,t._size[1]=o,t}function E(t,r,n,e,o){var i,c,f=e[0],l=e[1],a=[];for(i=0;i<f;i++)for(a[i]=[],c=0;c<l;c++)a[i][c]=0;for(c=0;c<l;c++)for(var h=n[c],d=n[c+1],v=h;v<d;v++)a[i=r[v]][c]=t?o?K(t[v]):t[v]:1;return a}return o.prototype=new e,o.prototype.createSparseMatrix=function(data,t){return new o(data,t)},o.prototype.type="SparseMatrix",o.prototype.isSparseMatrix=!0,o.prototype.getDataType=function(){return Gt(this._values,$)},o.prototype.storage=function(){return"sparse"},o.prototype.datatype=function(){return this._datatype},o.prototype.create=function(data,t){return new o(data,t)},o.prototype.density=function(){var t=this._size[0],r=this._size[1];return 0!==t&&0!==r?this._index.length/(t*r):0},o.prototype.subset=function(t,r,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return h(this,t);case 2:case 3:return d(this,t,r,n);default:throw new SyntaxError("Wrong number of arguments")}},o.prototype.get=function(t){if(!m(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new Bt(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var i=t[0],r=t[1];Ft(i,this._size[0]),Ft(r,this._size[1]);var n=w(i,this._ptr[r],this._ptr[r+1],this._index);return n<this._ptr[r+1]&&this._index[n]===i?this._values[n]:0},o.prototype.set=function(t,e,o){if(!m(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new Bt(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var i=t[0],c=t[1],f=this._size[0],l=this._size[1],h=n,d=0;v(this._datatype)&&(h=r.find(n,[this._datatype,this._datatype])||n,d=r.convert(0,this._datatype)),(i>f-1||c>l-1)&&(M(this,Math.max(i+1,f),Math.max(c+1,l),o),f=this._size[0],l=this._size[1]),Ft(i,f),Ft(c,l);var y=w(i,this._ptr[c],this._ptr[c+1],this._index);return y<this._ptr[c+1]&&this._index[y]===i?h(e,d)?function(t,r,n,e,o){n.splice(t,1),e.splice(t,1);for(var c=r+1;c<o.length;c++)o[c]--}(y,c,this._values,this._index,this._ptr):this._values[y]=e:x(y,i,c,e,this._values,this._index,this._ptr),this},o.prototype.resize=function(t,r,n){if(!m(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");return t.forEach((function(r){if(!c(r)||!ut(r)||r<0)throw new TypeError("Invalid size, must contain positive integers (size: "+At(t)+")")})),M(n?this.clone():this,t[0],t[1],r)},o.prototype.reshape=function(t,r){if(!m(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(t.forEach((function(r){if(!c(r)||!ut(r)||r<0)throw new TypeError("Invalid size, must contain positive integers (size: "+At(t)+")")})),this._size[0]*this._size[1]!=t[0]*t[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var n=r?this.clone():this;if(this._size[0]===t[0]&&this._size[1]===t[1])return n;for(var e=[],i=0;i<n._ptr.length;i++)for(var o=0;o<n._ptr[i+1]-n._ptr[i];o++)e.push(i);for(var f=n._values.slice(),l=n._index.slice(),h=0;h<n._index.length;h++){var d=l[h],v=e[h],y=d*n._size[1]+v;e[h]=y%t[1],l[h]=Math.floor(y/t[1])}n._values.length=0,n._index.length=0,n._ptr.length=t[1]+1,n._size=t.slice();for(var M=0;M<n._ptr.length;M++)n._ptr[M]=0;for(var _=0;_<f.length;_++){var E=l[_],S=e[_],N=f[_];x(w(E,n._ptr[S],n._ptr[S+1],n._index),E,S,N,n._values,n._index,n._ptr)}return n},o.prototype.clone=function(){return new o({values:this._values?K(this._values):void 0,index:K(this._index),ptr:K(this._ptr),size:K(this._size),datatype:this._datatype})},o.prototype.size=function(){return this._size.slice(0)},o.prototype.map=function(t,e){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var c=this;return function(t,e,c,f,l,h,d){var m=[],y=[],w=[],x=n,M=0;v(t._datatype)&&(x=r.find(n,[t._datatype,t._datatype])||n,M=r.convert(0,t._datatype));for(var _=function(t,r,n){t=h(t,r,n),x(t,M)||(m.push(t),y.push(r))},E=f;E<=l;E++){w.push(m.length);var S=t._ptr[E],N=t._ptr[E+1];if(d)for(var D=S;D<N;D++){var i=t._index[D];i>=e&&i<=c&&_(t._values[D],i-e,E-f)}else{for(var z={},O=S;O<N;O++){var C=t._index[O];z[C]=t._values[O]}for(var A=e;A<=c;A++){var B=A in z?z[A]:0;_(B,A-e,E-f)}}}return w.push(m.length),new o({values:m,index:y,ptr:w,size:[c-e+1,l-f+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,(function(r,i,n){return t(r,[i,n],c)}),e)},o.prototype.forEach=function(t,r){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this._size[0],e=this._size[1],o=0;o<e;o++){var c=this._ptr[o],f=this._ptr[o+1];if(r)for(var l=c;l<f;l++){var i=this._index[l];t(this._values[l],[i,o],this)}else{for(var h={},d=c;d<f;d++){h[this._index[d]]=this._values[d]}for(var v=0;v<n;v++){t(v in h?h[v]:0,[v,o],this)}}}},o.prototype.toArray=function(){return E(this._values,this._index,this._ptr,this._size,!0)},o.prototype.valueOf=function(){return E(this._values,this._index,this._ptr,this._size,!1)},o.prototype.format=function(t){for(var r=this._size[0],n=this._size[1],e=this.density(),o="Sparse Matrix ["+At(r,t)+" x "+At(n,t)+"] density: "+At(e,t)+"\n",c=0;c<n;c++)for(var f=this._ptr[c],l=this._ptr[c+1],h=f;h<l;h++){o+="\n    ("+At(this._index[h],t)+", "+At(c,t)+") ==> "+(this._values?At(this._values[h],t):"X")}return o},o.prototype.toString=function(){return At(this.toArray())},o.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},o.prototype.diagonal=function(t){if(t){if(f(t)&&(t=t.toNumber()),!c(t)||!ut(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var r=t>0?t:0,n=t<0?-t:0,e=this._size[0],l=this._size[1],h=Math.min(e-n,l-r),d=[],v=[],m=[];m[0]=0;for(var y=r;y<l&&d.length<h;y++)for(var w=this._ptr[y],x=this._ptr[y+1],M=w;M<x;M++){var i=this._index[M];if(i===y-r+n){d.push(this._values[M]),v[d.length-1]=i-n;break}}return m.push(d.length),new o({values:d,index:v,ptr:m,size:[h,1]})},o.fromJSON=function(t){return new o(t)},o.diagonal=function(t,e,l,h,d){if(!m(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(s){if(f(s)&&(s=s.toNumber()),!c(s)||!ut(s)||s<1)throw new Error("Size values must be positive integers");return s})),l){if(f(l)&&(l=l.toNumber()),!c(l)||!ut(l))throw new TypeError("The parameter k must be an integer number")}else l=0;var w=n,x=0;v(d)&&(w=r.find(n,[d,d])||n,x=r.convert(0,d));var M,_=l>0?l:0,E=l<0?-l:0,S=t[0],N=t[1],D=Math.min(S-E,N-_);if(m(e)){if(e.length!==D)throw new Error("Invalid value array length");M=function(i){return e[i]}}else if(y(e)){var z=e.size();if(1!==z.length||z[0]!==D)throw new Error("Invalid matrix length");M=function(i){return e.get([i])}}else M=function(){return e};for(var O=[],C=[],A=[],B=0;B<N;B++){A.push(O.length);var i=B-_;if(i>=0&&i<D){var P=M(i);w(P,x)||(C.push(i+E),O.push(P))}}return A.push(O.length),new o({values:O,index:C,ptr:A,size:[S,N]})},o.prototype.swapRows=function(i,t){if(!(c(i)&&ut(i)&&c(t)&&ut(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Ft(i,this._size[0]),Ft(t,this._size[0]),o._swapRows(i,t,this._size[1],this._values,this._index,this._ptr),this},o._forEachRow=function(t,r,n,e,o){for(var c=e[t],f=e[t+1],l=c;l<f;l++)o(n[l],r[l])},o._swapRows=function(t,r,n,e,o,c){for(var f=0;f<n;f++){var l=c[f],h=c[f+1],d=w(t,l,h,o),v=w(r,l,h,o);if(d<h&&v<h&&o[d]===t&&o[v]===r){if(e){var m=e[d];e[d]=e[v],e[v]=m}}else if(d<h&&o[d]===t&&(v>=h||o[v]!==r)){var y=e?e[d]:void 0;o.splice(v,0,r),e&&e.splice(v,0,y),o.splice(v<=d?d+1:d,1),e&&e.splice(v<=d?d+1:d,1)}else if(v<h&&o[v]===r&&(d>=h||o[d]!==t)){var x=e?e[v]:void 0;o.splice(d,0,t),e&&e.splice(d,0,x),o.splice(d<=v?v+1:v,1),e&&e.splice(d<=v?v+1:v,1)}}},o}),{isClass:!0}),Rn=Lt("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],(function(t){var r=t.typed,n=(t.Matrix,t.DenseMatrix),e=t.SparseMatrix;return r("matrix",{"":function(){return o([])},string:function(t){return o([],t)},"string, string":function(t,r){return o([],t,r)},Array:function(data){return o(data)},Matrix:function(data){return o(data,data.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(data,t,r){if("dense"===t||"default"===t||void 0===t)return new n(data,r);if("sparse"===t)return new e(data,r);throw new TypeError("Unknown matrix type "+JSON.stringify(t)+".")}})),In=Lt("algorithm01",["typed"],(function(t){var r=t.typed;return function(t,n,e,o){var c=t._data,f=t._size,l=t._datatype,h=n._values,d=n._index,v=n._ptr,m=n._size,y=n._datatype;if(f.length!==m.length)throw new Bt(f.length,m.length);if(f[0]!==m[0]||f[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+m+")");if(!h)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var i,w,x=f[0],M=f[1],dt="string"==typeof l&&l===y?l:void 0,_=dt?r.find(e,[dt,dt]):e,E=[];for(i=0;i<x;i++)E[i]=[];var S=[],N=[];for(w=0;w<M;w++){for(var mark=w+1,D=v[w],z=v[w+1],O=D;O<z;O++)S[i=d[O]]=o?_(h[O],c[i][w]):_(c[i][w],h[O]),N[i]=mark;for(i=0;i<x;i++)N[i]===mark?E[i][w]=S[i]:E[i][w]=c[i][w]}return t.createDenseMatrix({data:E,size:[x,M],datatype:dt})}})),Fn=Lt("algorithm04",["typed","equalScalar"],(function(t){var r=t.typed,n=t.equalScalar;return function(a,b,t){var e=a._values,o=a._index,c=a._ptr,f=a._size,l=a._datatype,h=b._values,d=b._index,v=b._ptr,m=b._size,y=b._datatype;if(f.length!==m.length)throw new Bt(f.length,m.length);if(f[0]!==m[0]||f[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+m+")");var dt,w=f[0],x=f[1],M=n,_=0,E=t;"string"==typeof l&&l===y&&(dt=l,M=r.find(n,[dt,dt]),_=r.convert(0,dt),E=r.find(t,[dt,dt]));var i,S,N,D,z,O=e&&h?[]:void 0,C=[],A=[],B=e&&h?[]:void 0,P=e&&h?[]:void 0,R=[],I=[];for(S=0;S<x;S++){A[S]=C.length;var mark=S+1;for(D=c[S],z=c[S+1],N=D;N<z;N++)i=o[N],C.push(i),R[i]=mark,B&&(B[i]=e[N]);for(D=v[S],z=v[S+1],N=D;N<z;N++)if(R[i=d[N]]===mark){if(B){var F=E(B[i],h[N]);M(F,_)?R[i]=null:B[i]=F}}else C.push(i),I[i]=mark,P&&(P[i]=h[N]);if(B&&P)for(N=A[S];N<C.length;)R[i=C[N]]===mark?(O[N]=B[i],N++):I[i]===mark?(O[N]=P[i],N++):C.splice(N,1)}return A[x]=C.length,a.createSparseMatrix({values:O,index:C,ptr:A,size:[w,x],datatype:dt})}})),Tn=Lt("algorithm10",["typed","DenseMatrix"],(function(t){var r=t.typed,n=t.DenseMatrix;return function(s,b,t,e){var o=s._values,c=s._index,f=s._ptr,l=s._size,h=s._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var dt,d=l[0],v=l[1],m=t;"string"==typeof h&&(dt=h,b=r.convert(b,dt),m=r.find(t,[dt,dt]));for(var y=[],w=[],x=[],M=0;M<v;M++){for(var mark=M+1,_=f[M],E=f[M+1],S=_;S<E;S++){var N=c[S];w[N]=o[S],x[N]=mark}for(var i=0;i<d;i++)0===M&&(y[i]=[]),x[i]===mark?y[i][M]=e?m(b,w[i]):m(w[i],b):y[i][M]=b}return new n({data:y,size:[d,v],datatype:dt})}})),qn=Lt("algorithm13",["typed"],(function(t){var r=t.typed;return function(a,b,t){var dt,n=a._data,e=a._size,o=a._datatype,c=b._data,f=b._size,l=b._datatype,h=[];if(e.length!==f.length)throw new Bt(e.length,f.length);for(var s=0;s<e.length;s++){if(e[s]!==f[s])throw new RangeError("Dimension mismatch. Matrix A ("+e+") must match Matrix B ("+f+")");h[s]=e[s]}var d=t;"string"==typeof o&&o===l&&(dt=o,d=r.find(t,[dt,dt]));var v=h.length>0?function t(r,n,s,e,o,c){var f=[];if(n===s.length-1)for(var i=0;i<e;i++)f[i]=r(o[i],c[i]);else for(var l=0;l<e;l++)f[l]=t(r,n+1,s,s[n+1],o[l],c[l]);return f}(d,0,h,h[0],n,c):[];return a.createDenseMatrix({data:v,size:h,datatype:dt})}})),kn=Lt("algorithm14",["typed"],(function(t){var r=t.typed;return function(a,b,t,n){var dt,e=a._data,o=a._size,c=a._datatype,f=t;"string"==typeof c&&(dt=c,b=r.convert(b,dt),f=r.find(t,[dt,dt]));var l=o.length>0?function t(r,n,s,e,o,c,f){var l=[];if(n===s.length-1)for(var i=0;i<e;i++)l[i]=f?r(c,o[i]):r(o[i],c);else for(var h=0;h<e;h++)l[h]=t(r,n+1,s,s[n+1],o[h],c,f);return l}(f,0,o,o[0],e,b,n):[];return a.createDenseMatrix({data:l,size:K(o),datatype:dt})}})),jn=Lt("algorithm03",["typed"],(function(t){var r=t.typed;return function(t,n,e,o){var c=t._data,f=t._size,l=t._datatype,h=n._values,d=n._index,v=n._ptr,m=n._size,y=n._datatype;if(f.length!==m.length)throw new Bt(f.length,m.length);if(f[0]!==m[0]||f[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+m+")");if(!h)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var dt,w=f[0],x=f[1],M=0,_=e;"string"==typeof l&&l===y&&(dt=l,M=r.convert(0,dt),_=r.find(e,[dt,dt]));for(var E=[],S=0;S<w;S++)E[S]=[];for(var N=[],D=[],z=0;z<x;z++){for(var mark=z+1,O=v[z],C=v[z+1],A=O;A<C;A++){var i=d[A];N[i]=o?_(h[A],c[i][z]):_(c[i][z],h[A]),D[i]=mark}for(var B=0;B<w;B++)D[B]===mark?E[B][z]=N[B]:E[B][z]=o?_(M,c[B][z]):_(c[B][z],M)}return t.createDenseMatrix({data:E,size:[w,x],datatype:dt})}})),Gn=Lt("algorithm05",["typed","equalScalar"],(function(t){var r=t.typed,n=t.equalScalar;return function(a,b,t){var e=a._values,o=a._index,c=a._ptr,f=a._size,l=a._datatype,h=b._values,d=b._index,v=b._ptr,m=b._size,y=b._datatype;if(f.length!==m.length)throw new Bt(f.length,m.length);if(f[0]!==m[0]||f[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+m+")");var dt,w=f[0],x=f[1],M=n,_=0,E=t;"string"==typeof l&&l===y&&(dt=l,M=r.find(n,[dt,dt]),_=r.convert(0,dt),E=r.find(t,[dt,dt]));var i,S,N,D,z=e&&h?[]:void 0,O=[],C=[],A=z?[]:void 0,B=z?[]:void 0,P=[],R=[];for(S=0;S<x;S++){C[S]=O.length;var mark=S+1;for(N=c[S],D=c[S+1];N<D;N++)i=o[N],O.push(i),P[i]=mark,A&&(A[i]=e[N]);for(N=v[S],D=v[S+1];N<D;N++)P[i=d[N]]!==mark&&O.push(i),R[i]=mark,B&&(B[i]=h[N]);if(z)for(N=C[S];N<O.length;){var I=P[i=O[N]],F=R[i];if(I===mark||F===mark){var T=E(I===mark?A[i]:_,F===mark?B[i]:_);M(T,_)?O.splice(N,1):(z.push(T),N++)}}}return C[x]=O.length,a.createSparseMatrix({values:z,index:O,ptr:C,size:[w,x],datatype:dt})}})),Ln=Lt("algorithm11",["typed","equalScalar"],(function(t){var r=t.typed,n=t.equalScalar;return function(s,b,t,e){var o=s._values,c=s._index,f=s._ptr,l=s._size,h=s._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var dt,d=l[0],v=l[1],m=n,y=0,w=t;"string"==typeof h&&(dt=h,m=r.find(n,[dt,dt]),y=r.convert(0,dt),b=r.convert(b,dt),w=r.find(t,[dt,dt]));for(var x=[],M=[],_=[],E=0;E<v;E++){_[E]=M.length;for(var S=f[E],N=f[E+1],D=S;D<N;D++){var i=c[D],z=e?w(b,o[D]):w(o[D],b);m(z,y)||(M.push(i),x.push(z))}}return _[v]=M.length,s.createSparseMatrix({values:x,index:M,ptr:_,size:[d,v],datatype:dt})}})),Un=Lt("algorithm12",["typed","DenseMatrix"],(function(t){var r=t.typed,n=t.DenseMatrix;return function(s,b,t,e){var o=s._values,c=s._index,f=s._ptr,l=s._size,h=s._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var dt,d=l[0],v=l[1],m=t;"string"==typeof h&&(dt=h,b=r.convert(b,dt),m=r.find(t,[dt,dt]));for(var y=[],w=[],x=[],M=0;M<v;M++){for(var mark=M+1,_=f[M],E=f[M+1],S=_;S<E;S++){var N=c[S];w[N]=o[S],x[N]=mark}for(var i=0;i<d;i++)0===M&&(y[i]=[]),x[i]===mark?y[i][M]=e?m(b,w[i]):m(w[i],b):y[i][M]=e?m(b,0):m(0,b)}return new n({data:y,size:[d,v],datatype:dt})}})),Yn=Lt("algorithm07",["typed","DenseMatrix"],(function(t){var r=t.typed,n=t.DenseMatrix;return function(a,b,t){var o=a._size,c=a._datatype,f=b._size,l=b._datatype;if(o.length!==f.length)throw new Bt(o.length,f.length);if(o[0]!==f[0]||o[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+f+")");var dt,i,h,d=o[0],v=o[1],m=0,y=t;"string"==typeof c&&c===l&&(dt=c,m=r.convert(0,dt),y=r.find(t,[dt,dt]));var w=[];for(i=0;i<d;i++)w[i]=[];var x=[],M=[],_=[],E=[];for(h=0;h<v;h++){var mark=h+1;for(e(a,h,_,x,mark),e(b,h,E,M,mark),i=0;i<d;i++){var S=_[i]===mark?x[i]:m,N=E[i]===mark?M[i]:m;w[i][h]=y(S,N)}}return new n({data:w,size:[d,v],datatype:dt})};function e(t,r,n,e,mark){for(var o=t._values,c=t._index,f=t._ptr,l=f[r],h=f[r+1];l<h;l++){var i=c[l];n[i]=mark,e[i]=o[l]}}}));var Xn=Lt("identity",["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],(function(t){var r=t.typed,n=t.config,e=t.matrix,o=t.BigNumber,c=t.DenseMatrix,l=t.SparseMatrix;return r("identity",{"":function(){return"Matrix"===n.matrix?e([]):[]},string:function(t){return e(t)},"number | BigNumber":function(t){return d(t,t,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber, string":function(t,r){return d(t,t,r)},"number | BigNumber, number | BigNumber":function(t,r){return d(t,r,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(t,r,n){return d(t,r,n)},Array:function(t){return h(t)},"Array, string":function(t,r){return h(t,r)},Matrix:function(t){return h(t.valueOf(),t.storage())},"Matrix, string":function(t,r){return h(t.valueOf(),r)}});function h(t,r){switch(t.length){case 0:return r?e(r):[];case 1:return d(t[0],t[0],r);case 2:return d(t[0],t[1],r);default:throw new Error("Vector containing two values expected")}}function d(t,r,n){var e=f(t)||f(r)?o:null;if(f(t)&&(t=t.toNumber()),f(r)&&(r=r.toNumber()),!ut(t)||t<1)throw new Error("Parameters in function identity must be positive integers");if(!ut(r)||r<1)throw new Error("Parameters in function identity must be positive integers");var h=e?new o(1):1,d=e?new e(0):0,v=[t,r];if(n){if("sparse"===n)return l.diagonal(v,h,0,d);if("dense"===n)return c.diagonal(v,h,0,d);throw new TypeError('Unknown matrix type "'.concat(n,'"'))}for(var m=Tt([],v,d),y=t<r?t:r,w=0;w<y;w++)m[w][w]=h;return m}}));function Hn(){throw new Error('No "bignumber" implementation available')}function Wn(){throw new Error('No "fraction" implementation available')}var Vn=Lt("smaller",["typed","config","matrix","DenseMatrix"],(function(t){var r=t.typed,n=t.config,e=t.matrix,o=t.DenseMatrix,c=jn({typed:r}),f=Yn({typed:r,DenseMatrix:o}),l=Un({typed:r,DenseMatrix:o}),h=qn({typed:r}),d=kn({typed:r}),v=r("smaller",{"boolean, boolean":function(t,r){return t<r},"number, number":function(t,r){return t<r&&!_t(t,r,n.epsilon)},"BigNumber, BigNumber":function(t,r){return t.lt(r)&&!_r(t,r,n.epsilon)},"Fraction, Fraction":function(t,r){return-1===t.compare(r)},"Complex, Complex":function(t,r){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,r){if(!t.equalBase(r))throw new Error("Cannot compare units with different base");return v(t.value,r.value)},"SparseMatrix, SparseMatrix":function(t,r){return f(t,r,v)},"SparseMatrix, DenseMatrix":function(t,r){return c(r,t,v,!0)},"DenseMatrix, SparseMatrix":function(t,r){return c(t,r,v,!1)},"DenseMatrix, DenseMatrix":function(t,r){return h(t,r,v)},"Array, Array":function(t,r){return v(e(t),e(r)).valueOf()},"Array, Matrix":function(t,r){return v(e(t),r)},"Matrix, Array":function(t,r){return v(t,e(r))},"SparseMatrix, any":function(t,r){return l(t,r,v,!1)},"DenseMatrix, any":function(t,r){return d(t,r,v,!1)},"any, SparseMatrix":function(t,r){return l(r,t,v,!0)},"any, DenseMatrix":function(t,r){return d(r,t,v,!0)},"Array, any":function(t,r){return d(e(t),r,v,!1).valueOf()},"any, Array":function(t,r){return d(e(r),t,v,!0).valueOf()}});return v})),Zn=Lt("larger",["typed","config","matrix","DenseMatrix"],(function(t){var r=t.typed,n=t.config,e=t.matrix,o=t.DenseMatrix,c=jn({typed:r}),f=Yn({typed:r,DenseMatrix:o}),l=Un({typed:r,DenseMatrix:o}),h=qn({typed:r}),d=kn({typed:r}),v=r("larger",{"boolean, boolean":function(t,r){return t>r},"number, number":function(t,r){return t>r&&!_t(t,r,n.epsilon)},"BigNumber, BigNumber":function(t,r){return t.gt(r)&&!_r(t,r,n.epsilon)},"Fraction, Fraction":function(t,r){return 1===t.compare(r)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,r){if(!t.equalBase(r))throw new Error("Cannot compare units with different base");return v(t.value,r.value)},"SparseMatrix, SparseMatrix":function(t,r){return f(t,r,v)},"SparseMatrix, DenseMatrix":function(t,r){return c(r,t,v,!0)},"DenseMatrix, SparseMatrix":function(t,r){return c(t,r,v,!1)},"DenseMatrix, DenseMatrix":function(t,r){return h(t,r,v)},"Array, Array":function(t,r){return v(e(t),e(r)).valueOf()},"Array, Matrix":function(t,r){return v(e(t),r)},"Matrix, Array":function(t,r){return v(t,e(r))},"SparseMatrix, any":function(t,r){return l(t,r,v,!1)},"DenseMatrix, any":function(t,r){return d(t,r,v,!1)},"any, SparseMatrix":function(t,r){return l(r,t,v,!0)},"any, DenseMatrix":function(t,r){return d(r,t,v,!0)},"Array, any":function(t,r){return d(e(t),r,v,!1).valueOf()},"any, Array":function(t,r){return d(e(r),t,v,!0).valueOf()}});return v}));Lt("unequal",["typed","equalScalar"],(function(t){var r=t.typed,n=t.equalScalar;return r("unequal",{"any, any":function(t,r){return null===t?null!==r:null===r?null!==t:void 0===t?void 0!==r:void 0===r?void 0!==t:!n(t,r)}})}));var $n=Lt("FibonacciHeap",["smaller","larger"],(function(t){var r=t.smaller,n=t.larger,e=1/Math.log((1+Math.sqrt(5))/2);function o(){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function c(t,r,n){r.left.right=r.right,r.right.left=r.left,n.degree--,n.child===r&&(n.child=r.right),0===n.degree&&(n.child=null),r.left=t,r.right=t.right,t.right=r,r.right.left=r,r.parent=null,r.mark=!1}o.prototype.type="FibonacciHeap",o.prototype.isFibonacciHeap=!0,o.prototype.insert=function(t,n){var e={key:t,value:n,degree:0};if(this._minimum){var o=this._minimum;e.left=o,e.right=o.right,o.right=e,e.right.left=e,r(t,o.key)&&(this._minimum=e)}else e.left=e,e.right=e,this._minimum=e;return this._size++,e},o.prototype.size=function(){return this._size},o.prototype.clear=function(){this._minimum=null,this._size=0},o.prototype.isEmpty=function(){return 0===this._size},o.prototype.extractMinimum=function(){var t=this._minimum;if(null===t)return t;for(var o=this._minimum,c=t.degree,l=t.child;c>0;){var h=l.right;l.left.right=l.right,l.right.left=l.left,l.left=o,l.right=o.right,o.right=l,l.right.left=l,l.parent=null,l=h,c--}return t.left.right=t.right,t.right.left=t.left,o=t===t.right?null:function(t,o){var c,l=Math.floor(Math.log(o)*e)+1,h=new Array(l),d=0,v=t;if(v)for(d++,v=v.right;v!==t;)d++,v=v.right;for(;d>0;){for(var m=v.degree,y=v.right;c=h[m];){if(n(v.key,c.key)){var w=c;c=v,v=w}f(c,v),h[m]=null,m++}h[m]=v,v=y,d--}t=null;for(var i=0;i<l;i++)(c=h[i])&&(t?(c.left.right=c.right,c.right.left=c.left,c.left=t,c.right=t.right,t.right=c,c.right.left=c,r(c.key,t.key)&&(t=c)):t=c);return t}(o=t.right,this._size),this._size--,this._minimum=o,t},o.prototype.remove=function(t){this._minimum=function(t,n,e){n.key=e;var o=n.parent;o&&r(n.key,o.key)&&(c(t,n,o),function t(r,n){var e=n.parent;if(!e)return;n.mark?(c(r,n,e),t(e)):n.mark=!0}(t,o));r(n.key,t.key)&&(t=n);return t}(this._minimum,t,-1),this.extractMinimum()};var f=function(t,r){t.left.right=t.right,t.right.left=t.left,t.parent=r,r.child?(t.left=r.child,t.right=r.child.right,r.child.right=t,t.right.left=t):(r.child=t,t.right=t,t.left=t),r.degree++,t.mark=!1};return o}),{isClass:!0}),Jn=Lt("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],(function(t){var r=t.typed,n=t.matrix,e=t.addScalar,o=t.equalScalar,c=t.DenseMatrix,f=(t.SparseMatrix,In({typed:r})),l=Fn({typed:r,equalScalar:o}),h=Tn({typed:r,DenseMatrix:c}),d=qn({typed:r}),v=kn({typed:r}),m=r("add",tt({"DenseMatrix, DenseMatrix":function(t,r){return d(t,r,e)},"DenseMatrix, SparseMatrix":function(t,r){return f(t,r,e,!1)},"SparseMatrix, DenseMatrix":function(t,r){return f(r,t,e,!0)},"SparseMatrix, SparseMatrix":function(t,r){return l(t,r,e)},"Array, Array":function(t,r){return m(n(t),n(r)).valueOf()},"Array, Matrix":function(t,r){return m(n(t),r)},"Matrix, Array":function(t,r){return m(t,n(r))},"DenseMatrix, any":function(t,r){return v(t,r,e,!1)},"SparseMatrix, any":function(t,r){return h(t,r,e,!1)},"any, DenseMatrix":function(t,r){return v(r,t,e,!0)},"any, SparseMatrix":function(t,r){return h(r,t,e,!0)},"Array, any":function(t,r){return v(n(t),r,e,!1).valueOf()},"any, Array":function(t,r){return v(n(r),t,e,!0).valueOf()},"any, any":e,"any, any, ...any":function(t,r,n){for(var e=m(t,r),i=0;i<n.length;i++)e=m(e,n[i]);return e}},e.signatures));return m})),Kn=Lt("abs",["typed"],(function(t){var r=(0,t.typed)("abs",{number:Dr,Complex:function(t){return t.abs()},BigNumber:function(t){return t.abs()},Fraction:function(t){return t.abs()},"Array | Matrix":function(t){return gr(t,r,!0)},Unit:function(t){return t.abs()}});return r})),Qn=Lt("multiply",["typed","matrix","addScalar","multiplyScalar","equalScalar"],(function(t){var r=t.typed,n=t.matrix,e=t.addScalar,o=t.multiplyScalar,c=t.equalScalar,f=Ln({typed:r,equalScalar:c}),l=kn({typed:r}),h=r("multiply",tt({"Array, Array":function(t,r){d(Rt(t),Rt(r));var e=h(n(t),n(r));return y(e)?e.valueOf():e},"Matrix, Matrix":function(t,n){var c=t.size(),f=n.size();return d(c,f),1===c.length?1===f.length?function(a,b,t){if(0===t)throw new Error("Cannot multiply two empty vectors");var dt,n=a._data,c=a._datatype,f=b._data,l=b._datatype,h=e,d=o;c&&l&&c===l&&"string"==typeof c&&(dt=c,h=r.find(e,[dt,dt]),d=r.find(o,[dt,dt]));for(var v=d(n[0],f[0]),i=1;i<t;i++)v=h(v,d(n[i],f[i]));return v}(t,n,c[0]):function(a,b){if("dense"!==b.storage())throw new Error("Support for SparseMatrix not implemented");return function(a,b){var dt,t=a._data,n=a._size,c=a._datatype,f=b._data,l=b._size,h=b._datatype,d=n[0],v=l[1],m=e,y=o;c&&h&&c===h&&"string"==typeof c&&(dt=c,m=r.find(e,[dt,dt]),y=r.find(o,[dt,dt]));for(var w=[],x=0;x<v;x++){for(var M=y(t[0],f[0][x]),i=1;i<d;i++)M=m(M,y(t[i],f[i][x]));w[x]=M}return a.createDenseMatrix({data:w,size:[v],datatype:dt})}(a,b)}(t,n):1===f.length?v(t,n):m(t,n)},"Matrix, Array":function(t,r){return h(t,n(r))},"Array, Matrix":function(t,r){return h(n(t,r.storage()),r)},"SparseMatrix, any":function(t,r){return f(t,r,o,!1)},"DenseMatrix, any":function(t,r){return l(t,r,o,!1)},"any, SparseMatrix":function(t,r){return f(r,t,o,!0)},"any, DenseMatrix":function(t,r){return l(r,t,o,!0)},"Array, any":function(t,r){return l(n(t),r,o,!1).valueOf()},"any, Array":function(t,r){return l(n(r),t,o,!0).valueOf()},"any, any":o,"any, any, ...any":function(t,r,n){for(var e=h(t,r),i=0;i<n.length;i++)e=h(e,n[i]);return e}},o.signatures));function d(t,r){switch(t.length){case 1:switch(r.length){case 1:if(t[0]!==r[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(t[0]!==r[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+t[0]+") must match Matrix rows ("+r[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+r.length+" dimensions)")}break;case 2:switch(r.length){case 1:if(t[1]!==r[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+t[1]+") must match Vector length ("+r[0]+")");break;case 2:if(t[1]!==r[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+t[1]+") must match Matrix B rows ("+r[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+r.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+t.length+" dimensions)")}}var v=r("_multiplyMatrixVector",{"DenseMatrix, any":function(a,b){var dt,t=a._data,n=a._size,c=a._datatype,f=b._data,l=b._datatype,h=n[0],d=n[1],v=e,m=o;c&&l&&c===l&&"string"==typeof c&&(dt=c,v=r.find(e,[dt,dt]),m=r.find(o,[dt,dt]));for(var y=[],i=0;i<h;i++){for(var w=t[i],x=m(w[0],f[0]),M=1;M<d;M++)x=v(x,m(w[M],f[M]));y[i]=x}return a.createDenseMatrix({data:y,size:[h],datatype:dt})},"SparseMatrix, any":function(a,b){var t=a._values,n=a._index,f=a._ptr,l=a._datatype;if(!t)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var dt,h=b._data,d=b._datatype,v=a._size[0],m=b._size[0],y=[],w=[],x=[],M=e,_=o,E=c,S=0;l&&d&&l===d&&"string"==typeof l&&(dt=l,M=r.find(e,[dt,dt]),_=r.find(o,[dt,dt]),E=r.find(c,[dt,dt]),S=r.convert(0,dt));var N=[],D=[];x[0]=0;for(var z=0;z<m;z++){var O=h[z];if(!E(O,S))for(var C=f[z],A=f[z+1],B=C;B<A;B++){var P=n[B];D[P]?N[P]=M(N[P],_(O,t[B])):(D[P]=!0,w.push(P),N[P]=_(O,t[B]))}}for(var R=w.length,p=0;p<R;p++){var I=w[p];y[p]=N[I]}return x[1]=w.length,a.createSparseMatrix({values:y,index:w,ptr:x,size:[v,1],datatype:dt})}}),m=r("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(a,b){var dt,t=a._data,n=a._size,c=a._datatype,f=b._data,l=b._size,h=b._datatype,d=n[0],v=n[1],m=l[1],y=e,w=o;c&&h&&c===h&&"string"==typeof c&&(dt=c,y=r.find(e,[dt,dt]),w=r.find(o,[dt,dt]));for(var x=[],i=0;i<d;i++){var M=t[i];x[i]=[];for(var _=0;_<m;_++){for(var E=w(M[0],f[0][_]),S=1;S<v;S++)E=y(E,w(M[S],f[S][_]));x[i][_]=E}}return a.createDenseMatrix({data:x,size:[d,m],datatype:dt})},"DenseMatrix, SparseMatrix":function(a,b){var t=a._data,n=a._size,f=a._datatype,l=b._values,h=b._index,d=b._ptr,v=b._size,m=b._datatype;if(!l)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var dt,y=n[0],w=v[1],x=e,M=o,_=c,E=0;f&&m&&f===m&&"string"==typeof f&&(dt=f,x=r.find(e,[dt,dt]),M=r.find(o,[dt,dt]),_=r.find(c,[dt,dt]),E=r.convert(0,dt));for(var S=[],N=[],D=[],z=b.createSparseMatrix({values:S,index:N,ptr:D,size:[y,w],datatype:dt}),O=0;O<w;O++){D[O]=N.length;var C=d[O],A=d[O+1];if(A>C)for(var B=0,i=0;i<y;i++){for(var mark=i+1,P=void 0,R=C;R<A;R++){var I=h[R];B!==mark?(P=M(t[i][I],l[R]),B=mark):P=x(P,M(t[i][I],l[R]))}B!==mark||_(P,E)||(N.push(i),S.push(P))}}return D[w]=N.length,z},"SparseMatrix, DenseMatrix":function(a,b){var t=a._values,n=a._index,f=a._ptr,l=a._datatype;if(!t)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var dt,h=b._data,d=b._datatype,v=a._size[0],m=b._size[0],y=b._size[1],w=e,x=o,M=c,_=0;l&&d&&l===d&&"string"==typeof l&&(dt=l,w=r.find(e,[dt,dt]),x=r.find(o,[dt,dt]),M=r.find(c,[dt,dt]),_=r.convert(0,dt));for(var E=[],S=[],N=[],D=a.createSparseMatrix({values:E,index:S,ptr:N,size:[v,y],datatype:dt}),z=[],O=[],C=0;C<y;C++){N[C]=S.length;for(var mark=C+1,A=0;A<m;A++){var B=h[A][C];if(!M(B,_))for(var P=f[A],R=f[A+1],I=P;I<R;I++){var F=n[I];O[F]!==mark?(O[F]=mark,S.push(F),z[F]=x(B,t[I])):z[F]=w(z[F],x(B,t[I]))}}for(var T=N[C],k=S.length,p=T;p<k;p++){var j=S[p];E[p]=z[j]}}return N[y]=S.length,D},"SparseMatrix, SparseMatrix":function(a,b){var dt,t=a._values,n=a._index,c=a._ptr,f=a._datatype,l=b._values,h=b._index,d=b._ptr,v=b._datatype,m=a._size[0],y=b._size[1],w=t&&l,x=e,M=o;f&&v&&f===v&&"string"==typeof f&&(dt=f,x=r.find(e,[dt,dt]),M=r.find(o,[dt,dt]));for(var _,E,S,N,D,z,O,C,A=w?[]:void 0,B=[],P=[],R=a.createSparseMatrix({values:A,index:B,ptr:P,size:[m,y],datatype:dt}),I=w?[]:void 0,F=[],T=0;T<y;T++){P[T]=B.length;var mark=T+1;for(D=d[T],z=d[T+1],N=D;N<z;N++)if(C=h[N],w)for(E=c[C],S=c[C+1],_=E;_<S;_++)O=n[_],F[O]!==mark?(F[O]=mark,B.push(O),I[O]=M(l[N],t[_])):I[O]=x(I[O],M(l[N],t[_]));else for(E=c[C],S=c[C+1],_=E;_<S;_++)O=n[_],F[O]!==mark&&(F[O]=mark,B.push(O));if(w)for(var k=P[T],j=B.length,p=k;p<j;p++){var G=B[p];A[p]=I[G]}}return P[y]=B.length,R}});return h}));function te(t,r,n,e){if(!(this instanceof te))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=r,this.min=n,this.max=e,this.message="Wrong number of arguments in function "+t+" ("+r+" provided, "+n+(null!=e?"-"+e:"")+" expected)",this.stack=(new Error).stack}te.prototype=new Error,te.prototype.constructor=Error,te.prototype.name="ArgumentsError",te.prototype.isArgumentsError=!0;var re=Lt("pow",["typed","config","identity","multiply","matrix","fraction","number","Complex"],(function(t){var r=t.typed,n=t.config,e=t.identity,o=t.multiply,c=t.matrix,f=t.number,l=t.fraction,h=t.Complex;return r("pow",{"number, number":d,"Complex, Complex":function(t,r){return t.pow(r)},"BigNumber, BigNumber":function(t,r){return r.isInteger()||t>=0||n.predictable?t.pow(r):new h(t.toNumber(),0).pow(r.toNumber(),0)},"Fraction, Fraction":function(t,r){if(1!==r.d){if(n.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return d(t.valueOf(),r.valueOf())}return t.pow(r)},"Array, number":v,"Array, BigNumber":function(t,r){return v(t,r.toNumber())},"Matrix, number":m,"Matrix, BigNumber":function(t,r){return m(t,r.toNumber())},"Unit, number | BigNumber":function(t,r){return t.pow(r)}});function d(t,r){if(n.predictable&&!ut(r)&&t<0)try{var e=l(r),o=f(e);if((r===o||Math.abs((r-o)/r)<1e-14)&&e.d%2==1)return(e.n%2==0?1:-1)*Math.pow(-t,r)}catch(t){}return n.predictable&&(t<-1&&r===1/0||t>-1&&t<0&&r===-1/0)?NaN:ut(r)||t>=0||n.predictable?Wr(t,r):t*t<1&&r===1/0||t*t>1&&r===-1/0?0:new h(t,0).pow(r,0)}function v(t,r){if(!ut(r)||r<0)throw new TypeError("For A^b, b must be a positive integer (value is "+r+")");var s=Rt(t);if(2!==s.length)throw new Error("For A^b, A must be 2 dimensional (A has "+s.length+" dimensions)");if(s[0]!==s[1])throw new Error("For A^b, A must be square (size is "+s[0]+"x"+s[1]+")");for(var n=e(s[0]).valueOf(),c=t;r>=1;)1==(1&r)&&(n=o(c,n)),r>>=1,c=o(c,c);return n}function m(t,r){return c(v(t.valueOf(),r))}}));n(275);var ne=Lt("largerEq",["typed","config","matrix","DenseMatrix"],(function(t){var r=t.typed,n=t.config,e=t.matrix,o=t.DenseMatrix,c=jn({typed:r}),f=Yn({typed:r,DenseMatrix:o}),l=Un({typed:r,DenseMatrix:o}),h=qn({typed:r}),d=kn({typed:r}),v=r("largerEq",{"boolean, boolean":function(t,r){return t>=r},"number, number":function(t,r){return t>=r||_t(t,r,n.epsilon)},"BigNumber, BigNumber":function(t,r){return t.gte(r)||_r(t,r,n.epsilon)},"Fraction, Fraction":function(t,r){return-1!==t.compare(r)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,r){if(!t.equalBase(r))throw new Error("Cannot compare units with different base");return v(t.value,r.value)},"SparseMatrix, SparseMatrix":function(t,r){return f(t,r,v)},"SparseMatrix, DenseMatrix":function(t,r){return c(r,t,v,!0)},"DenseMatrix, SparseMatrix":function(t,r){return c(t,r,v,!1)},"DenseMatrix, DenseMatrix":function(t,r){return h(t,r,v)},"Array, Array":function(t,r){return v(e(t),e(r)).valueOf()},"Array, Matrix":function(t,r){return v(e(t),r)},"Matrix, Array":function(t,r){return v(t,e(r))},"SparseMatrix, any":function(t,r){return l(t,r,v,!1)},"DenseMatrix, any":function(t,r){return d(t,r,v,!1)},"any, SparseMatrix":function(t,r){return l(r,t,v,!0)},"any, DenseMatrix":function(t,r){return d(r,t,v,!0)},"Array, any":function(t,r){return d(e(t),r,v,!1).valueOf()},"any, Array":function(t,r){return d(e(r),t,v,!0).valueOf()}});return v})),ee=Lt("Spa",["addScalar","equalScalar","FibonacciHeap"],(function(t){var r=t.addScalar,n=t.equalScalar,e=t.FibonacciHeap;function o(){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new e}return o.prototype.type="Spa",o.prototype.isSpa=!0,o.prototype.set=function(i,t){if(this._values[i])this._values[i].value=t;else{var r=this._heap.insert(i,t);this._values[i]=r}},o.prototype.get=function(i){var t=this._values[i];return t?t.value:0},o.prototype.accumulate=function(i,t){var n=this._values[i];n?n.value=r(n.value,t):(n=this._heap.insert(i,t),this._values[i]=n)},o.prototype.forEach=function(t,r,e){var o=this._heap,c=this._values,f=[],l=o.extractMinimum();for(l&&f.push(l);l&&l.key<=r;)l.key>=t&&(n(l.value,0)||e(l.key,l.value,this)),(l=o.extractMinimum())&&f.push(l);for(var i=0;i<f.length;i++){var h=f[i];c[(l=o.insert(h.key,h.value)).key]=l}},o.prototype.swap=function(i,t){var r=this._values[i],n=this._values[t];if(!r&&n)r=this._heap.insert(i,n.value),this._heap.remove(n),this._values[i]=r,this._values[t]=void 0;else if(r&&!n)n=this._heap.insert(t,r.value),this._heap.remove(r),this._values[t]=n,this._values[i]=void 0;else if(r&&n){var e=r.value;r.value=n.value,n.value=e}},o}),{isClass:!0}),ie=Lt("norm",["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix"],(function(t){var r=t.typed,n=t.abs,e=t.add,o=t.pow,c=t.conj,f=t.sqrt,l=t.multiply,h=t.equalScalar,d=t.larger,v=t.smaller,m=t.matrix,y=r("norm",{number:Math.abs,Complex:function(t){return t.abs()},BigNumber:function(t){return t.abs()},boolean:function(t){return Math.abs(t)},Array:function(t){return w(m(t),2)},Matrix:function(t){return w(t,2)},"number | Complex | BigNumber | boolean, number | BigNumber | string":function(t){return y(t)},"Array, number | BigNumber | string":function(t,p){return w(m(t),p)},"Matrix, number | BigNumber | string":function(t,p){return w(t,p)}});function w(t,p){var r=t.size();if(1===r.length){if(p===Number.POSITIVE_INFINITY||"inf"===p){var m=0;return t.forEach((function(t){var r=n(t);d(r,m)&&(m=r)}),!0),m}var y;if(p===Number.NEGATIVE_INFINITY||"-inf"===p)return t.forEach((function(t){var r=n(t);y&&!v(r,y)||(y=r)}),!0),y||0;if("fro"===p)return w(t,2);if("number"==typeof p&&!isNaN(p)){if(!h(p,0)){var x=0;return t.forEach((function(t){x=e(o(n(t),p),x)}),!0),o(x,1/p)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}if(2===r.length){if(1===p){var M=[],_=0;return t.forEach((function(t,r){var o=r[1],c=e(M[o]||0,n(t));d(c,_)&&(_=c),M[o]=c}),!0),_}if(p===Number.POSITIVE_INFINITY||"inf"===p){var E=[],S=0;return t.forEach((function(t,r){var i=r[0],o=e(E[i]||0,n(t));d(o,S)&&(S=o),E[i]=o}),!0),S}if("fro"===p){var N=0;return t.forEach((function(t,r){N=e(N,l(t,c(t)))})),n(f(N))}if(2===p)throw new Error("Unsupported parameter value, missing implementation of matrix singular value decomposition");throw new Error("Unsupported parameter value")}}return y}));function oe(t){var r;if(ut(t))return t<=0?isFinite(t)?1/0:NaN:t>171?1/0:Sn(1,t-1);if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*oe(1-t));if(t>=171.35)return 1/0;if(t>85){var n=t*t,e=n*t,o=e*t,c=o*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*n)-139/(51840*e)-571/(2488320*o)+163879/(209018880*c)+5246819/(75246796800*c*t))}--t,r=se[0];for(var i=1;i<se.length;++i)r+=se[i]/(t+i);var f=t+ae+.5;return Math.sqrt(2*Math.PI)*Math.pow(f,t+.5)*Math.exp(-f)*r}oe.signature="number";var ae=4.7421875,se=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],ue=Lt("bignumber",["typed","BigNumber"],(function(t){var r=t.typed,n=t.BigNumber,e=r("bignumber",{"":function(){return new n(0)},number:function(t){return new n(t+"")},string:function(t){return new n(t)},BigNumber:function(t){return t},Fraction:function(t){return new n(t.n).div(t.d).times(t.s)},null:function(t){return new n(0)},"Array | Matrix":function(t){return gr(t,e)}});return e})),ce=Lt("transpose",["typed","matrix"],(function(t){var r=t.typed,n=t.matrix,e=r("transpose",{Array:function(t){return e(n(t)).valueOf()},Matrix:function(t){var r,n=t.size();switch(n.length){case 1:r=t.clone();break;case 2:var e=n[0],o=n[1];if(0===o)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+At(n)+")");switch(t.storage()){case"dense":r=function(t,r,n){for(var e,data=t._data,o=[],c=0;c<n;c++){e=o[c]=[];for(var i=0;i<r;i++)e[i]=K(data[i][c])}return t.createDenseMatrix({data:o,size:[n,r],datatype:t._datatype})}(t,e,o);break;case"sparse":r=function(t,r,n){for(var p,e,o,c=t._values,f=t._index,l=t._ptr,h=c?[]:void 0,d=[],v=[],m=[],y=0;y<r;y++)m[y]=0;for(p=0,e=f.length;p<e;p++)m[f[p]]++;for(var w=0,i=0;i<r;i++)v.push(w),w+=m[i],m[i]=v[i];for(v.push(w),o=0;o<n;o++)for(var x=l[o],M=l[o+1],_=x;_<M;_++){var q=m[f[_]]++;d[q]=o,c&&(h[q]=K(c[_]))}return t.createSparseMatrix({values:h,index:d,ptr:v,size:[n,r],datatype:t._datatype})}(t,e,o)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+At(this._size)+")")}return r},any:function(t){return K(t)}});return e})),fe=Lt("numeric",["number","?bignumber","?fraction"],(function(t){var r=t.number,n=t.bignumber,e=t.fraction,o={string:!0,number:!0,BigNumber:!0,Fraction:!0},c={number:function(t){return r(t)},BigNumber:n?function(t){return n(t)}:Hn,Fraction:e?function(t){return e(t)}:Wn};return function(t,r){var n=$(t);if(!(n in o))throw new TypeError("Cannot convert "+t+' of type "'+n+'"; valid input types are '+Object.keys(o).join(", "));if(!(r in c))throw new TypeError("Cannot convert "+t+' to type "'+r+'"; valid output types are '+Object.keys(c).join(", "));return r===n?t:c[r](t)}}));var le=Lt("subtract",["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],(function(t){var r=t.typed,n=t.matrix,e=t.equalScalar,o=t.addScalar,c=t.unaryMinus,f=t.DenseMatrix,l=In({typed:r}),h=jn({typed:r}),d=Gn({typed:r,equalScalar:e}),v=Tn({typed:r,DenseMatrix:f}),m=qn({typed:r}),y=kn({typed:r}),w=r("subtract",{"number, number":function(t,r){return t-r},"Complex, Complex":function(t,r){return t.sub(r)},"BigNumber, BigNumber":function(t,r){return t.minus(r)},"Fraction, Fraction":function(t,r){return t.sub(r)},"Unit, Unit":function(t,r){if(null===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===r.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(r))throw new Error("Units do not match");var n=t.clone();return n.value=w(n.value,r.value),n.fixPrefix=!1,n},"SparseMatrix, SparseMatrix":function(t,r){return pe(t,r),d(t,r,w)},"SparseMatrix, DenseMatrix":function(t,r){return pe(t,r),h(r,t,w,!0)},"DenseMatrix, SparseMatrix":function(t,r){return pe(t,r),l(t,r,w,!1)},"DenseMatrix, DenseMatrix":function(t,r){return pe(t,r),m(t,r,w)},"Array, Array":function(t,r){return w(n(t),n(r)).valueOf()},"Array, Matrix":function(t,r){return w(n(t),r)},"Matrix, Array":function(t,r){return w(t,n(r))},"SparseMatrix, any":function(t,r){return v(t,c(r),o)},"DenseMatrix, any":function(t,r){return y(t,r,w)},"any, SparseMatrix":function(t,r){return v(r,t,w,!0)},"any, DenseMatrix":function(t,r){return y(r,t,w,!0)},"Array, any":function(t,r){return y(n(t),r,w,!1).valueOf()},"any, Array":function(t,r){return y(n(r),t,w,!0).valueOf()}});return w}));function pe(t,r){var n=t.size(),e=r.size();if(n.length!==e.length)throw new Bt(n.length,e.length)}Lt("equal",["typed","equalScalar"],(function(t){var r=t.typed,n=t.equalScalar;return r("equal",{"any, any":function(t,r){return null===t?null===r:null===r?null===t:void 0===t?void 0===r:void 0===r?void 0===t:n(t,r)}})}));var he=Lt("divideScalar",["typed","numeric"],(function(t){var r=t.typed,n=t.numeric,e=r("divideScalar",{"number, number":function(t,r){return t/r},"Complex, Complex":function(t,r){return t.div(r)},"BigNumber, BigNumber":function(t,r){return t.div(r)},"Fraction, Fraction":function(t,r){return t.div(r)},"Unit, number | Fraction | BigNumber":function(t,r){var o=t.clone(),c=n(1,$(r));return o.value=e(null===o.value?o._normalize(c):o.value,r),o},"number | Fraction | BigNumber, Unit":function(t,r){var o=r.clone();o=o.pow(-1);var c=n(1,$(t));return o.value=e(t,null===r.value?r._normalize(c):r.value),o},"Unit, Unit":function(t,r){return t.divide(r)}});return e}));function de(t){var r=t.DenseMatrix;return function(t,b,n){var e=t.size();if(2!==e.length)throw new RangeError("Matrix must be two dimensional (size: "+At(e)+")");var data,i,o,c=e[0];if(c!==e[1])throw new RangeError("Matrix must be square (size: "+At(e)+")");if(y(b)){var f=b.size();if(1===f.length){if(f[0]!==c)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(data=[],o=b._data,i=0;i<c;i++)data[i]=[o[i]];return new r({data:data,size:[c,1],datatype:b._datatype})}if(2===f.length){if(f[0]!==c||1!==f[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(w(b)){if(n){for(data=[],o=b._data,i=0;i<c;i++)data[i]=[o[i][0]];return new r({data:data,size:[c,1],datatype:b._datatype})}return b}for(data=[],i=0;i<c;i++)data[i]=[0];for(var l=b._values,h=b._index,d=b._ptr,v=d[1],x=d[0];x<v;x++)data[i=h[x]][0]=l[x];return new r({data:data,size:[c,1],datatype:b._datatype})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}if(m(b)){var M=Rt(b);if(1===M.length){if(M[0]!==c)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(data=[],i=0;i<c;i++)data[i]=[b[i]];return new r({data:data,size:[c,1]})}if(2===M.length){if(M[0]!==c||1!==M[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(data=[],i=0;i<c;i++)data[i]=[b[i][0]];return new r({data:data,size:[c,1]})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}}}var ve=Lt("lsolve",["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],(function(t){var r=t.typed,n=t.matrix,e=t.divideScalar,o=t.multiplyScalar,c=t.subtract,f=t.equalScalar,l=t.DenseMatrix,h=de({DenseMatrix:l});return r("lsolve",{"SparseMatrix, Array | Matrix":function(t,b){return function(t,b){for(var i,r,n=(b=h(t,b,!0))._data,d=t._size[0],v=t._size[1],m=t._values,y=t._index,w=t._ptr,x=[],M=0;M<v;M++){var _=n[M][0]||0;if(f(_,0))x[M]=[0];else{var E=0,S=[],N=[],D=w[M+1];for(r=w[M];r<D;r++)(i=y[r])===M?E=m[r]:i>M&&(S.push(m[r]),N.push(i));if(f(E,0))throw new Error("Linear system cannot be solved since matrix is singular");var z=e(_,E);for(r=0,D=N.length;r<D;r++)i=N[r],n[i]=[c(n[i][0]||0,o(z,S[r]))];x[M]=[z]}}return new l({data:x,size:[d,1]})}(t,b)},"DenseMatrix, Array | Matrix":function(t,b){return d(t,b)},"Array, Array | Matrix":function(a,b){return d(n(a),b).valueOf()}});function d(t,b){for(var r=(b=h(t,b,!0))._data,n=t._size[0],d=t._size[1],v=[],data=t._data,m=0;m<d;m++){var y=r[m][0]||0,w=void 0;if(f(y,0))w=0;else{var x=data[m][m];if(f(x,0))throw new Error("Linear system cannot be solved since matrix is singular");w=e(y,x);for(var i=m+1;i<n;i++)r[i]=[c(r[i][0]||0,o(w,data[i][m]))]}v[m]=[w]}return new l({data:v,size:[n,1]})}})),ge=Lt("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],(function(t){var r=t.typed,n=t.matrix,e=t.abs,o=t.addScalar,c=t.divideScalar,f=t.multiplyScalar,l=t.subtract,h=t.larger,d=t.equalScalar,v=t.unaryMinus,m=t.DenseMatrix,y=t.SparseMatrix,w=t.Spa;return r("lup",{DenseMatrix:function(t){return x(t)},SparseMatrix:function(t){return M(t)},Array:function(a){var t=x(n(a));return{L:t.L.valueOf(),U:t.U.valueOf(),p:t.p}}});function x(t){var i,r,n,v=t._size[0],y=t._size[1],w=Math.min(v,y),data=K(t._data),x=[],M=[v,w],_=[],E=[w,y],p=[];for(i=0;i<v;i++)p[i]=i;for(r=0;r<y;r++){if(r>0)for(i=0;i<v;i++){var S=Math.min(i,r),s=0;for(n=0;n<S;n++)s=o(s,f(data[i][n],data[n][r]));data[i][r]=l(data[i][r],s)}var N=r,D=0,z=0;for(i=r;i<v;i++){var O=data[i][r],C=e(O);h(C,D)&&(N=i,D=C,z=O)}if(r!==N&&(p[r]=[p[N],p[N]=p[r]][0],m._swapRows(r,N,data)),r<v)for(i=r+1;i<v;i++){var A=data[i][r];d(A,0)||(data[i][r]=c(data[i][r],z))}}for(r=0;r<y;r++)for(i=0;i<v;i++)0===r&&(i<y&&(_[i]=[]),x[i]=[]),i<r?(i<y&&(_[i][r]=data[i][r]),r<v&&(x[i][r]=0)):i!==r?(i<y&&(_[i][r]=0),r<v&&(x[i][r]=data[i][r])):(i<y&&(_[i][r]=data[i][r]),r<v&&(x[i][r]=1));var B=new m({data:x,size:M}),u=new m({data:_,size:E}),P=[];for(i=0,w=p.length;i<w;i++)P[p[i]]=i;return{L:B,U:u,p:P,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}function M(t){var i,r,n,o=t._size[0],l=t._size[1],m=Math.min(o,l),x=t._values,M=t._index,_=t._ptr,E=[],S=[],N=[],D=[o,m],z=[],O=[],C=[],A=[m,l],B=[],P=[];for(i=0;i<o;i++)B[i]=i,P[i]=i;var R=function(){var t=new w;r<o&&(N.push(E.length),E.push(1),S.push(r)),C.push(z.length);var l=_[r],m=_[r+1];for(n=l;n<m;n++)i=M[n],t.set(B[i],x[n]);r>0&&t.forEach(0,r-1,(function(r,n){y._forEachRow(r,E,S,N,(function(i,e){i>r&&t.accumulate(i,v(f(e,n)))}))}));var R,I,F,T,k=r,j=t.get(r),G=e(j);t.forEach(r+1,o-1,(function(t,r){var n=e(r);h(n,G)&&(k=t,G=n,j=r)})),r!==k&&(y._swapRows(r,k,D[1],E,S,N),y._swapRows(r,k,A[1],z,O,C),t.swap(r,k),I=k,F=P[R=r],T=P[I],B[F]=I,B[T]=R,P[R]=T,P[I]=F),t.forEach(0,o-1,(function(t,n){t<=r?(z.push(n),O.push(t)):(n=c(n,j),d(n,0)||(E.push(n),S.push(t)))}))};for(r=0;r<l;r++)R();return C.push(z.length),N.push(E.length),{L:new y({values:E,index:S,ptr:N,size:D}),U:new y({values:z,index:O,ptr:C,size:A}),p:B,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}));function me(t,r,n,head,e,o,c){var f=0;for(n[c]=t;f>=0;){var p=n[c+f],i=n[head+p];-1===i?(f--,o[r++]=p):(n[head+p]=n[e+i],n[c+ ++f]=i)}return r}function ye(i){return-i-2}var we=Lt("csAmd",["add","multiply","transpose"],(function(t){var r=t.add,n=t.multiply,e=t.transpose;return function(t,a){if(!a||t<=0||t>3)return null;var f=a._size,l=f[0],h=f[1],d=0,v=Math.max(16,10*Math.sqrt(h)),m=function(t,a,o,c,f){var l=e(a);if(1===t&&c===o)return r(a,l);if(2===t){for(var h=l._index,d=l._ptr,v=0,m=0;m<o;m++){var p=d[m];if(d[m]=v,!(d[m+1]-p>f))for(var y=d[m+1];p<y;p++)h[v++]=h[p]}return d[o]=v,a=e(l),n(l,a)}return n(l,a)}(t,a,l,h,v=Math.min(h-2,v));!function(a,t,r){for(var n=a._values,e=a._index,o=a._ptr,c=a._size[1],f=0,l=0;l<c;l++){var p=o[l];for(o[l]=f;p<o[l+1];p++)t(e[p],l,n?n[p]:1,r)&&(e[f]=e[p],n&&(n[f]=n[p]),f++)}o[c]=f,e.splice(f,e.length-f),n&&n.splice(f,n.length-f)}(m,c,null);for(var i,y,w,x,M,_,E,S,N,D,z,O,C,A,B,P,R=m._index,I=m._ptr,F=I[h],T=[],k=[],j=h+1,G=2*(h+1),head=3*(h+1),L=4*(h+1),U=5*(h+1),Y=6*(h+1),X=7*(h+1),H=T,mark=function(t,r,n,e,head,c,f,l,h,d,v,m){for(var y=0;y<t;y++)n[e+y]=r[y+1]-r[y];n[e+t]=0;for(var i=0;i<=t;i++)n[head+i]=-1,c[i]=-1,n[f+i]=-1,n[l+i]=-1,n[h+i]=1,n[d+i]=1,n[v+i]=0,n[m+i]=n[e+i];var mark=o(0,0,n,d,t);return n[v+t]=-2,r[t]=-1,n[d+t]=0,mark}(h,I,k,0,head,H,G,X,j,Y,L,U),W=function(t,r,n,e,o,c,f,l,head,h,d){for(var v=0,i=0;i<t;i++){var m=n[e+i];if(0===m)n[o+i]=-2,v++,r[i]=-1,n[c+i]=0;else if(m>f)n[l+i]=0,n[o+i]=-1,v++,r[i]=ye(t),n[l+t]++;else{var y=n[head+m];-1!==y&&(h[y]=i),n[d+i]=n[head+m],n[head+m]=i}}return v}(h,I,k,U,L,Y,v,j,head,H,G),V=0;W<h;){for(w=-1;V<h&&-1===(w=k[head+V]);V++);-1!==k[G+w]&&(H[k[G+w]]=-1),k[head+V]=k[G+w];var Z=k[L+w],$=k[j+w];W+=$;var J=0;k[j+w]=-$;var p=I[w],K=0===Z?p:F,Q=K;for(x=1;x<=Z+1;x++){for(x>Z?(_=w,E=p,S=k[0+w]-Z):(E=I[_=R[p++]],S=k[0+_]),M=1;M<=S;M++)(N=k[j+(i=R[E++])])<=0||(J+=N,k[j+i]=-N,R[Q++]=i,-1!==k[G+i]&&(H[k[G+i]]=H[i]),-1!==H[i]?k[G+H[i]]=k[G+i]:k[head+k[U+i]]=k[G+i]);_!==w&&(I[_]=ye(w),k[Y+_]=0)}for(0!==Z&&(F=Q),k[U+w]=J,I[w]=K,k[0+w]=Q-K,k[L+w]=-2,mark=o(mark,d,k,Y,h),D=K;D<Q;D++)if(!((z=k[L+(i=R[D])])<=0)){var tt=mark-(N=-k[j+i]);for(p=I[i],O=I[i]+z-1;p<=O;p++)k[Y+(_=R[p])]>=mark?k[Y+_]-=N:0!==k[Y+_]&&(k[Y+_]=k[U+_]+tt)}for(D=K;D<Q;D++){for(C=(O=I[i=R[D]])+k[L+i]-1,A=O,B=0,P=0,p=O;p<=C;p++)if(0!==k[Y+(_=R[p])]){var nt=k[Y+_]-mark;nt>0?(P+=nt,R[A++]=_,B+=_):(I[_]=ye(w),k[Y+_]=0)}k[L+i]=A-O+1;var et=A,it=O+k[0+i];for(p=C+1;p<it;p++){var ot=k[j+(y=R[p])];ot<=0||(P+=ot,R[A++]=y,B+=y)}0===P?(I[i]=ye(w),J-=N=-k[j+i],$+=N,W+=N,k[j+i]=0,k[L+i]=-1):(k[U+i]=Math.min(k[U+i],P),R[A]=R[et],R[et]=R[O],R[O]=w,k[0+i]=A-O+1,B=(B<0?-B:B)%h,k[G+i]=k[X+B],k[X+B]=i,H[i]=B)}for(k[U+w]=J,mark=o(mark+(d=Math.max(d,J)),d,k,Y,h),D=K;D<Q;D++)if(!(k[j+(i=R[D])]>=0))for(i=k[X+(B=H[i])],k[X+B]=-1;-1!==i&&-1!==k[G+i];i=k[G+i],mark++){for(S=k[0+i],z=k[L+i],p=I[i]+1;p<=I[i]+S-1;p++)k[Y+R[p]]=mark;var at=i;for(y=k[G+i];-1!==y;){var st=k[0+y]===S&&k[L+y]===z;for(p=I[y]+1;st&&p<=I[y]+S-1;p++)k[Y+R[p]]!==mark&&(st=0);st?(I[y]=ye(i),k[j+i]+=k[j+y],k[j+y]=0,k[L+y]=-1,y=k[G+y],k[G+at]=y):(at=y,y=k[G+y])}}for(p=K,D=K;D<Q;D++)(N=-k[j+(i=R[D])])<=0||(k[j+i]=N,P=k[U+i]+J-N,-1!==k[head+(P=Math.min(P,h-W-N))]&&(H[k[head+P]]=i),k[G+i]=k[head+P],H[i]=-1,k[head+P]=i,V=Math.min(V,P),k[U+i]=P,R[p++]=i);k[j+w]=$,0==(k[0+w]=p-K)&&(I[w]=-1,k[Y+w]=0),0!==Z&&(F=p)}for(i=0;i<h;i++)I[i]=ye(I[i]);for(y=0;y<=h;y++)k[head+y]=-1;for(y=h;y>=0;y--)k[j+y]>0||(k[G+y]=k[head+I[y]],k[head+I[y]]=y);for(_=h;_>=0;_--)k[j+_]<=0||-1!==I[_]&&(k[G+_]=k[head+I[_]],k[head+I[_]]=_);for(w=0,i=0;i<=h;i++)-1===I[i]&&(w=me(i,w,k,head,G,T,Y));return T.splice(T.length-1,1),T};function o(mark,t,r,n,e){if(mark<2||mark+t<0){for(var o=0;o<e;o++)0!==r[n+o]&&(r[n+o]=1);mark=2}return mark}function c(i,t){return i!==t}}));function be(i,t,r,n,e,o,c){var s,f,q,l=0;if(i<=t||r[n+t]<=r[e+i])return-1;r[e+i]=r[n+t];var h=r[o+i];if(r[o+i]=t,-1===h)l=1,q=i;else{for(l=2,q=h;q!==r[c+q];q=r[c+q]);for(s=h;s!==q;s=f)f=r[c+s],r[c+s]=q}return{jleaf:l,q:q}}var xe=Lt("csCounts",["transpose"],(function(t){var r=t.transpose;return function(a,t,n,e){if(!a||!t||!n)return null;var i,o,c,f,p,l,h,d=a._size,v=d[0],m=d[1],s=4*m+(e?m+v+1:0),y=[],w=m,x=2*m,M=3*m,head=4*m,_=5*m+1;for(c=0;c<s;c++)y[c]=-1;var E=[],S=r(a),N=S._index,D=S._ptr;for(c=0;c<m;c++)for(E[o=n[c]]=-1===y[M+o]?1:0;-1!==o&&-1===y[M+o];o=t[o])y[M+o]=c;if(e){for(c=0;c<m;c++)y[n[c]]=c;for(i=0;i<v;i++){for(c=m,l=D[i],h=D[i+1],p=l;p<h;p++)c=Math.min(c,y[N[p]]);y[_+i]=y[head+c],y[head+c]=i}}for(i=0;i<m;i++)y[0+i]=i;for(c=0;c<m;c++){for(-1!==t[o=n[c]]&&E[t[o]]--,f=e?y[head+c]:o;-1!==f;f=e?y[_+f]:-1)for(p=D[f];p<D[f+1];p++){var z=be(i=N[p],o,y,M,w,x,0);z.jleaf>=1&&E[o]++,2===z.jleaf&&E[z.q]--}-1!==t[o]&&(y[0+o]=t[o])}for(o=0;o<m;o++)-1!==t[o]&&(E[t[o]]+=E[o]);return E}})),Me=Lt("csSqr",["add","multiply","transpose"],(function(t){var r=t.add,n=t.multiply,e=t.transpose,o=we({add:r,multiply:n,transpose:e}),c=xe({transpose:e});return function(t,a,r){var n,e=a._ptr,f=a._size[1],s={};if(s.q=o(t,a),t&&!s.q)return null;if(r){var l=t?function(a,t,q,r){for(var n=a._values,e=a._index,o=a._ptr,c=a._size,f=a._datatype,l=c[0],h=c[1],d=r&&a._values?[]:null,v=[],m=[],y=0,w=0;w<h;w++){m[w]=y;for(var x=q?q[w]:w,M=o[x],_=o[x+1],E=M;E<_;E++){var S=t?t[e[E]]:e[E];v[y]=S,d&&(d[y]=n[E]),y++}}return m[h]=y,a.createSparseMatrix({values:d,index:v,ptr:m,size:[l,h],datatype:f})}(a,null,s.q,0):a;s.parent=function(a,t){if(!a)return null;var i,r,n=a._index,e=a._ptr,o=a._size,c=o[0],f=o[1],l=[],h=[],d=f;if(t)for(i=0;i<c;i++)h[d+i]=-1;for(var v=0;v<f;v++){l[v]=-1,h[0+v]=-1;for(var m=e[v],y=e[v+1],p=m;p<y;p++){var w=n[p];for(i=t?h[d+w]:w;-1!==i&&i<v;i=r)r=h[0+i],h[0+i]=v,-1===r&&(l[i]=v);t&&(h[d+w]=v)}}return l}(l,1);var h=function(t,r){if(!t)return null;var n,e=0,o=[],c=[],f=r,l=2*r;for(n=0;n<r;n++)c[0+n]=-1;for(n=r-1;n>=0;n--)-1!==t[n]&&(c[f+n]=c[0+t[n]],c[0+t[n]]=n);for(n=0;n<r;n++)-1===t[n]&&(e=me(n,e,c,0,f,o,l));return o}(s.parent,f);if(s.cp=c(l,s.parent,h,1),l&&s.parent&&s.cp&&function(a,s){var t=a._ptr,r=a._index,n=a._size,e=n[0],o=n[1];s.pinv=[],s.leftmost=[];var i,c,p,f,l,h=s.parent,d=s.pinv,v=s.leftmost,m=[],head=e,y=e+o,w=e+2*o;for(c=0;c<o;c++)m[head+c]=-1,m[y+c]=-1,m[w+c]=0;for(i=0;i<e;i++)v[i]=-1;for(c=o-1;c>=0;c--)for(f=t[c],l=t[c+1],p=f;p<l;p++)v[r[p]]=c;for(i=e-1;i>=0;i--)d[i]=-1,-1!==(c=v[i])&&(0==m[w+c]++&&(m[y+c]=i),m[0+i]=m[head+c],m[head+c]=i);for(s.lnz=0,s.m2=e,c=0;c<o;c++)if(i=m[head+c],s.lnz++,i<0&&(i=s.m2++),d[i]=c,!(--w[c]<=0)){s.lnz+=m[w+c];var x=h[c];-1!==x&&(0===m[w+x]&&(m[y+x]=m[y+c]),m[0+m[y+c]]=m[head+x],m[head+x]=m[0+i],m[w+x]+=m[w+c])}for(i=0;i<e;i++)d[i]<0&&(d[i]=c++);return!0}(l,s))for(s.unz=0,n=0;n<f;n++)s.unz+=s.cp[n]}else s.unz=4*e[f]+f,s.lnz=s.unz;return s}}));function _e(t,r){return t[r]<0}function Ee(t,r){t[r]=ye(t[r])}function Se(i){return i<0?ye(i):i}function Ne(t,g,r,n,e){var i,p,o,c=g._index,f=g._ptr,l=g._size[1],head=0;for(n[0]=t;head>=0;){t=n[head];var h=e?e[t]:t;_e(f,t)||(Ee(f,t),n[l+head]=h<0?0:Se(f[h]));var d=1;for(p=n[l+head],o=h<0?0:Se(f[h+1]);p<o;p++)if(!_e(f,i=c[p])){n[l+head]=p,n[++head]=i,d=0;break}d&&(head--,n[--r]=t)}return r}var De=Lt("csSpsolve",["divideScalar","multiply","subtract"],(function(t){var r=t.divideScalar,n=t.multiply,e=t.subtract;return function(g,b,t,o,c,f,l){var p,h,d,q,v=g._values,m=g._index,y=g._ptr,w=g._size[1],x=b._values,M=b._index,_=b._ptr,E=function(g,b,t,r,n){var p,e,o,c=g._ptr,f=g._size,l=b._index,h=b._ptr,d=f[1],v=d;for(e=h[t],o=h[t+1],p=e;p<o;p++){var i=l[p];_e(c,i)||(v=Ne(i,g,v,r,n))}for(p=v;p<d;p++)Ee(c,r[p]);return v}(g,b,t,o,f);for(p=E;p<w;p++)c[o[p]]=0;for(h=_[t],d=_[t+1],p=h;p<d;p++)c[M[p]]=x[p];for(var S=E;S<w;S++){var N=o[S],D=f?f[N]:N;if(!(D<0))for(h=y[D],d=y[D+1],c[N]=r(c[N],v[l?h:d-1]),p=l?h+1:h,q=l?d:d-1;p<q;p++){var i=m[p];c[i]=e(c[i],n(v[p],c[N]))}}return E}})),ze=Lt("csLu",["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],(function(t){var r=t.abs,n=t.divideScalar,e=t.multiply,o=t.subtract,c=t.larger,f=t.largerEq,l=t.SparseMatrix,h=De({divideScalar:n,multiply:e,subtract:o});return function(t,s,o){if(!t)return null;var q,d=t._size[1],v=100,m=100;s&&(q=s.q,v=s.lnz||v,m=s.unz||m);var i,p,y=[],w=[],x=[],M=new l({values:y,index:w,ptr:x,size:[d,d]}),_=[],E=[],S=[],N=new l({values:_,index:E,ptr:S,size:[d,d]}),D=[],z=[],O=[];for(i=0;i<d;i++)z[i]=0,D[i]=-1,x[i+1]=0;v=0,m=0;for(var C=0;C<d;C++){x[C]=v,S[C]=m;var col=q?q[C]:C,A=h(M,t,col,O,z,D,1),B=-1,a=-1;for(p=A;p<d;p++)if(D[i=O[p]]<0){var P=r(z[i]);c(P,a)&&(a=P,B=i)}else E[m]=D[i],_[m++]=z[i];if(-1===B||a<=0)return null;D[col]<0&&f(r(z[col]),e(a,o))&&(B=col);var R=z[B];for(E[m]=C,_[m++]=R,D[B]=C,w[v]=B,y[v++]=1,p=A;p<d;p++)D[i=O[p]]<0&&(w[v]=i,y[v++]=n(z[i],R)),z[i]=0}for(x[d]=v,S[d]=m,p=0;p<v;p++)w[p]=D[w[p]];return y.splice(v,y.length-v),w.splice(v,w.length-v),_.splice(m,_.length-m),E.splice(m,E.length-m),{L:M,U:N,pinv:D}}})),Oe=Lt("slu",["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],(function(t){var r=t.typed,n=t.abs,e=t.add,o=t.multiply,c=t.transpose,f=t.divideScalar,l=t.subtract,h=t.larger,d=t.largerEq,v=t.SparseMatrix,m=Me({add:e,multiply:o,transpose:c}),y=ze({abs:n,divideScalar:f,multiply:o,subtract:l,larger:h,largerEq:d,SparseMatrix:v});return r("slu",{"SparseMatrix, number, number":function(a,t,r){if(!ut(t)||t<0||t>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(r<0||r>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var s=m(t,a,!1),n=y(a,s,r);return{L:n.L,U:n.U,p:n.pinv,q:s.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}));var Ce=Lt("usolve",["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],(function(t){var r=t.typed,n=t.matrix,e=t.divideScalar,o=t.multiplyScalar,c=t.subtract,f=t.equalScalar,l=t.DenseMatrix,h=de({DenseMatrix:l});return r("usolve",{"SparseMatrix, Array | Matrix":function(t,b){return function(t,b){for(var i,r,n=(b=h(t,b,!0))._data,d=t._size[0],v=t._size[1],m=t._values,y=t._index,w=t._ptr,x=[],M=v-1;M>=0;M--){var _=n[M][0]||0;if(f(_,0))x[M]=[0];else{var E=0,S=[],N=[],D=w[M],z=w[M+1];for(r=z-1;r>=D;r--)(i=y[r])===M?E=m[r]:i<M&&(S.push(m[r]),N.push(i));if(f(E,0))throw new Error("Linear system cannot be solved since matrix is singular");var O=e(_,E);for(r=0,z=N.length;r<z;r++)i=N[r],n[i]=[c(n[i][0],o(O,S[r]))];x[M]=[O]}}return new l({data:x,size:[d,1]})}(t,b)},"DenseMatrix, Array | Matrix":function(t,b){return d(t,b)},"Array, Array | Matrix":function(a,b){return d(n(a),b).valueOf()}});function d(t,b){for(var r=(b=h(t,b,!0))._data,n=t._size[0],d=t._size[1],v=[],data=t._data,m=d-1;m>=0;m--){var y=r[m][0]||0,w=void 0;if(f(y,0))w=0;else{var x=data[m][m];if(f(x,0))throw new Error("Linear system cannot be solved since matrix is singular");w=e(y,x);for(var i=m-1;i>=0;i--)r[i]=[c(r[i][0]||0,o(w,data[i][m]))]}v[m]=[w]}return new l({data:v,size:[n,1]})}}));function Ae(p,b){var t,r=b.length,n=[];if(p)for(t=0;t<r;t++)n[p[t]]=b[t];else for(t=0;t<r;t++)n[t]=b[t];return n}var Be=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],Pe=Lt("lusolve",Be,(function(t){var r=t.typed,n=t.matrix,e=t.lup,o=t.slu,c=t.usolve,f=t.lsolve,l=de({DenseMatrix:t.DenseMatrix});return r("lusolve",{"Array, Array | Matrix":function(a,b){a=n(a);var t=e(a);return d(t.L,t.U,t.p,null,b).valueOf()},"DenseMatrix, Array | Matrix":function(a,b){var t=e(a);return d(t.L,t.U,t.p,null,b)},"SparseMatrix, Array | Matrix":function(a,b){var t=e(a);return d(t.L,t.U,t.p,null,b)},"SparseMatrix, Array | Matrix, number, number":function(a,b,t,r){var n=o(a,t,r);return d(n.L,n.U,n.p,n.q,b)},"Object, Array | Matrix":function(t,b){return d(t.L,t.U,t.p,t.q,b)}});function h(a){if(y(a))return a;if(m(a))return n(a);throw new TypeError("Invalid Matrix LU decomposition")}function d(t,u,p,q,b){t=h(t),u=h(u),b=l(t,b,!1),p&&(b._data=Ae(p,b._data));var r=f(t,b),n=c(u,r);return q&&(n._data=Ae(q,n._data)),n}})),Re=Wt({}),Ie=rr({config:st}),Fe=nr({}),Te=ar({}),qe=sr({Matrix:Fe}),ke=lr({BigNumber:Ie,Complex:Re,DenseMatrix:qe,Fraction:Te}),je=Er({config:st,typed:ke}),Ge=Sr({typed:ke}),Le=Zr({typed:ke}),Ue=zn({Fraction:Te,typed:ke}),Ye=On({typed:ke}),Xe=Cn({typed:ke}),He=An({Complex:Re,config:st,typed:ke}),We=Bn({typed:ke}),Ve=Pn({Matrix:Fe,equalScalar:je,typed:ke}),Ze=Rn({DenseMatrix:qe,Matrix:Fe,SparseMatrix:Ve,typed:ke}),$e=Xn({BigNumber:Ie,DenseMatrix:qe,SparseMatrix:Ve,config:st,matrix:Ze,typed:ke}),Je=Vn({DenseMatrix:qe,config:st,matrix:Ze,typed:ke}),Ke=Zn({DenseMatrix:qe,config:st,matrix:Ze,typed:ke}),Qe=$n({larger:Ke,smaller:Je}),ti=Jn({DenseMatrix:qe,SparseMatrix:Ve,addScalar:Xe,equalScalar:je,matrix:Ze,typed:ke}),ri=Kn({typed:ke}),ni=Qn({addScalar:Xe,equalScalar:je,matrix:Ze,multiplyScalar:Le,typed:ke}),ei=re({Complex:Re,config:st,fraction:Ue,identity:$e,matrix:Ze,multiply:ni,number:Ge,typed:ke}),ii=ne({DenseMatrix:qe,config:st,matrix:Ze,typed:ke}),oi=ee({FibonacciHeap:Qe,addScalar:Xe,equalScalar:je}),ai=ie({abs:ri,add:ti,conj:We,equalScalar:je,larger:Ke,matrix:Ze,multiply:ni,pow:ei,smaller:Je,sqrt:He,typed:ke}),si=ue({BigNumber:Ie,typed:ke}),ui=ce({matrix:Ze,typed:ke}),ci=fe({bignumber:si,fraction:Ue,number:Ge}),fi=le({DenseMatrix:qe,addScalar:Xe,equalScalar:je,matrix:Ze,typed:ke,unaryMinus:Ye}),pi=he({numeric:ci,typed:ke}),hi=ve({DenseMatrix:qe,divideScalar:pi,equalScalar:je,matrix:Ze,multiplyScalar:Le,subtract:fi,typed:ke}),di=ge({DenseMatrix:qe,Spa:oi,SparseMatrix:Ve,abs:ri,addScalar:Xe,divideScalar:pi,equalScalar:je,larger:Ke,matrix:Ze,multiplyScalar:Le,subtract:fi,typed:ke,unaryMinus:Ye}),vi=Oe({SparseMatrix:Ve,abs:ri,add:ti,divideScalar:pi,larger:Ke,largerEq:ii,multiply:ni,subtract:fi,transpose:ui,typed:ke}),gi=Ce({DenseMatrix:qe,divideScalar:pi,equalScalar:je,matrix:Ze,multiplyScalar:Le,subtract:fi,typed:ke}),mi=Pe({DenseMatrix:qe,lsolve:hi,lup:di,matrix:Ze,slu:vi,typed:ke,usolve:gi})}}]);